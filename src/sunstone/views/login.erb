<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>OpenNebula Sunstone Login</title>

    <!--[if IE]><link rel="shortcut icon" href="images/favicon.ico"><![endif]-->
    <link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon-precomposed.png">
    <link rel="icon" href="images/favicon.png">

    <link rel="stylesheet" type="text/css" href="css/login.css" />

    <% if $conf[:env] == 'dev' %>
      <script src="bower_components/requirejs/require.js" data-main="app/login"></script>
    <% else %>
      <script src="dist/login.js"></script>
    <% end %>
  </head>

  <body>

    <div id="wrapper">
      <div id="logo_sunstone" style="
        background: url(<%=$views_config.logo%>) no-repeat center;
        background-size: 355px;">
      </div>

      <% if (settings.config[:auth] == "x509") || (settings.config[:auth] == "remote") %>
        <%= erb :_login_x509 %>
      <% else %>
        <%= erb :_login_standard %>
      <% end %>

      <div id="two_factor_auth" class="border" style="display: none;">
        <div class="border" id="login">
          <div class="content">
            Two Factor Token
            <input value="" type="text" size="15" name="two_factor_auth_token" id="two_factor_auth_token" class="box"/>
            <button id="two_factor_auth_login" type="button"></button>
	  </div>
        </div>
      </div>
      <div id="error_box" class="hidden alert-box alert" style="display: none">
        <span id="error_message"></span>
        <span id="auth_error"></span>
        <span id="one_error"></span>
      </div>
    </div>

    <div id="footer" style="overflow:visible;">
      <a href="http://opennebula.org" target="_blank">OpenNebula <%= OpenNebula::VERSION %></a>
      by
      <a href="http://opennebula.systems" target="_blank">OpenNebula Systems</a>
      .
    </div>
  </body>
</html>
