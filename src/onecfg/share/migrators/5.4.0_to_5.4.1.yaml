---
patches:
    "/etc/one/vcenter_driver.default":
        class: Simple
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            <VCENTER>
             <VM>
               <TEMPLATE>
                 <NIC>
                   <MODEL>vmxnet3</MODEL>
                 </NIC>
               </TEMPLATE>
             </VM>
             <IMAGE>
               <TEMPLATE>
                 <DEV_PREFIX>sd</DEV_PREFIX>
                 <VCENTER_DISK_TYPE>thin</DISK_TYPE>
                 <VCENTER_ADAPTER_TYPE>lsiLogic</ADAPTER_TYPE>
               </TEMPLATE>
             </IMAGE>
            </VCENTER>
    "/etc/one/ec2_driver.default":
        class: Simple
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #
            <!--
             Default configuration attributes for the EC2 driver
             (all domains will use these values as defaults)
             Valid atributes are: AKI AMI CLIENTTOKEN INSTANCETYPE KEYPAIR LICENSEPOOL
                PLACEMENTGROUP PRIVATEIP RAMDISK SUBNETID TENANCY USERDATA SECURITYGROUPS
                AVAILABILITYZONE EBS_OPTIMIZED ELASTICIP AUTHORIZEDPORTS TAGS
             Use XML syntax to specify defaults, note elements are UPCASE
             Example:
             <TEMPLATE>
               <PUBLIC_CLOUD>
                 <KEYPAIR>gsg-keypair</KEYPAIR>
                 <INSTANCETYPE>m1.small</INSTANCETYPE>
               </PUBLIC_CLOUD>
             </TEMPLATE>
            -->

            <TEMPLATE>
              <PUBLIC_CLOUD>
                <INSTANCETYPE>m1.small</INSTANCETYPE>
              </PUBLIC_CLOUD>
            </TEMPLATE>
    "/etc/one/az_driver.default":
        class: Simple
        owner: root
        group: oneadmin
        mode: '0640'
        content: |+
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #
            <!--
             Default configuration attributes for the Azure driver
             (all domains will use these values as defaults)
             Valid attributes are: INSTANCE_TYPE, IMAGE, VM_USER, VM_PASSWORD, LOCATION,
             STORAGE_ACCOUNT, WIN_RM, CLOUD_SERVICE, TCP_ENDPOINTS, SSHPORT, AFFINITY_GROUP,
             VIRTUAL_NETWORK_NAME, SUBNET and AVAILABILITY_SET
             Use XML syntax to specify defaults, note elements are UPCASE
             Example:
             <TEMPLATE>
               <AZURE>
                 <LOCATION>west-europe</LOCATION>
                 <INSTANCE_TYPE>Small</INSTANCE_TYPE>
                 <CLOUD_SERVICE>MyDefaultCloudService</CLOUD_SERVICE>
                 <IMAGE>0b11de9248dd4d87b18621318e037d37__RightImage-Ubuntu-12.04-x64-v13.4</IMAGE>
                 <VM_USER>MyUser</VM_USER>
                 <VM_PASSWORD>MyPassword</VM_PASSWORD>
                 <STORAGE_ACCOUNT>MyStorageAccountName</STORAGE_ACCOUNT>
                 <WIN_RM>http</WIN_RM>
                 <CLOUD_SERVICE>MyCloudServiceName</CLOUD_SERVICE>
                 <TCP_ENDPOINTS>80,3389:3390</TCP_ENDPOINTS>
                 <SSHPORT>2222</SSHPORT>
                 <AFFINITY_GROUP>MyAffinityGroup</AFFINITY_GROUP>
                 <VIRTUAL_NETWORK_NAME>MyVirtualNetwork</VIRTUAL_NETWORK_NAME>
                 <SUBNET>MySubNet<SUBNET>
                 <AVAILABILITY_SET>MyAvailabilitySetName<AVAILABILITY_SET>
               </AZURE>
             </TEMPLATE>
            -->

            <TEMPLATE>
              <AZURE>
                 <LOCATION>west-europe</LOCATION>
                 <INSTANCE_TYPE>Small</INSTANCE_TYPE>
              </AZURE>
            </TEMPLATE>





    "/etc/one/auth/ldap_auth.conf":
        class: Yaml::Strict
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # ---------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                  #
            #                                                                              #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may      #
            # not use this file except in compliance with the License. You may obtain      #
            # a copy of the License at                                                     #
            #                                                                              #
            # http://www.apache.org/licenses/LICENSE-2.0                                   #
            #                                                                              #
            # Unless required by applicable law or agreed to in writing, software          #
            # distributed under the License is distributed on an "AS IS" BASIS,            #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.     #
            # See the License for the specific language governing permissions and          #
            # limitations under the License.                                               #
            # ---------------------------------------------------------------------------- #

            server 1:
                # Ldap user able to query, if not set connects as anonymous. For
                # Active Directory append the domain name. Example:
                # Administrator@my.domain.com
                #:user: 'admin'
                #:password: 'password'

                # Ldap authentication method
                :auth_method: :simple

                # Ldap server
                :host: localhost
                :port: 389

                # Uncomment this line for tsl conections
                #:encryption: :simple_tls

                # base hierarchy where to search for users and groups
                :base: 'dc=domain'

                # group the users need to belong to. If not set any user will do
                #:group: 'cn=cloud,ou=groups,dc=domain'

                # field that holds the user name, if not set 'cn' will be used
                :user_field: 'cn'

                # for Active Directory use this user_field instead
                #:user_field: 'sAMAccountName'

                # field name for group membership, by default it is 'member'
                #:group_field: 'member'

                # user field that that is in in the group group_field, if not set 'dn' will be used
                #:user_group_field: 'dn'

                # Generate mapping file from group template info
                :mapping_generate: true

                # Seconds a mapping file remain untouched until the next regeneration
                :mapping_timeout: 300

                # Name of the mapping file in OpenNebula var diretory
                :mapping_filename: server1.yaml

                # Key from the OpenNebula template to map to an AD group
                :mapping_key: GROUP_DN

                # Default group ID used for users in an AD group not mapped
                :mapping_default: 1

                # use RFC2307bis for groups
                # if false, depending on your LDAP server configuration,
                # set user_field and user_group_field 'uid' and group_field 'memberUid'
                :rfc2307bis: true

            # this example server wont be called as it is not in the :order list
            server 2:
                :auth_method: :simple
                :host: localhost
                :port: 389
                :base: 'dc=domain'
                #:group: 'cn=cloud,ou=groups,dc=domain'
                :user_field: 'cn'


            # List the order the servers are queried
            :order:
                - server 1
                #- server 2
    "/etc/one/auth/server_x509_auth.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # User to be used for x509 server authentication

            #:srv_user: serveradmin

            # Path to the certificate used by the OpenNebula Services
            # Certificates must be in PEM format

            #:one_cert: "/etc/one/auth/cert.pem"
            #:one_key: "/etc/one/auth/pk.pem"
    "/etc/one/auth/x509_auth.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # Path to the trusted CA directory. It should contain the trusted CA's for
            # the server, each CA certificate shoud be name CA_hash.0

            #:ca_dir: "/etc/one/auth/certificates"

            # Uncoment this line if you want to force crl checking
            #:check_crl: true
    "/etc/one/az_driver.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path:
            - instance_types
            - ExtraSmall
            key: memory
            value: 0.768
            old: 0.75
            state: set
            extra: {}
        -   path: &1
            - instance_types
            key: Standard_A1_v2
            value:
                cpu: 1
                memory: 2.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A2_v2
            value:
                cpu: 2
                memory: 4.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A4_v2
            value:
                cpu: 4
                memory: 8.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A8_v2
            value:
                cpu: 8
                memory: 16.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A2m_v2
            value:
                cpu: 2
                memory: 16.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A4m_v2
            value:
                cpu: 4
                memory: 32.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_A8m_v2
            value:
                cpu: 8
                memory: 64.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_G1
            value:
                cpu: 2
                memory: 28.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_G2
            value:
                cpu: 4
                memory: 56.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_G3
            value:
                cpu: 8
                memory: 112.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_G4
            value:
                cpu: 16
                memory: 224.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_G5
            value:
                cpu: 32
                memory: 448.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H8
            value:
                cpu: 8
                memory: 56.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H16
            value:
                cpu: 16
                memory: 112.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H8m
            value:
                cpu: 8
                memory: 112.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H16m
            value:
                cpu: 16
                memory: 224.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H16r
            value:
                cpu: 16
                memory: 112.0
            state: ins
            extra: {}
        -   path: *1
            key: Standard_H16mr
            value:
                cpu: 16
                memory: 224.0
            state: ins
            extra: {}
        content: |
            proxy_uri:
            regions:
                default:
                    region_name: "West Europe"
                # pem_management_cert --> Absolute path to pem management certificate
                # Info on creating certificates:
                # http://azure.microsoft.com/en-us/documentation/articles/linux-use-ssh-key/
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small: 5
                        Medium: 1
                        Large: 0
                west-europe:
                    region_name: "West Europe"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small: 5
                        Medium: 1
                        Large: 0
                north-europe:
                    region_name: "North Europe"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                east-us:
                    region_name: "East US"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                south-central-us:
                    region_name: "South Central US"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                west-us:
                    region_name: "West US"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                east-asia:
                    region_name: "East Asia"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                southeast-asia:
                    region_name: "Southeast Asia"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                japan-west:
                    region_name: "Japan West"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
                brazil-south:
                    region_name: "Brazil South"
                    pem_management_cert:
                    subscription_id:
                    management_endpoint:
                    capacity:
                        Small:
                        Medium:
                        Large:
            instance_types:
                ExtraSmall:
                    cpu: 1
                    memory: 0.768
                Small:
                    cpu: 1
                    memory: 1.75
                Medium:
                    cpu: 2
                    memory: 3.5
                Large:
                    cpu: 4
                    memory: 7.0
                ExtraLarge:
                    cpu: 8
                    memory: 14.0
                A5:
                    cpu: 2
                    memory: 14.0
                A6:
                    cpu: 4
                    memory: 28.0
                A7:
                    cpu: 8
                    memory: 56.0
                A8:
                    cpu: 8
                    memory: 56.0
                A9:
                    cpu: 16
                    memory: 112.0
                A10:
                    cpu: 8
                    memory: 56.0
                A11:
                    cpu: 16
                    memory: 112.0
                Standard_A1_v2:
                    cpu: 1
                    memory: 2.0
                Standard_A2_v2:
                    cpu: 2
                    memory: 4.0
                Standard_A4_v2:
                    cpu: 4
                    memory: 8.0
                Standard_A8_v2:
                    cpu: 8
                    memory: 16.0
                Standard_A2m_v2:
                    cpu: 2
                    memory: 16.0
                Standard_A4m_v2:
                    cpu: 4
                    memory: 32.0
                Standard_A8m_v2:
                    cpu: 8
                    memory: 64.0
                Standard_D1:
                    cpu: 1
                    memory: 3.5
                Standard_D2:
                    cpu: 2
                    memory: 7.0
                Standard_D3:
                    cpu: 4
                    memory: 14.0
                Standard_D4:
                    cpu: 8
                    memory: 28.0
                Standard_D11:
                    cpu: 2
                    memory: 14.0
                Standard_D12:
                    cpu: 4
                    memory: 28.0
                Standard_D13:
                    cpu: 8
                    memory: 56.0
                Standard_D14:
                    cpu: 16
                    memory: 112.0
                Standard_D1_v2:
                    cpu: 1
                    memory: 3.5
                Standard_D2_v2:
                    cpu: 2
                    memory: 7.0
                Standard_D3_v2:
                    cpu: 4
                    memory: 14.0
                Standard_D4_v2:
                    cpu: 8
                    memory: 28.0
                Standard_D5_v2:
                    cpu: 16
                    memory: 56.0
                Standard_D11_v2:
                    cpu: 2
                    memory: 14.0
                Standard_D12_v2:
                    cpu: 4
                    memory: 28.0
                Standard_D13_v2:
                    cpu: 8
                    memory: 56.0
                Standard_D14_v2:
                    cpu: 16
                    memory: 112.0
                Standard_D15_v2:
                    cpu: 20
                    memory: 140.0
                Standard_G1:
                    cpu: 2
                    memory: 28.0
                Standard_G2:
                    cpu: 4
                    memory: 56.0
                Standard_G3:
                    cpu: 8
                    memory: 112.0
                Standard_G4:
                    cpu: 16
                    memory: 224.0
                Standard_G5:
                    cpu: 32
                    memory: 448.0
                Standard_H8:
                    cpu: 8
                    memory: 56.0
                Standard_H16:
                    cpu: 16
                    memory: 112.0
                Standard_H8m:
                    cpu: 8
                    memory: 112.0
                Standard_H16m:
                    cpu: 16
                    memory: 224.0
                Standard_H16r:
                    cpu: 16
                    memory: 112.0
                Standard_H16mr:
                    cpu: 16
                    memory: 224.0
    "/etc/one/cli/onegroup.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the Group
              :size: 4

            :NAME:
              :desc: Name of the Group
              :size: 29
              :left: true

            :USERS:
              :desc: Number of Users in this group
              :size: 5

            :VMS:
              :desc: Number of VMS
              :size: 9

            :MEMORY:
              :desc: Total memory allocated to user VMs
              :size: 17

            :CPU:
              :desc: Total CPU allocated to user VMs
              :size: 11

            :default:
            - :ID
            - :NAME
            - :USERS
            - :VMS
            - :MEMORY
            - :CPU
    "/etc/one/cli/onehost.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for Host
              :size: 4

            :NAME:
              :desc: Name of the Host
              :size: 15
              :left: true

            :CLUSTER:
              :desc: Name of the Cluster
              :size: 9
              :left: true

            :RVM:
              :desc: Number of Virtual Machines running
              :size: 3

            :ZVM:
              :desc: Number of Virtual Machine zombies
              :size: 3

            :TCPU:
              :desc: Total CPU percentage
              :size: 4

            :FCPU:
              :desc: Free CPU percentage
              :size: 4

            :ACPU:
              :desc: Available cpu percentage (not reserved by VMs)
              :size: 4

            :TMEM:
              :desc: Total Memory
              :size: 7

            :FMEM:
              :desc: Free Memory
              :size: 7

            :AMEM:
              :desc: Available Memory (not reserved by VMs)
              :size: 7

            :ALLOCATED_CPU:
              :desc: Allocated CPU
              :size: 18

            :REAL_CPU:
              :desc: Real CPU
              :size: 18

            :ALLOCATED_MEM:
              :desc: Allocated MEM
              :size: 18

            :REAL_MEM:
              :desc: Real MEM
              :size: 18

            :STAT:
              :desc: Host status
              :size: 6
              :left: true

            :default:
            - :ID
            - :NAME
            - :CLUSTER
            - :RVM
            - :ALLOCATED_CPU
            - :ALLOCATED_MEM
            - :STAT
    "/etc/one/cli/oneimage.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the Image
              :size: 4

            :USER:
              :desc: Username of the Image owner
              :size: 10
              :left: true

            :GROUP:
              :desc: Group of the Image
              :size: 10
              :left: true

            :NAME:
              :desc: Name of the Image
              :size: 15
              :left: true

            :DATASTORE:
              :desc: Name of the Datastore
              :size: 10
              :left: true

            :SIZE:
              :desc: Size of the Image
              :size: 7

            :TYPE:
              :desc: Type of the Image
              :size: 4
              :left: true

            :REGTIME:
              :desc: Registration time of the Image
              :size: 15

            :PERSISTENT:
              :desc: Whether the Image is persistent or not
              :size: 3

            :STAT:
              :desc: State of the Image
              :size: 4
              :left: true

            :RVMS:
              :desc: Number of VMs currently running from this Image
              :size: 4

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
            - :DATASTORE
            - :SIZE
            - :TYPE
            - :PERSISTENT
            - :STAT
            - :RVMS
    "/etc/one/cli/onetemplate.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the Template
              :size: 4

            :NAME:
              :desc: Name of the Template
              :size: 27
              :left: true

            :USER:
              :desc: Username of the Template owner
              :size: 15
              :left: true

            :GROUP:
              :desc: Group of the Template
              :size: 15
              :left: true

            :REGTIME:
              :desc: Registration time of the Template
              :size: 15

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
            - :REGTIME
    "/etc/one/cli/oneuser.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |+
            ---
            :ID:
              :desc: ONE identifier for the User
              :size: 4

            :NAME:
              :desc: Name of the User
              :size: 15
              :left: true

            :GROUP:
              :desc: Group of the User
              :size: 10
              :left: true

            :AUTH:
              :desc: Auth driver of the User
              :size: 8
              :left: true

            :VMS:
              :desc: Number of VMS
              :size: 9

            :MEMORY:
              :desc: Total memory allocated to user VMs
              :size: 17

            :CPU:
              :desc: Total CPU allocated to user VMs
              :size: 11

            :PASSWORD:
              :desc: Password of the User
              :size: 50

            :default:
            - :ID
            - :NAME
            - :GROUP
            - :AUTH
            - :VMS
            - :MEMORY
            - :CPU

    "/etc/one/cli/onevm.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for Virtual Machine
              :size: 6

            :NAME:
              :desc: Name of the Virtual Machine
              :size: 15
              :left: true

            :USER:
              :desc: Username of the Virtual Machine owner
              :size: 8
              :left: true

            :GROUP:
              :desc: Group of the Virtual Machine
              :size: 8
              :left: true

            :STAT:
              :desc: Actual status
              :size: 4

            :UCPU:
              :desc: CPU percentage used by the VM
              :size: 4

            :UMEM:
              :desc: Memory used by the VM
              :size: 7

            :HOST:
              :desc: Host where the VM is running
              :size: 10
              :left: true

            :CLUSTER:
              :desc: Cluster where the VM is running
              :size: 10
              :left: true

            :TIME:
              :desc: Time since the VM was submitted
              :size: 10

            :IP:
              :desc: VM IP addresses
              :left: true
              :size: 15

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
            - :STAT
            - :UCPU
            - :UMEM
            - :HOST
            - :TIME

            :default_conf:
              :user:
                - :ID
                - :NAME
                - :IP
                - :STAT
                - :UCPU
                - :UMEM
                - :HOST
                - :TIME
    "/etc/one/cli/onevnet.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for Virtual Network
              :size: 4

            :USER:
              :desc: Username of the Virtual Network owner
              :size: 15
              :left: true

            :GROUP:
              :desc: Group of the Virtual Network
              :size: 12
              :left: true

            :NAME:
              :desc: Name of the Virtual Network
              :size: 19
              :left: true

            :CLUSTERS:
              :desc: Cluster IDs
              :size: 10
              :left: true

            :BRIDGE:
              :desc: Bridge associated to the Virtual Network
              :size: 8
              :left: true

            :LEASES:
              :desc: Number of this Virtual Networks given leases
              :size: 6

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
            - :CLUSTERS
            - :BRIDGE
            - :LEASES
    "/etc/one/cli/oneacl.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: To which resource owner the rule applies to
              :size: 5
              :right: true

            :USER:
              :desc: To which resource owner the rule applies to
              :size: 8
              :right: true

            :RES_VHNIUTGDCOZSvRMAP:
              :desc: Which resource the rule applies to
              :size: 21

            :RID:
              :desc: Resource ID
              :size: 5
              :right: true

            :ZONE:
              :desc: Zone ID
              :size: 5
              :right: true

            :OPE_UMAC:
              :desc: Operation to which the rule applies
              :size: 8
              :right: true

            :default:
            - :ID
            - :USER
            - :RES_VHNIUTGDCOZSvRMAP
            - :RID
            - :OPE_UMAC
            - :ZONE
    "/etc/one/cli/onedatastore.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |+
            ---
            :ID:
              :desc: ONE identifier for the Datastore
              :size: 4

            :USER:
              :desc: Username of the Datastore owner
              :size: 10
              :left: true

            :GROUP:
              :desc: Group of the Datastore
              :size: 10
              :left: true

            :NAME:
              :desc: Name of the Datastore
              :size: 13
              :left: true

            :SIZE:
              :desc: Total Datastore size
              :size: 10

            :AVAIL:
              :desc: Free Datastore size (%)
              :size: 5
              :left: true

            :CLUSTERS:
              :desc: Cluster IDs
              :size: 12
              :left: true

            :IMAGES:
              :desc: Number of Images
              :size: 6

            :TYPE:
              :desc: Datastore type
              :size: 4
              :left: true

            :DS:
              :desc: Datastore driver
              :size: 7
              :left: true

            :TM:
              :desc: Transfer driver
              :size: 7
              :left: true

            :STAT:
              :desc: State of the Datastore
              :size: 4
              :left: true

            :default:
            - :ID
            - :NAME
            - :SIZE
            - :AVAIL
            - :CLUSTERS
            - :IMAGES
            - :TYPE
            - :DS
            - :TM
            - :STAT

    "/etc/one/cli/onecluster.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the Cluster
              :size: 5

            :NAME:
              :desc: Name of the Cluster
              :size: 25
              :left: true

            :HOSTS:
              :desc: Number of Hosts
              :size: 5

            :VNETS:
              :desc: Number of Networks
              :size: 5

            :DATASTORES:
              :desc: Number of Datastores
              :size: 10

            :default:
            - :ID
            - :NAME
            - :HOSTS
            - :VNETS
            - :DATASTORES
    "/etc/one/cli/onezone.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :CURRENT:
              :desc: Active Zone
              :size: 1
            :ID:
              :desc: ONE identifier for the Zone
              :size: 5

            :NAME:
              :desc: Name of the Zone
              :size: 25
              :left: true

            :ENDPOINT:
              :desc: Endpoint of the Zone
              :size: 45

            :default:
            - :CURRENT
            - :ID
            - :NAME
            - :ENDPOINT
    "/etc/one/cli/oneacct.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :UID:
              :desc: User ID
              :size: 4

            :VID:
              :desc: Virtual Machine ID
              :size: 4

            :SEQ:
              :desc: History record sequence number
              :size: 3

            :HOSTNAME:
              :desc: Host name
              :size: 15
              :left: true

            :ACTION:
              :desc: VM state change action
              :size: 16
              :left: true

            :START_TIME:
              :desc: Start time
              :size: 14

            :END_TIME:
              :desc: End time
              :size: 14

            :MEMORY:
              :desc: Assigned memory
              :size: 6

            :CPU:
              :desc: Number of CPUs
              :size: 3

            :NETRX:
              :desc: Data received from the network
              :size: 6

            :NETTX:
              :desc: Data sent to the network
              :size: 6

            :DISK:
              :desc: Total disk size used
              :size: 6

            :default:
            - :VID
            - :HOSTNAME
            - :ACTION
            - :START_TIME
            - :END_TIME
            - :MEMORY
            - :CPU
            - :NETRX
            - :NETTX
            - :DISK
    "/etc/one/cli/onesecgroup.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: "---\n:ID:\n  :desc: ONE identifier for the Security Group\n  :size: 4\n\n:NAME:\n  :desc: Name of the Security
            Group\n  :size: 20\n  :left: true\n\n:USER:\n  :desc: Username of the Security Group owner\n  :size: 15\n  :left:
            true\n\n:GROUP:\n  :desc: Group of the Security Group\n  :size: 15\n  :left: true\n\n:UPDATED:\n  :desc: Number
            of VMs with updated rules\n  :size: 8\n  :left: false\n\n\n:OUTDATED:\n  :desc: Number of VMs with outdated rules\n
            \ :size: 8\n  :left: false\n\n:ERROR:\n  :desc: Number of VMs that failed to update rules \n  :size: 8\n  :left:
            false\n\n:default:\n- :ID\n- :USER\n- :GROUP\n- :NAME\n- :UPDATED\n- :OUTDATED\n- :ERROR\n"
    "/etc/one/cli/onevmgroup.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the VM Group
              :size: 4

            :NAME:
              :desc: Name of the VM Group
              :size: 15
              :left: true

            :USER:
              :desc: Username of the VM Group owner
              :size: 8
              :left: true

            :GROUP:
              :desc: Group of the VM Group
              :size: 8
              :left: true

            :VMS:
              :desc: Number of VMs in the VM Group
              :size: 4
              :lef:  true

            :ROLES:
              :desc: Roles in the VM Group
              :size: 36
              :left: true

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
            - :VMS
            - :ROLES
    "/etc/one/cli/oneshowback.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :UID:
              :desc: User ID
              :size: 4

            :USER_NAME:
              :desc: User name
              :size: 12

            :GID:
              :desc: Group ID
              :size: 4

            :GROUP_NAME:
              :desc: Group name
              :size: 12

            :VM_ID:
              :desc: Virtual Machine ID
              :size: 6

            :VM_NAME:
              :desc: Virtual Machine name
              :size: 12

            :MONTH:
              :desc: Month
              :size: 5

            :YEAR:
              :desc: Year
              :size: 5

            :HOURS:
              :desc: Hours
              :size: 6

            :COST:
              :desc: Cost
              :size: 15

            :default:
            - :USER_NAME
            - :GROUP_NAME
            - :VM_ID
            - :VM_NAME
            - :MONTH
            - :YEAR
            - :HOURS
            - :COST
    "/etc/one/cli/onevdc.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :ID:
              :desc: ONE identifier for the VDC
              :size: 5

            :NAME:
              :desc: Name of the VDC
              :size: 30
              :left: true

            :GROUPS:
              :desc: Number of Groups
              :size: 6

            :CLUSTERS:
              :desc: Number of Clusters
              :size: 8

            :HOSTS:
              :desc: Number of Hosts
              :size: 5

            :VNETS:
              :desc: Number of Networks
              :size: 5

            :DATASTORES:
              :desc: Number of Datastores
              :size: 10

            :default:
            - :ID
            - :NAME
            - :GROUPS
            - :CLUSTERS
            - :HOSTS
            - :VNETS
            - :DATASTORES
    "/etc/one/cli/onevrouter.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |
            ---
            :ID:
              :desc: ONE identifier for the Virtual Router
              :size: 4

            :NAME:
              :desc: Name of the Virtual Router
              :size: 27
              :left: true

            :USER:
              :desc: Username of the Virtual Router owner
              :size: 15
              :left: true

            :GROUP:
              :desc: Group of the Virtual Router
              :size: 15
              :left: true

            :default:
            - :ID
            - :USER
            - :GROUP
            - :NAME
    "/etc/one/cli/onemarketapp.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :ID:
              :desc: ONE identifier for the MarketPlaceApp
              :size: 4

            :NAME:
              :desc: Name of the MarketPlaceApp
              :size: 25
              :left: true

            :VERSION:
              :desc: Version of the MarketPlaceApp
              :size: 10

            :SIZE:
              :desc: MarketPlaceApp size
              :size: 5

            :STAT:
              :desc: State of the app
              :size: 4

            :TYPE:
              :desc: MarketPlaceApp type
              :size: 4

            :REGTIME:
              :desc: Registration time of the MarketplaceApp
              :size: 8

            :MARKET:
              :desc: Name of the MarketPlace
              :size: 20
              :left: true

            :ZONE:
              :desc: Zone ID
              :size: 4

            :default:
            - :ID
            - :NAME
            - :VERSION
            - :SIZE
            - :STAT
            - :TYPE
            - :REGTIME
            - :MARKET
            - :ZONE
    "/etc/one/cli/onemarket.yaml":
        class: Yaml::Strict
        owner: root
        group: root
        mode: '0644'
        content: |-
            ---
            :ID:
              :desc: ONE identifier for the Marketplace
              :size: 4

            :USER:
              :desc: Username of the Marketplace owner
              :size: 10
              :left: true

            :GROUP:
              :desc: Group of the Marketplace
              :size: 10
              :left: true

            :NAME:
              :desc: Name of the Marketplace
              :size: 30
              :left: true

            :SIZE:
              :desc: Marketplace total size
              :size: 10

            :AVAIL:
              :desc: MarketPlace free size (%)
              :size: 10
              :left: true

            :APPS:
              :desc: Number of Marketplace Apps
              :size: 6

            :MAD:
              :desc: Marketplace driver
              :size: 7
              :left: true

            :default:
            - :ID
            - :NAME
            - :SIZE
            - :AVAIL
            - :APPS
            - :MAD
            - :ZONE
    "/etc/one/defaultrc":
        class: Augeas::Shell
        owner: root
        group: oneadmin
        mode: '0640'
        content: "# -------------------------------------------------------------------------- #\n# Copyright 2002-2025, OpenNebula
            Project, OpenNebula Systems                #\n#                                                                            #\n#
            Licensed under the Apache License, Version 2.0 (the \"License\"); you may    #\n# not use this file except in
            compliance with the License. You may obtain    #\n# a copy of the License at                                                   #\n#
            \                                                                           #\n# http://www.apache.org/licenses/LICENSE-2.0
            \                                #\n#                                                                            #\n#
            Unless required by applicable law or agreed to in writing, software        #\n# distributed under the License
            is distributed on an \"AS IS\" BASIS,          #\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
            or implied.   #\n# See the License for the specific language governing permissions and        #\n# limitations
            under the License.                                             #\n#---------------------------------------------------------------------------
            #\n\n#-------------------------------------------------------------------------------\n# Global environment configuration
            file for ONE MADS\n# --------------------------------------------------------\n#\n# This file is sourced before
            a driver is started. Also the variables\n# declared here are \"exported\".\n#\n# Values in this file will be overridden
            or completed by the MAD\n# specific rc file.\n#\n# This file MUST preserve SH syntax\n#-------------------------------------------------------------------------------\n\n#
            Debug for MADs. \n# If set, MADs will generate cores and logs in $ONE_LOCATION/var. If OpenNebula\n# is installed
            in /, then the files will be in /var/lib/one and /var/log/one,\n# respectively. \n# Possible values are [0=ERROR,
            1=DEBUG]\nONE_MAD_DEBUG=\n\n# Nice Priority to run the drivers\nPRIORITY=19\n\n"
    "/etc/one/ec2_driver.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path: &2
            - instance_types
            key: f1.16xlarge
            value:
                cpu: 64
                memory: 976.0
            state: ins
            extra: {}
        -   path: *2
            key: f1.2xlarge
            value:
                cpu: 8
                memory: 122.0
            state: ins
            extra: {}
        -   path: *2
            key: g3.16xlarge
            value:
                cpu: 64
                memory: 488.0
            state: ins
            extra: {}
        -   path: *2
            key: g3.4xlarge
            value:
                cpu: 16
                memory: 122.0
            state: ins
            extra: {}
        -   path: *2
            key: g3.8xlarge
            value:
                cpu: 32
                memory: 244.0
            state: ins
            extra: {}
        -   path: *2
            key: i3.16xlarge
            value:
                cpu: 64
                memory: 488.0
            state: ins
            extra: {}
        -   path: *2
            key: i3.2xlarge
            value:
                cpu: 8
                memory: 61.0
            state: ins
            extra: {}
        -   path: *2
            key: i3.4xlarge
            value:
                cpu: 16
                memory: 122.0
            state: ins
            extra: {}
        -   path: *2
            key: i3.8xlarge
            value:
                cpu: 32
                memory: 244.0
            state: ins
            extra: {}
        -   path: *2
            key: i3.large
            value:
                cpu: 2
                memory: 15.25
            state: ins
            extra: {}
        -   path: *2
            key: i3.xlarge
            value:
                cpu: 4
                memory: 30.5
            state: ins
            extra: {}
        -   path: *2
            key: m4.16xlarge
            value:
                cpu: 64
                memory: 256.0
            state: ins
            extra: {}
        -   path: *2
            key: p2.16xlarge
            value:
                cpu: 64
                memory: 768.0
            state: ins
            extra: {}
        -   path: *2
            key: p2.8xlarge
            value:
                cpu: 32
                memory: 488.0
            state: ins
            extra: {}
        -   path: *2
            key: p2.xlarge
            value:
                cpu: 4
                memory: 61.0
            state: ins
            extra: {}
        -   path: *2
            key: r4.16xlarge
            value:
                cpu: 64
                memory: 488.0
            state: ins
            extra: {}
        -   path: *2
            key: r4.2xlarge
            value:
                cpu: 8
                memory: 61.0
            state: ins
            extra: {}
        -   path: *2
            key: r4.4xlarge
            value:
                cpu: 16
                memory: 122.0
            state: ins
            extra: {}
        -   path: *2
            key: r4.8xlarge
            value:
                cpu: 32
                memory: 244.0
            state: ins
            extra: {}
        -   path: *2
            key: r4.large
            value:
                cpu: 2
                memory: 15.25
            state: ins
            extra: {}
        -   path: *2
            key: r4.xlarge
            value:
                cpu: 4
                memory: 30.5
            state: ins
            extra: {}
        -   path: *2
            key: t2.2xlarge
            value:
                cpu: 8
                memory: 32.0
            state: ins
            extra: {}
        -   path: *2
            key: t2.xlarge
            value:
                cpu: 4
                memory: 16.0
            state: ins
            extra: {}
        -   path: *2
            key: x1.16xlarge
            value:
                cpu: 64
                memory: 976.0
            state: ins
            extra: {}
        content: |
            proxy_uri:
            state_wait_timeout_seconds: 300
            instance_types:
                c1.medium:
                    cpu: 2
                    memory: 1.7
                c1.xlarge:
                    cpu: 8
                    memory: 7.0
                c3.2xlarge:
                    cpu: 8
                    memory: 15.0
                c3.4xlarge:
                    cpu: 16
                    memory: 30.0
                c3.8xlarge:
                    cpu: 32
                    memory: 60.0
                c3.large:
                    cpu: 2
                    memory: 3.75
                c3.xlarge:
                    cpu: 4
                    memory: 7.5
                c4.2xlarge:
                    cpu: 8
                    memory: 15.0
                c4.4xlarge:
                    cpu: 16
                    memory: 30.0
                c4.8xlarge:
                    cpu: 36
                    memory: 60.0
                c4.large:
                    cpu: 2
                    memory: 3.75
                c4.xlarge:
                    cpu: 4
                    memory: 7.5
                cc1.4xlarge:
                    cpu: 16
                    memory: 23.0
                cc2.8xlarge:
                    cpu: 32
                    memory: 60.5
                cg1.4xlarge:
                    cpu: 16
                    memory: 22.5
                cr1.8xlarge:
                    cpu: 32
                    memory: 244.0
                d2.2xlarge:
                    cpu: 8
                    memory: 61.0
                d2.4xlarge:
                    cpu: 16
                    memory: 122.0
                d2.8xlarge:
                    cpu: 36
                    memory: 244.0
                d2.xlarge:
                    cpu: 4
                    memory: 30.5
                f1.16xlarge:
                    cpu: 64
                    memory: 976.0
                f1.2xlarge:
                    cpu: 8
                    memory: 122.0
                g2.2xlarge:
                    cpu: 8
                    memory: 15.0
                g2.8xlarge:
                    cpu: 32
                    memory: 60.0
                g3.16xlarge:
                    cpu: 64
                    memory: 488.0
                g3.4xlarge:
                    cpu: 16
                    memory: 122.0
                g3.8xlarge:
                    cpu: 32
                    memory: 244.0
                hi1.4xlarge:
                    cpu: 16
                    memory: 60.5
                hs1.8xlarge:
                    cpu: 17
                    memory: 117.0
                i2.2xlarge:
                    cpu: 8
                    memory: 61.0
                i2.4xlarge:
                    cpu: 16
                    memory: 122.0
                i2.8xlarge:
                    cpu: 32
                    memory: 244.0
                i2.xlarge:
                    cpu: 4
                    memory: 30.5
                i3.16xlarge:
                    cpu: 64
                    memory: 488.0
                i3.2xlarge:
                    cpu: 8
                    memory: 61.0
                i3.4xlarge:
                    cpu: 16
                    memory: 122.0
                i3.8xlarge:
                    cpu: 32
                    memory: 244.0
                i3.large:
                    cpu: 2
                    memory: 15.25
                i3.xlarge:
                    cpu: 4
                    memory: 30.5
                m1.large:
                    cpu: 2
                    memory: 7.5
                m1.medium:
                    cpu: 1
                    memory: 3.75
                m1.small:
                    cpu: 1
                    memory: 1.7
                m1.xlarge:
                    cpu: 4
                    memory: 15.0
                m2.2xlarge:
                    cpu: 4
                    memory: 34.2
                m2.4xlarge:
                    cpu: 8
                    memory: 68.4
                m2.xlarge:
                    cpu: 2
                    memory: 17.1
                m3.2xlarge:
                    cpu: 8
                    memory: 30.0
                m3.large:
                    cpu: 2
                    memory: 7.5
                m3.medium:
                    cpu: 1
                    memory: 3.75
                m3.xlarge:
                    cpu: 4
                    memory: 15.0
                m4.10xlarge:
                    cpu: 40
                    memory: 160.0
                m4.16xlarge:
                    cpu: 64
                    memory: 256.0
                m4.2xlarge:
                    cpu: 8
                    memory: 32.0
                m4.4xlarge:
                    cpu: 16
                    memory: 64.0
                m4.large:
                    cpu: 2
                    memory: 8.0
                m4.xlarge:
                    cpu: 4
                    memory: 16.0
                p2.16xlarge:
                    cpu: 64
                    memory: 768.0
                p2.8xlarge:
                    cpu: 32
                    memory: 488.0
                p2.xlarge:
                    cpu: 4
                    memory: 61.0
                r3.2xlarge:
                    cpu: 8
                    memory: 61.0
                r3.4xlarge:
                    cpu: 16
                    memory: 122.0
                r3.8xlarge:
                    cpu: 32
                    memory: 244.0
                r3.large:
                    cpu: 2
                    memory: 15.25
                r3.xlarge:
                    cpu: 4
                    memory: 30.5
                r4.16xlarge:
                    cpu: 64
                    memory: 488.0
                r4.2xlarge:
                    cpu: 8
                    memory: 61.0
                r4.4xlarge:
                    cpu: 16
                    memory: 122.0
                r4.8xlarge:
                    cpu: 32
                    memory: 244.0
                r4.large:
                    cpu: 2
                    memory: 15.25
                r4.xlarge:
                    cpu: 4
                    memory: 30.5
                t1.micro:
                    cpu: 1
                    memory: 0.613
                t2.2xlarge:
                    cpu: 8
                    memory: 32.0
                t2.large:
                    cpu: 2
                    memory: 8.0
                t2.medium:
                    cpu: 2
                    memory: 4.0
                t2.micro:
                    cpu: 1
                    memory: 1.0
                t2.nano:
                    cpu: 1
                    memory: 0.5
                t2.small:
                    cpu: 1
                    memory: 2.0
                t2.xlarge:
                    cpu: 4
                    memory: 16.0
                x1.16xlarge:
                    cpu: 64
                    memory: 976.0
                x1.32xlarge:
                    cpu: 128
                    memory: 1.0
    "/etc/one/ec2query_templates/m1.small.erb":
        class: Simple
        owner: root
        group: oneadmin
        mode: '0640'
        content: |4+

            NAME   = eco-vm

            #Adjust Capacity for this instance type
            CPU    = 0.2
            MEMORY = 256

            # Put here specific OS configurations for the cloud hypervisors
            #OS = [ kernel     = /vmlinuz,
            #       initrd     = /initrd.img,
            #       root       = sda1,
            #       kernel_cmd = "ro xencons=tty console=tty1"]

            DISK = [ IMAGE_ID   = <%= erb_vm_info[:img_id] %> ]

            # Put here the ID of the VNET with the IPs for the EC2 VMs
            NIC=[NETWORK_ID=<EC2-VNET-ID>]

            IMAGE_ID = <%= erb_vm_info[:ec2_img_id] %>
            EC2_INSTANCE_TYPE = <%= erb_vm_info[:instance_type ]%>

            <% if erb_vm_info[:user_data] && erb_vm_info[:public_key] %>
            CONTEXT = [ EC2_USER_DATA="<%= erb_vm_info[:user_data] %>", EC2_PUBLIC_KEY="<%= erb_vm_info[:public_key] %>", EC2_KEYNAME ="<%= erb_vm_info[:key_name] %>" ]
            <% elsif erb_vm_info[:user_data] %>
            CONTEXT = [ EC2_USER_DATA="<%= erb_vm_info[:user_data] %>" ]
            <% elsif erb_vm_info[:public_key] %>
            CONTEXT = [ EC2_PUBLIC_KEY="<%= erb_vm_info[:public_key] %>", EC2_KEYNAME ="<%= erb_vm_info[:key_name] %>" ]
            <% end %>

    "/etc/one/econe.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            #############################################################
            # Server Configuration
            #############################################################

            # Directory to store temp files when uploading images
            :tmpdir: /var/tmp

            # OpenNebula sever contact information
            :one_xmlrpc: http://localhost:2633/RPC2

            # Host and port where econe server will run
            :host: localhost
            :port: 4567

            # SSL proxy URL that serves the API (set if is being used)
            #:ssl_server: https://service.endpoint.fqdn:port/

            #############################################################
            # Auth
            #############################################################

            # Authentication driver for incomming requests
            #   - ec2, default Acess key and Secret key scheme
            #   - x509, for x509 certificates based authentication
            :auth: ec2

            # Authentication driver to communicate with OpenNebula core
            #   - cipher, for symmetric cipher encryption of tokens
            #   - x509, for x509 certificate encryption of tokens
            :core_auth: cipher

            #############################################################
            # Log
            #############################################################

            # Log debug level
            #   0 = ERROR, 1 = WARNING, 2 = INFO, 3 = DEBUG
            :debug_level: 3

            #############################################################
            # Resources
            #############################################################

            # Cluster associated with the EC2 resources, by default no Cluster is defined
            #:cluster_id:

            # Datastore in which the Images uploaded through EC2 will be allocated, by
            # default 1
            #:datastore_id:

            # Include terminated instances in the describe_instances xml
            :describe_with_terminated_instances: true
            # Terminated VMs will be included in the list
            #  till the termination date + TERMINATED_INSTANCES_EXPIRATION_TIME is reached
            :terminated_instances_expiration_time: 900


            #############################################################
            # [DEPRECATED] File based templates
            #############################################################

            # Use former file based templates for instance types instead
            #   of OpenNebula templates
            :use_file_templates: false

            # VM types allowed and its template file (inside templates directory)
            :instance_types:
              :m1.small:
                :template: m1.small.erb

            #############################################################
            # Elastic IP
            #############################################################

            # VirtualNetwork containing the elastic ips to be used with EC2. If no defined
            # the Elastic IP functionality is disabled
            #:elasticips_vnet_id:

            # Script to associate a public IP with a private IP
            #   - arguments: elastic_ip private_ip vnet_template(base64_encoded)
            :associate_script: false

            # Script to disassociate a public IP
            #   - arguments: elastic_ip
            :disassociate_script: false

            #############################################################
            # EBS
            #############################################################

            # FSTYPE that will be used when creating new volumes (DATABLOCKs)
            :ebs_fstype: ext3
    "/etc/one/hm/hmrc":
        class: Augeas::Shell
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #
    "/etc/one/oned.conf":
        class: Augeas::ONE
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            #*******************************************************************************
            #                       OpenNebula Configuration file
            #*******************************************************************************

            #*******************************************************************************
            # Daemon configuration attributes
            #-------------------------------------------------------------------------------
            #  MANAGER_TIMER: Time in seconds the core uses to evaluate periodical functions.
            #  MONITORING_INTERVAL cannot have a smaller value than MANAGER_TIMER.
            #
            #  MONITORING_INTERVAL: Time in seconds between host and VM monitorization.
            #
            #  MONITORING_THREADS: Max. number of threads used to process monitor messages
            #
            #  HOST_PER_INTERVAL: Number of hosts monitored in each interval.
            #  HOST_MONITORING_EXPIRATION_TIME: Time, in seconds, to expire monitoring
            #  information. Use 0 to disable HOST monitoring recording.
            #
            #  VM_INDIVIDUAL_MONITORING: VM monitoring information is obtained along with the
            #  host information. For some custom monitor drivers you may need activate the
            #  individual VM monitoring process.
            #  VM_PER_INTERVAL: Number of VMs monitored in each interval, if the individual
            #  VM monitoring is set to yes.
            #  VM_MONITORING_EXPIRATION_TIME: Time, in seconds, to expire monitoring
            #  information. Use 0 to disable VM monitoring recording.
            #
            #  SCRIPTS_REMOTE_DIR: Remote path to store the monitoring and VM management
            #  scripts.
            #
            #  PORT: Port where oned will listen for xmlrpc calls.
            #  LISTEN_ADDRESS: Host IP to listen on for xmlrpc calls (default: all IPs).
            #
            #  DB: Configuration attributes for the database backend
            #   backend : can be sqlite or mysql (default is sqlite)
            #   server  : (mysql) host name or an IP address for the MySQL server
            #   port    : (mysql) port for the connection to the server.
            #                     If set to 0, the default port is used.
            #   user    : (mysql) user's MySQL login ID
            #   passwd  : (mysql) the password for user
            #   db_name : (mysql) the database name
            #
            #  VNC_PORTS: VNC port pool for automatic VNC port assignment, if possible the
            #  port will be set to ``START`` + ``VMID``
            #   start   : first port to assign
            #   reserved: comma separated list of ports or ranges. Two numbers separated by
            #   a colon indicate a range.
            #
            #  LOG: Configuration for the logging system
            #   system: defines the logging system:
            #      file      to log in the oned.log file
            #      syslog    to use the syslog facilities
            #      std       to use the default log stream (stderr) to use with systemd
            #   debug_level: 0 = ERROR, 1 = WARNING, 2 = INFO, 3 = DEBUG
            #
            #  VM_SUBMIT_ON_HOLD: Forces VMs to be created on hold state instead of pending.
            #  Values: YES or NO.
            #*******************************************************************************

            LOG = [
              SYSTEM      = "file",
              DEBUG_LEVEL = 3
            ]

            #MANAGER_TIMER = 15

            MONITORING_INTERVAL = 60
            MONITORING_THREADS  = 50

            #HOST_PER_INTERVAL               = 15
            #HOST_MONITORING_EXPIRATION_TIME = 43200

            #VM_INDIVIDUAL_MONITORING      = "no"
            #VM_PER_INTERVAL               = 5
            #VM_MONITORING_EXPIRATION_TIME = 14400

            SCRIPTS_REMOTE_DIR=/var/tmp/one

            PORT = 2633

            LISTEN_ADDRESS = "0.0.0.0"

            DB = [ BACKEND = "sqlite" ]

            # Sample configuration for MySQL
            # DB = [ BACKEND = "mysql",
            #        SERVER  = "localhost",
            #        PORT    = 0,
            #        USER    = "oneadmin",
            #        PASSWD  = "oneadmin",
            #        DB_NAME = "opennebula" ]

            VNC_PORTS = [
                START    = 5900
            #    RESERVED = "6800, 6801, 6810:6820, 9869"
            ]

            #VM_SUBMIT_ON_HOLD = "NO"

            #*******************************************************************************
            # Federation & HA configuration attributes
            #-------------------------------------------------------------------------------
            # Control the federation capabilities of oned. Operation in a federated setup
            # requires a special DB configuration.
            #
            #  FEDERATION: Federation attributes
            #   MODE: Operation mode of this oned.
            #       STANDALONE no federated.This is the default operational mode
            #       MASTER     this oned is the master zone of the federation
            #       SLAVE      this oned is a slave zone
            #   ZONE_ID: The zone ID as returned by onezone command
            #   SERVER_ID: ID identifying this server in the zone as returned by the
            #   onezone server-add command. This ID controls the HA configuration of
            #   OpenNebula:
            #     -1 (default) OpenNebula will operate in "solo" mode no HA
            #     <id> Operate in HA (leader election and state replication)
            #   MASTER_ONED: The xml-rpc endpoint of the master oned, e.g.
            #   http://master.one.org:2633/RPC2
            #
            #
            #   RAFT: Algorithm attributes
            #     LOG_RETENTION: Number of DB log records kept, it determines the
            #     synchronization window across servers and extra storage space needed.
            #     LOG_PURGE_TIMEOUT: How often applied records are purged according the log
            #     retention value. (in seconds)
            #     ELECTION_TIMEOUT_MS: Timeout to start a election process if no heartbeat
            #     or log is received from leader.
            #     BROADCAST_TIMEOUT_MS: How often heartbeats are sent to  followers.
            #     XMLRPC_TIMEOUT_MS: To timeout raft related API calls
            #
            #   RAFT_LEADER_HOOK: Executed when a server transits from follower->leader
            #     The purpose of this hook is to configure the Virtual IP.
            #     COMMAND: raft/vip.sh is a fully working script, this should not be changed
            #     ARGUMENTS: <interface> and <ip_cidr> must be replaced. For example
            #                ARGUMENTS = "leader ens1 10.0.0.2/24"
            #
            #   RAFT_FOLLOWER_HOOK: Executed when a server transits from leader->follower
            #     The purpose of this hook is to configure the Virtual IP.
            #     COMMAND: raft/vip.sh is a fully working script, this should not be changed
            #     ARGUMENTS: <interface> and <ip_cidr> must be replaced. For example
            #                ARGUMENTS = "follower ens1 10.0.0.2/24"
            #
            #  NOTE: Timeout tunning depends on the latency of the servers (network and load)
            #  as well as the max downtime tolerated by the system. Timeouts needs to be
            #  greater than 10ms
            #
            #*******************************************************************************

            FEDERATION = [
                MODE          = "STANDALONE",
                ZONE_ID       = 0,
                SERVER_ID     = -1,
                MASTER_ONED   = ""
            ]

            RAFT = [
                LOG_RETENTION        = 500000,
                LOG_PURGE_TIMEOUT    = 600,
                ELECTION_TIMEOUT_MS  = 2500,
                BROADCAST_TIMEOUT_MS = 500,
                XMLRPC_TIMEOUT_MS    = 2000
            ]

            # Executed when a server transits from follower->leader
            # RAFT_LEADER_HOOK = [
            #     COMMAND = "raft/vip.sh",
            #     ARGUMENTS = "leader <interface> <ip_cidr>"
            # ]

            # Executed when a server transits from leader->follower
            # RAFT_FOLLOWER_HOOK = [
            #     COMMAND = "raft/vip.sh",
            #     ARGUMENTS = "follower <interface> <ip_cidr>"
            # ]

            #*******************************************************************************
            # Default showback cost
            #-------------------------------------------------------------------------------
            # The following attributes define the default cost for Virtual Machines that
            # don't have a CPU, MEMORY or DISK cost. This is used by the oneshowback
            # calculate method.
            #*******************************************************************************

            DEFAULT_COST = [
                CPU_COST    = 0,
                MEMORY_COST = 0,
                DISK_COST   = 0
            ]

            #*******************************************************************************
            # XML-RPC server configuration
            #-------------------------------------------------------------------------------
            #  These are configuration parameters for oned's xmlrpc-c server
            #
            #  MAX_CONN: Maximum number of simultaneous TCP connections the server
            #  will maintain
            #
            #  MAX_CONN_BACKLOG: Maximum number of TCP connections the operating system
            #  will accept on the server's behalf without the server accepting them from
            #  the operating system
            #
            #  KEEPALIVE_TIMEOUT: Maximum time in seconds that the server allows a
            #  connection to be open between RPCs
            #
            #  KEEPALIVE_MAX_CONN: Maximum number of RPCs that the server will execute on
            #  a single connection
            #
            #  TIMEOUT: Maximum time in seconds the server will wait for the client to
            #  do anything while processing an RPC. This timeout will be also used when
            #  proxy calls to the master in a federation.
            #
            #  RPC_LOG: Create a separated log file for xml-rpc requests, in
            #  "/var/log/one/one_xmlrpc.log".
            #
            #  MESSAGE_SIZE: Buffer size in bytes for XML-RPC responses.
            #
            #  LOG_CALL_FORMAT: Format string to log XML-RPC calls. Interpreted strings:
            #     %i -- request id
            #     %m -- method name
            #     %u -- user id
            #     %U -- user name
            #     %l -- param list
            #     %p -- user password
            #     %g -- group id
            #     %G -- group name
            #     %a -- auth token
            #     %% -- %
            #*******************************************************************************

            #MAX_CONN           = 15
            #MAX_CONN_BACKLOG   = 15
            #KEEPALIVE_TIMEOUT  = 15
            #KEEPALIVE_MAX_CONN = 30
            #TIMEOUT            = 15
            #RPC_LOG            = NO
            #MESSAGE_SIZE       = 1073741824
            #LOG_CALL_FORMAT    = "Req:%i UID:%u %m invoked %l"

            #*******************************************************************************
            # Physical Networks configuration
            #*******************************************************************************
            #  NETWORK_SIZE: Here you can define the default size for the virtual networks
            #
            #  MAC_PREFIX: Default MAC prefix to be used to create the auto-generated MAC
            #  addresses is defined here (this can be overwritten by the Virtual Network
            #  template)
            #
            #  VLAN_IDS: VLAN ID pool for the automatic VLAN_ID assignment. This pool
            #  is for 802.1Q networks (Open vSwitch and 802.1Q drivers). The driver
            #  will try first to allocate VLAN_IDS[START] + VNET_ID
            #     start: First VLAN_ID to use
            #     reserved: Comma separated list of VLAN_IDs or ranges. Two numbers
            #     separated by a colon indicate a range.
            #
            # VXLAN_IDS: Automatic VXLAN Network ID (VNI) assignment. This is used
            # for vxlan networks.
            #     start: First VNI to use
            #     NOTE: reserved is not supported by this pool
            #
            # PCI_PASSTHROUGH_BUS: Default bus to attach passthrough devices in the guest,
            # in hex notation. It may be overwritten in the PCI device using the BUS
            # attribute.
            #*******************************************************************************

            NETWORK_SIZE = 254

            MAC_PREFIX   = "02:00"

            VLAN_IDS = [
                START    = "2",
                RESERVED = "0, 1, 4095"
            ]

            VXLAN_IDS = [
                START = "2"
            ]

            #PCI_PASSTHROUGH_BUS = "0x01"

            #*******************************************************************************
            # DataStore Configuration
            #*******************************************************************************
            #  DATASTORE_LOCATION: Path for Datastores. It IS the same for all the hosts
            #  and front-end. It defaults to /var/lib/one/datastores (in self-contained mode
            #  defaults to $ONE_LOCATION/var/datastores). Each datastore has its own
            #  directory (called BASE_PATH) in the form: $DATASTORE_LOCATION/<datastore_id>
            #  You can symlink this directory to any other path if needed. BASE_PATH is
            #  generated from this attribute each time oned is started.
            #
            #  DATASTORE_CAPACITY_CHECK: Checks that there is enough capacity before
            #  creating a new image. Defaults to Yes
            #
            #  DEFAULT_IMAGE_TYPE: This can take values
            #       OS        Image file holding an operating system
            #       CDROM     Image file holding a CDROM
            #       DATABLOCK Image file holding a datablock, created as an empty block
            #
            #  DEFAULT_DEVICE_PREFIX: This can be set to
            #       hd        IDE prefix
            #       sd        SCSI
            #       vd        KVM virtual disk
            #
            #  DEFAULT_CDROM_DEVICE_PREFIX: Same as above but for CDROM devices.
            #
            #  DEFAULT_IMAGE_PERSISTENT: Control the default value for the PERSISTENT
            #  attribute on image creation (oneimage clone, onevm disk-saveas). If blank
            #  images will inherit the persistent attribute from the base image.
            #
            #  DEFAULT_IMAGE_PERSISTENT_NEW: Control the default value for the PERSISTENT
            #  attribute on image creation (oneimage create). By default images are no
            #  persistent if not set.
            #*******************************************************************************

            #DATASTORE_LOCATION  = /var/lib/one/datastores

            DATASTORE_CAPACITY_CHECK = "yes"

            DEFAULT_DEVICE_PREFIX       = "hd"
            DEFAULT_CDROM_DEVICE_PREFIX = "hd"

            DEFAULT_IMAGE_TYPE           = "OS"
            #DEFAULT_IMAGE_PERSISTENT     = ""
            #DEFAULT_IMAGE_PERSISTENT_NEW = ""

            #*******************************************************************************
            # Information Driver Configuration
            #*******************************************************************************
            # You can add more information managers with different configurations but make
            # sure it has different names.
            #
            #   name      : name for this information manager
            #
            #   executable: path of the information driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable, usually a probe configuration file,
            #               can be an absolute path or relative to $ONE_LOCATION/etc (or
            #               /etc/one/ if OpenNebula was installed in /)
            #*******************************************************************************

            #-------------------------------------------------------------------------------
            #  Information Collector for KVM IM's.
            #-------------------------------------------------------------------------------
            #  This driver CANNOT BE ASSIGNED TO A HOST, and needs to be used with KVM
            #    -h  prints this help.
            #    -a  Address to bind the collectd socket (default 0.0.0.0)
            #    -p  UDP port to listen for monitor information (default 4124)
            #    -f  Interval in seconds to flush collected information (default 5)
            #    -t  Number of threads for the server (default 50)
            #    -i  Time in seconds of the monitorization push cycle. This parameter must
            #        be smaller than MONITORING_INTERVAL, otherwise push monitorization will
            #        not be effective.
            #    -w  Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            IM_MAD = [
                  NAME       = "collectd",
                  EXECUTABLE = "collectd",
                  ARGUMENTS  = "-p 4124 -f 5 -t 50 -i 20" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  KVM UDP-push Information Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            IM_MAD = [
                  NAME          = "kvm",
                  SUNSTONE_NAME = "KVM",
                  EXECUTABLE    = "one_im_ssh",
                  ARGUMENTS     = "-r 3 -t 15 kvm" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  KVM SSH-pull Information Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            # IM_MAD = [
            #       NAME          = "kvm",
            #       SUNSTONE_NAME = "kvm-ssh",
            #       EXECUTABLE    = "one_im_ssh",
            #       ARGUMENTS     = "-r 3 -t 15 kvm-probes" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  vCenter Information Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            IM_MAD = [
                  NAME          = "vcenter",
                  SUNSTONE_NAME = "VMWare vCenter",
                  EXECUTABLE    = "one_im_sh",
                  ARGUMENTS     = "-c -t 15 -r 0 vcenter" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  EC2 Information Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            #IM_MAD = [
            #      NAME          = "ec2",
            #      SUNSTONE_NAME = "Amazon EC2",
            #      EXECUTABLE    = "one_im_sh",
            #      ARGUMENTS     = "-c -t 1 -r 0 -w 600 ec2" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  Azure Information Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            #IM_MAD = [
            #      NAME          = "az",
            #      SUNSTONE_NAME = "Microsoft Azure",
            #      EXECUTABLE    = "one_im_sh",
            #      ARGUMENTS     = "-c -t 1 -r 0 az" ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  Dummy Information Driver Manager Configuration
            #-------------------------------------------------------------------------------
            #IM_MAD = [ NAME="dummy", SUNSTONE_NAME="Testing", EXECUTABLE="one_im_dummy"]
            #-------------------------------------------------------------------------------

            #*******************************************************************************
            # Virtualization Driver Configuration
            #*******************************************************************************
            # You can add more virtualization managers with different configurations but
            # make sure it has different names.
            #
            #   name      : name of the virtual machine manager driver
            #
            #   executable: path of the virtualization driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable
            #
            #   default   : default values and configuration parameters for the driver, can
            #               be an absolute path or relative to $ONE_LOCATION/etc (or
            #               /etc/one/ if OpenNebula was installed in /)
            #
            #   type      : driver type, supported drivers: xen, kvm, xml
            #
            #   keep_snapshots: do not remove snapshots on power on/off cycles and live
            #   migrations if the hypervisor supports that.
            #
            #   imported_vms_actions : comma-separated list of actions supported
            #                          for imported vms. The available actions are:
            #                              migrate
            #                              live-migrate
            #                              terminate
            #                              terminate-hard
            #                              undeploy
            #                              undeploy-hard
            #                              hold
            #                              release
            #                              stop
            #                              suspend
            #                              resume
            #                              delete
            #                              delete-recreate
            #                              reboot
            #                              reboot-hard
            #                              resched
            #                              unresched
            #                              poweroff
            #                              poweroff-hard
            #                              disk-attach
            #                              disk-detach
            #                              nic-attach
            #                              nic-detach
            #                              snap-create
            #                              snap-delete
            #*******************************************************************************

            #-------------------------------------------------------------------------------
            #  KVM Virtualization Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -l <actions[=command_name]> actions executed locally, command can be
            #        overridden for each action.
            #        Valid actions: deploy, shutdown, cancel, save, restore, migrate, poll
            #        An example: "-l migrate=migrate_local,save"
            #    -p more than one action per host in parallel, needs support from hypervisor
            #    -s <shell> to execute remote commands, bash by default
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #
            #  Note: You can use type = "qemu" to use qemu emulated guests, e.g. if your
            #  CPU does not have virtualization extensions or use nested Qemu-KVM hosts
            #-------------------------------------------------------------------------------
            VM_MAD = [
                NAME           = "kvm",
                SUNSTONE_NAME  = "KVM",
                EXECUTABLE     = "one_vmm_exec",
                ARGUMENTS      = "-t 15 -r 0 kvm",
                DEFAULT        = "vmm_exec/vmm_exec_kvm.conf",
                TYPE           = "kvm",
                KEEP_SNAPSHOTS = "no",
                IMPORTED_VMS_ACTIONS = "terminate, terminate-hard, hold, release, suspend,
                    resume, delete, reboot, reboot-hard, resched, unresched, disk-attach,
                    disk-detach, nic-attach, nic-detach, snap-create, snap-delete"
            ]

            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  vCenter Virtualization Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of hosts monitored at the same time
            #    -p more than one action per host in parallel, needs support from hypervisor
            #    -s <shell> to execute commands, bash by default
            #    -d default snapshot strategy. It can be either 'detach' or 'suspend'. It
            #       defaults to 'suspend'.
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            VM_MAD = [
                NAME           = "vcenter",
                SUNSTONE_NAME  = "VMWare vCenter",
                EXECUTABLE     = "one_vmm_sh",
                ARGUMENTS      = "-p -t 15 -r 0 vcenter -s sh",
                DEFAULT        = "vmm_exec/vmm_exec_vcenter.conf",
                TYPE           = "xml",
                KEEP_SNAPSHOTS = "yes",
                IMPORTED_VMS_ACTIONS = "terminate, terminate-hard, hold, release, suspend,
                    resume, delete, reboot, reboot-hard, resched, unresched, poweroff,
                    poweroff-hard, disk-attach, disk-detach, nic-attach, nic-detach,
                    snap-create, snap-delete"
            ]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  EC2 Virtualization Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of actions performed at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #    -p more than one action per host in parallel, needs support from hypervisor
            #-------------------------------------------------------------------------------
            #VM_MAD = [
            #    NAME           = "ec2",
            #    SUNSTONE_NAME  = "Amazon EC2",
            #    EXECUTABLE     = "one_vmm_sh",
            #    ARGUMENTS      = "-t 15 -r 0 -w 600 -p ec2",
            #    TYPE           = "xml",
            #    KEEP_SNAPSHOTS = "no",
            #    IMPORTED_VMS_ACTIONS = "terminate, terminate-hard, hold, release, suspend,
            #        resume, delete, reboot, reboot-hard, resched, unresched, poweroff,
            #        poweroff-hard, disk-attach, disk-detach, nic-attach, nic-detach,
            #        snap-create, snap-delete"
            #]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  Azure Virtualization Driver Manager Configuration
            #    -r number of retries when monitoring a host
            #    -t number of threads, i.e. number of actions performed at the same time
            #    -w Timeout in seconds to execute external commands (default unlimited)
            #-------------------------------------------------------------------------------
            #VM_MAD = [
            #    NAME           = "az",
            #    SUNSTONE_NAME  = "Microsoft Azure",
            #    EXECUTABLE     = "one_vmm_sh",
            #    ARGUMENTS      = "-t 15 -r 0 az",
            #    TYPE           = "xml",
            #    KEEP_SNAPSHOTS = "no",
            #    IMPORTED_VMS_ACTIONS = "terminate, terminate-hard, hold, release, suspend,
            #        resume, delete, reboot, reboot-hard, resched, unresched, poweroff,
            #        poweroff-hard, disk-attach, disk-detach, nic-attach, nic-detach,
            #        snap-create, snap-delete"
            #]
            #-------------------------------------------------------------------------------

            #-------------------------------------------------------------------------------
            #  Dummy Virtualization Driver Configuration
            #-------------------------------------------------------------------------------
            #VM_MAD = [ NAME="dummy", SUNSTONE_NAME="Testing", EXECUTABLE="one_vmm_dummy",
            #  TYPE="xml" ]
            #-------------------------------------------------------------------------------

            #*******************************************************************************
            # Transfer Manager Driver Configuration
            #*******************************************************************************
            # You can add more transfer managers with different configurations but make
            # sure it has different names.
            #   name      : name for this transfer driver
            #
            #   executable: path of the transfer driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #   arguments :
            #       -t: number of threads, i.e. number of transfers made at the same time
            #       -d: list of transfer drivers separated by commas, if not defined all the
            #           drivers available will be enabled
            #       -w: Timeout in seconds to execute external commands (default unlimited)
            #*******************************************************************************

            TM_MAD = [
                EXECUTABLE = "one_tm",
                ARGUMENTS = "-t 15 -d dummy,lvm,shared,fs_lvm,qcow2,ssh,ceph,dev,vcenter,iscsi_libvirt"
            ]

            #*******************************************************************************
            # Datastore Driver Configuration
            #*******************************************************************************
            # Drivers to manage the datastores, specialized for the storage backend
            #   executable: path of the transfer driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable
            #       -t number of threads, i.e. number of repo operations at the same time
            #       -d datastore mads separated by commas
            #       -s system datastore tm drivers, used to monitor shared system ds.
            #       -w Timeout in seconds to execute external commands (default unlimited)
            #*******************************************************************************

            DATASTORE_MAD = [
                EXECUTABLE = "one_datastore",
                ARGUMENTS  = "-t 15 -d dummy,fs,lvm,ceph,dev,iscsi_libvirt,vcenter -s shared,ssh,ceph,fs_lvm,qcow2,vcenter"
            ]

            #*******************************************************************************
            # Marketplace Driver Configuration
            #*******************************************************************************
            # Drivers to manage different marketplaces, specialized for the storage backend
            #   executable: path of the transfer driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable
            #       -t number of threads, i.e. number of repo operations at the same time
            #       -m marketplace mads separated by commas
            #       --proxy proxy address if required to access the internet
            #       -w Timeout in seconds to execute external commands (default unlimited)
            #*******************************************************************************

            MARKET_MAD = [
                EXECUTABLE = "one_market",
                ARGUMENTS  = "-t 15 -m http,s3,one"
            ]

            #*******************************************************************************
            # IPAM Driver Configuration
            #*******************************************************************************
            # Drivers to manage different IPAMs
            #   executable: path of the IPAM driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable
            #       -t number of threads, i.e. number of operations at the same time
            #       -i IPAM mads separated by commas
            #*******************************************************************************

            IPAM_MAD = [
                EXECUTABLE = "one_ipam",
                ARGUMENTS  = "-t 1 -i dummy"
            ]

            #*******************************************************************************
            # Hook Manager Configuration
            #*******************************************************************************
            # The Driver (HM_MAD)
            # -----------------------------------------------
            #
            # Used to execute the Hooks:
            #   executable: path of the hook driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   arguments : for the driver executable, can be an absolute path or relative
            #               to $ONE_LOCATION/etc (or /etc/one/ if OpenNebula was installed
            #               in /)
            #
            # Virtual Machine Hooks (VM_HOOK)
            # -------------------------------
            #
            # Defined by:
            #   name      : for the hook, useful to track the hook (OPTIONAL)
            #   on        : when the hook should be executed,
            #               - CREATE, when the VM is created (onevm create)
            #               - PROLOG, when the VM is in the prolog state
            #               - RUNNING, after the VM is successfully booted
            #               - UNKNOWN, when the VM is in the unknown state
            #               - SHUTDOWN, after the VM is shutdown
            #               - STOP, after the VM is stopped (including VM image transfers)
            #               - DONE, after the VM is deleted or shutdown
            #               - CUSTOM, user defined specific STATE and LCM_STATE combination
            #                 of states to trigger the hook.
            #   command   : path is relative to $ONE_LOCATION/var/remotes/hook
            #               (self-contained) or to /var/lib/one/remotes/hook (system-wide).
            #               That directory will be copied on the hosts under
            #               SCRIPTS_REMOTE_DIR. It can be an absolute path that must exist
            #               on the target host
            #   arguments : for the hook. You can access to VM information with $
            #               - $ID, the ID of the virtual machine
            #               - $TEMPLATE, the VM template in xml and base64 encoded
            #               - $PREV_STATE, the previous STATE of the Virtual Machine
            #               - $PREV_LCM_STATE, the previous LCM STATE of the Virtual Machine
            #   remote    : values,
            #               - YES, The hook is executed in the host where the VM was
            #                 allocated
            #               - NO, The hook is executed in the OpenNebula server (default)
            #
            # Example Virtual Machine Hook
            # ----------------------------
            #
            # VM_HOOK = [
            #   name      = "advanced_hook",
            #   on        = "CUSTOM",
            #   state     = "ACTIVE",
            #   lcm_state = "BOOT_UNKNOWN",
            #   command   = "log.rb",
            #   arguments = "$ID $PREV_STATE $PREV_LCM_STATE" ]
            #
            # Host Hooks (HOST_HOOK)
            # -------------------------------
            #
            # Defined by:
            #   name      : for the hook, useful to track the hook (OPTIONAL)
            #   on        : when the hook should be executed,
            #               - CREATE, when the Host is created (onehost create)
            #               - ERROR, when the Host enters the error state
            #               - DISABLE, when the Host is disabled
            #   command   : path is relative to $ONE_LOCATION/var/remotes/hook
            #               (self-contained) or to /var/lib/one/remotes/hook (system-wide).
            #               That directory will be copied on the hosts under
            #               SCRIPTS_REMOTE_DIR. It can be an absolute path that must exist
            #               on the target host.
            #   arguments : for the hook. You can use the following Host information:
            #               - $ID, the ID of the host
            #               - $TEMPLATE, the Host template in xml and base64 encoded
            #   remote    : values,
            #               - YES, The hook is executed in the host
            #               - NO, The hook is executed in the OpenNebula server (default)
            #
            # Virtual Network (VNET_HOOK)
            # Virtual Router (VROUTER_HOOK)
            # User (USER_HOOK)
            # Group (GROUP_HOOK)
            # Image (IMAGE_HOOK)
            # -------------------------------
            #
            # These hooks are executed when one of the referring entities are created or
            # removed. Each hook is defined by:
            #   name      : for the hook, useful to track the hook (OPTIONAL)
            #   on        : when the hook should be executed,
            #               - CREATE, when the vnet is created
            #               - REMOVE, when the vnet is removed
            #   command   : path is relative to $ONE_LOCATION/var/remotes/hook
            #               (self-contained) or to /var/lib/one/remotes/hook (system-wide).
            #               That directory will be copied on the hosts under
            #               SCRIPTS_REMOTE_DIR. It can be an absolute path that must exist
            #               on the target host.
            #   arguments : for the hook. You can use the following Host information:
            #               - $ID, the ID of the host
            #               - $TEMPLATE, the vnet template in xml and base64 encoded
            #
            # Please note: In a Federation, User and Group hooks can only be defined in
            # the master OpenNebula.
            #-------------------------------------------------------------------------------

            HM_MAD = [
                EXECUTABLE = "one_hm" ]

            #VNET_HOOK = [
            #    name      = "vcenter_net_create",
            #    on        = "CREATE",
            #    command   = "vcenter/create_vcenter_net.rb",
            #    arguments = "$ID $TEMPLATE"]

            #VNET_HOOK = [
            #    name      = "vcenter_net_delete",
            #    on        = "REMOVE",
            #    command   = "vcenter/delete_vcenter_net.rb",
            #    arguments = "$ID $TEMPLATE"]

            #*******************************************************************************
            # Fault Tolerance Hooks
            #*******************************************************************************
            # This hook is used to perform recovery actions when a host fails.
            # Script to implement host failure tolerance
            #   One of the following modes must be chosen
            #           -m resched VMs to another host. (Only for images in shared storage!)
            #           -r recreate VMs running in the host. State will be lost.
            #           -d delete VMs running in the host
            #
            #   Additional flags
            #           -f resubmit suspended and powered off VMs (only for recreate)
            #           -p <n> avoid resubmission if host comes back after n monitoring
            #                 cycles. 0 to disable it. Default is 2.
            #           -u disables fencing. Fencing is enabled by default. Don't disable it
            #                 unless you are very sure about what you're doing
            #*******************************************************************************
            #
            #HOST_HOOK = [
            #    NAME      = "error",
            #    ON        = "ERROR",
            #    COMMAND   = "ft/host_error.rb",
            #    ARGUMENTS = "$ID -m -p 5",
            #    REMOTE    = "no" ]
            #-------------------------------------------------------------------------------

            #*******************************************************************************
            # Auth Manager Configuration
            #*******************************************************************************
            # AUTH_MAD: The Driver that will be used to authenticate (authn) and
            # authorize (authz) OpenNebula requests. If defined OpenNebula will use the
            # built-in auth policies.
            #
            #   executable: path of the auth driver executable, can be an
            #               absolute path or relative to $ONE_LOCATION/lib/mads (or
            #               /usr/lib/one/mads/ if OpenNebula was installed in /)
            #
            #   authn     : list of authentication modules separated by commas, if not
            #               defined all the modules available will be enabled
            #   authz     : list of authentication modules separated by commas
            #
            # DEFAULT_AUTH: The default authentication driver to use when OpenNebula does
            # not know the user and needs to authenticate it externally.  If you want to
            # use "default" (not recommended, but supported for backwards compatibility
            # reasons) make sure you create a symlink pointing to the actual authentication
            # driver in /var/lib/one/remotes/auth, and add "default" to the 'auth'
            # parameter in the 'AUTH_MAD' section.
            #
            # SESSION_EXPIRATION_TIME: Time in seconds to keep an authenticated token as
            # valid. During this time, the driver is not used. Use 0 to disable session
            # caching
            #
            # ENABLE_OTHER_PERMISSIONS: Whether or not users can set the permissions for
            # 'other', so publishing or sharing resources with others. Users in the oneadmin
            # group will still be able to change these permissions. Values: YES or NO.
            #
            # DEFAULT_UMASK: Similar to Unix umask, sets the default resources permissions.
            # Its format must be 3 octal digits. For example a umask of 137 will set
            # the new object's permissions to 640 "um- u-- ---"
            #*******************************************************************************

            AUTH_MAD = [
                EXECUTABLE = "one_auth_mad",
                AUTHN = "ssh,x509,ldap,server_cipher,server_x509"
            ]

            #DEFAULT_AUTH = "default"

            SESSION_EXPIRATION_TIME = 900

            #ENABLE_OTHER_PERMISSIONS = "YES"

            DEFAULT_UMASK = 177

            #*******************************************************************************
            # OneGate
            #   ONEGATE_ENDPOINT: The URL for the onegate server (the Gate to OpenNebula for
            #   VMs). The onegate server is started using a separate command. The endpoint
            #   MUST be consistent with the values in onegate-server.conf
            #*******************************************************************************

            #ONEGATE_ENDPOINT = "http://frontend:5030"

            #*******************************************************************************
            # VM Operations Permissions
            #******************************************************************************
            # The following parameters define the operations associated to the ADMIN,
            # MANAGE and USE permissions. Note that some VM operations require additional
            # permissions on other objects. Also some operations refers to a class of
            # actions:
            #   - disk-snapshot, includes create, delete and revert actions
            #   - disk-attach, includes attach and detach actions
            #   - nic-attach, includes attach and detach actions
            #   - snapshot, includes create, delete and revert actions
            #   - resched, includes resched and unresched actions
            #******************************************************************************

            VM_ADMIN_OPERATIONS  = "migrate, delete, recover, retry, deploy, resched"

            VM_MANAGE_OPERATIONS = "undeploy, hold, release, stop, suspend, resume, reboot,
                poweroff, disk-attach, nic-attach, disk-snapshot, terminate, disk-resize,
                snapshot, updateconf, rename, resize, update, disk-saveas"

            VM_USE_OPERATIONS    = ""

            #*******************************************************************************
            # Restricted Attributes Configuration
            #*******************************************************************************
            # The following attributes are restricted to users outside the oneadmin group
            #*******************************************************************************

            VM_RESTRICTED_ATTR = "CONTEXT/FILES"
            VM_RESTRICTED_ATTR = "NIC/MAC"
            VM_RESTRICTED_ATTR = "NIC/VLAN_ID"
            VM_RESTRICTED_ATTR = "NIC/BRIDGE"
            #VM_RESTRICTED_ATTR = "NIC/INBOUND_AVG_BW"
            #VM_RESTRICTED_ATTR = "NIC/INBOUND_PEAK_BW"
            #VM_RESTRICTED_ATTR = "NIC/INBOUND_PEAK_KB"
            #VM_RESTRICTED_ATTR = "NIC/OUTBOUND_AVG_BW"
            #VM_RESTRICTED_ATTR = "NIC/OUTBOUND_PEAK_BW"
            #VM_RESTRICTED_ATTR = "NIC/OUTBOUND_PEAK_KB"
            #VM_RESTRICTED_ATTR = "NIC/OPENNEBULA_MANAGED"
            #VM_RESTRICTED_ATTR = "NIC/VCENTER_INSTANCE_ID"
            #VM_RESTRICTED_ATTR = "NIC/VCENTER_NET_REF"
            #VM_RESTRICTED_ATTR = "NIC/VCENTER_PORTGROUP_TYPE"
            VM_RESTRICTED_ATTR = "NIC_DEFAULT/MAC"
            VM_RESTRICTED_ATTR = "NIC_DEFAULT/VLAN_ID"
            VM_RESTRICTED_ATTR = "NIC_DEFAULT/BRIDGE"
            #VM_RESTRICTED_ATTR = "DISK/TOTAL_BYTES_SEC"
            #VM_RESTRICTED_ATTR = "DISK/READ_BYTES_SEC"
            #VM_RESTRICTED_ATTR = "DISK/WRITE_BYTES_SEC"
            #VM_RESTRICTED_ATTR = "DISK/TOTAL_IOPS_SEC"
            #VM_RESTRICTED_ATTR = "DISK/READ_IOPS_SEC"
            #VM_RESTRICTED_ATTR = "DISK/WRITE_IOPS_SEC"
            #VM_RESTRICTED_ATTR = "DISK/OPENNEBULA_MANAGED"
            #VM_RESTRICTED_ATTR = "DISK/VCENTER_DS_REF"
            #VM_RESTRICTED_ATTR = "DISK/VCENTER_INSTANCE_ID"
            #VM_RESTRICTED_ATTR = "DISK/SIZE"
            #VM_RESTRICTED_ATTR = "DISK/ORIGINAL_SIZE"
            #VM_RESTRICTED_ATTR = "DISK/SIZE_PREV"
            VM_RESTRICTED_ATTR = "CPU_COST"
            VM_RESTRICTED_ATTR = "MEMORY_COST"
            VM_RESTRICTED_ATTR = "DISK_COST"
            VM_RESTRICTED_ATTR = "PCI"
            VM_RESTRICTED_ATTR = "EMULATOR"
            VM_RESTRICTED_ATTR = "RAW"
            VM_RESTRICTED_ATTR = "USER_PRIORITY"
            #VM_RESTRICTED_ATTR = "USER_INPUTS/CPU"
            #VM_RESTRICTED_ATTR = "USER_INPUTS/MEMORY"
            #VM_RESTRICTED_ATTR = "USER_INPUTS/VCPU"
            #VM_RESTRICTED_ATTR = "TEMPLATE/VCENTER_VM_FOLDER"

            #VM_RESTRICTED_ATTR = "RANK"
            #VM_RESTRICTED_ATTR = "SCHED_RANK"
            #VM_RESTRICTED_ATTR = "REQUIREMENTS"
            #VM_RESTRICTED_ATTR = "SCHED_REQUIREMENTS"

            IMAGE_RESTRICTED_ATTR = "SOURCE"
            #IMAGE_RESTRICTED_ATTR = "TEMPLATE/VCENTER_IMPORTED"

            #*******************************************************************************
            # The following restricted attributes only apply to VNets that are a reservation.
            # Normal VNets do not have restricted attributes.
            #*******************************************************************************

            VNET_RESTRICTED_ATTR = "VN_MAD"
            VNET_RESTRICTED_ATTR = "PHYDEV"
            VNET_RESTRICTED_ATTR = "VLAN_ID"
            VNET_RESTRICTED_ATTR = "BRIDGE"
            VNET_RESTRICTED_ATTR = "CONF"
            VNET_RESTRICTED_ATTR = "BRIDGE_CONF"
            VNET_RESTRICTED_ATTR = "IP_LINK_CONF"

            VNET_RESTRICTED_ATTR = "AR/VN_MAD"
            VNET_RESTRICTED_ATTR = "AR/PHYDEV"
            VNET_RESTRICTED_ATTR = "AR/VLAN_ID"
            VNET_RESTRICTED_ATTR = "AR/BRIDGE"

            #*******************************************************************************
            # Inherited Attributes Configuration
            #*******************************************************************************
            # The following attributes will be copied from the resource template to the
            # instantiated VMs. More than one attribute can be defined.
            #
            # INHERIT_IMAGE_ATTR: Attribute to be copied from the Image template
            # to each VM/DISK.
            #
            # INHERIT_DATASTORE_ATTR: Attribute to be copied from the Datastore template
            # to each VM/DISK.
            #
            # INHERIT_VNET_ATTR: Attribute to be copied from the Network template
            # to each VM/NIC.
            #*******************************************************************************

            #INHERIT_IMAGE_ATTR     = "EXAMPLE"
            #INHERIT_IMAGE_ATTR     = "SECOND_EXAMPLE"
            #INHERIT_DATASTORE_ATTR = "COLOR"
            #INHERIT_VNET_ATTR      = "BANDWIDTH_THROTTLING"

            INHERIT_DATASTORE_ATTR  = "CEPH_HOST"
            INHERIT_DATASTORE_ATTR  = "CEPH_SECRET"
            INHERIT_DATASTORE_ATTR  = "CEPH_KEY"
            INHERIT_DATASTORE_ATTR  = "CEPH_USER"
            INHERIT_DATASTORE_ATTR  = "CEPH_CONF"
            INHERIT_DATASTORE_ATTR  = "POOL_NAME"

            INHERIT_DATASTORE_ATTR  = "ISCSI_USER"
            INHERIT_DATASTORE_ATTR  = "ISCSI_USAGE"
            INHERIT_DATASTORE_ATTR  = "ISCSI_HOST"

            INHERIT_IMAGE_ATTR      = "ISCSI_USER"
            INHERIT_IMAGE_ATTR      = "ISCSI_USAGE"
            INHERIT_IMAGE_ATTR      = "ISCSI_HOST"
            INHERIT_IMAGE_ATTR      = "ISCSI_IQN"

            INHERIT_DATASTORE_ATTR  = "GLUSTER_HOST"
            INHERIT_DATASTORE_ATTR  = "GLUSTER_VOLUME"

            INHERIT_DATASTORE_ATTR  = "DISK_TYPE"
            INHERIT_DATASTORE_ATTR  = "ALLOW_ORPHANS"

            INHERIT_DATASTORE_ATTR  = "VCENTER_ADAPTER_TYPE"
            INHERIT_DATASTORE_ATTR  = "VCENTER_DISK_TYPE"
            INHERIT_DATASTORE_ATTR  = "VCENTER_DS_REF"
            INHERIT_DATASTORE_ATTR  = "VCENTER_DS_IMAGE_DIR"
            INHERIT_DATASTORE_ATTR  = "VCENTER_DS_VOLATILE_DIR"
            INHERIT_DATASTORE_ATTR  = "VCENTER_INSTANCE_ID"

            INHERIT_IMAGE_ATTR      = "DISK_TYPE"
            INHERIT_IMAGE_ATTR      = "VCENTER_ADAPTER_TYPE"
            INHERIT_IMAGE_ATTR      = "VCENTER_DISK_TYPE"

            INHERIT_VNET_ATTR       = "VLAN_TAGGED_ID"
            INHERIT_VNET_ATTR       = "FILTER_IP_SPOOFING"
            INHERIT_VNET_ATTR       = "FILTER_MAC_SPOOFING"
            INHERIT_VNET_ATTR       = "MTU"
            INHERIT_VNET_ATTR       = "INBOUND_AVG_BW"
            INHERIT_VNET_ATTR       = "INBOUND_PEAK_BW"
            INHERIT_VNET_ATTR       = "INBOUND_PEAK_KB"
            INHERIT_VNET_ATTR       = "OUTBOUND_AVG_BW"
            INHERIT_VNET_ATTR       = "OUTBOUND_PEAK_BW"
            INHERIT_VNET_ATTR       = "OUTBOUND_PEAK_KB"
            INHERIT_VNET_ATTR       = "CONF"
            INHERIT_VNET_ATTR       = "BRIDGE_CONF"
            INHERIT_VNET_ATTR       = "IP_LINK_CONF"

            INHERIT_VNET_ATTR       = "VCENTER_NET_REF"
            INHERIT_VNET_ATTR       = "VCENTER_SWITCH_NAME"
            INHERIT_VNET_ATTR       = "VCENTER_SWITCH_NPORTS"
            INHERIT_VNET_ATTR       = "VCENTER_PORTGROUP_TYPE"
            INHERIT_VNET_ATTR       = "VCENTER_CCR_REF"
            INHERIT_VNET_ATTR       = "VCENTER_INSTANCE_ID"

            #*******************************************************************************
            # Transfer Manager Driver Behavior Configuration
            #*******************************************************************************
            # The  configuration for each driver is defined in TM_MAD_CONF. These
            # values are used when creating a new datastore and should not be modified
            # since they define the datastore behavior.
            #   name      : name of the transfer driver, listed in the -d option of the
            #               TM_MAD section
            #   ln_target : determines how the persistent images will be cloned when
            #               a new VM is instantiated.
            #       NONE: The image will be linked and no more storage capacity will be used
            #       SELF: The image will be cloned in the Images datastore
            #       SYSTEM: The image will be cloned in the System datastore
            #   clone_target : determines how the non persistent images will be
            #                  cloned when a new VM is instantiated.
            #       NONE: The image will be linked and no more storage capacity will be used
            #       SELF: The image will be cloned in the Images datastore
            #       SYSTEM: The image will be cloned in the System datastore
            #   shared : determines if the storage holding the system datastore is shared
            #            among the different hosts or not. Valid values: "yes" or "no"
            #   ds_migrate : The driver allows migrations across datastores. Valid values:
            #               "yes" or "no". Note: THIS ONLY APPLIES TO SYSTEM DS.
            #   allow_orphans: Snapshots can live without parents
            #*******************************************************************************

            TM_MAD_CONF = [
                NAME = "dummy", LN_TARGET = "NONE", CLONE_TARGET = "SYSTEM", SHARED = "YES",
                DS_MIGRATE = "YES"
            ]

            TM_MAD_CONF = [
                NAME = "lvm", LN_TARGET = "NONE", CLONE_TARGET = "SELF", SHARED = "YES"
            ]

            TM_MAD_CONF = [
                NAME = "shared", LN_TARGET = "NONE", CLONE_TARGET = "SYSTEM", SHARED = "YES",
                DS_MIGRATE = "YES"
            ]

            TM_MAD_CONF = [
                NAME = "fs_lvm", LN_TARGET = "SYSTEM", CLONE_TARGET = "SYSTEM", SHARED="YES",
                DRIVER = "raw"
            ]

            TM_MAD_CONF = [
                NAME = "qcow2", LN_TARGET = "NONE", CLONE_TARGET = "SYSTEM", SHARED = "YES",
                DRIVER = "qcow2"
            ]

            TM_MAD_CONF = [
                NAME = "ssh", LN_TARGET = "SYSTEM", CLONE_TARGET = "SYSTEM", SHARED = "NO",
                DS_MIGRATE = "YES"
            ]

            TM_MAD_CONF = [
                NAME = "ceph", LN_TARGET = "NONE", CLONE_TARGET = "SELF", SHARED = "YES",
                DS_MIGRATE = "NO", DRIVER = "raw", ALLOW_ORPHANS="yes"
            ]

            TM_MAD_CONF = [
                NAME = "iscsi_libvirt", LN_TARGET = "NONE", CLONE_TARGET = "SELF", SHARED = "YES",
                DS_MIGRATE = "NO"
            ]

            TM_MAD_CONF = [
                NAME = "dev", LN_TARGET = "NONE", CLONE_TARGET = "NONE", SHARED = "YES"
            ]

            TM_MAD_CONF = [
                NAME = "vcenter", LN_TARGET = "NONE", CLONE_TARGET = "SYSTEM", SHARED = "YES"
            ]

            #*******************************************************************************
            # Datastore Manager Driver Behavior Configuration
            #*******************************************************************************
            # The  configuration for each driver is defined in DS_MAD_CONF. These
            # values are used when creating a new datastore and should not be modified
            # since they define the datastore behavior.
            #   name      : name of the transfer driver, listed in the -d option of the
            #               DS_MAD section
            #   required_attrs : comma separated list of required attributes in the DS
            #                    template
            #   persistent_only: specifies whether the datastore can only manage persistent
            #                    images
            #*******************************************************************************

            DS_MAD_CONF = [
                NAME = "ceph",
                REQUIRED_ATTRS = "DISK_TYPE,BRIDGE_LIST",
                PERSISTENT_ONLY = "NO",
                MARKETPLACE_ACTIONS = "export"
            ]

            DS_MAD_CONF = [
                NAME = "dev", REQUIRED_ATTRS = "DISK_TYPE", PERSISTENT_ONLY = "YES"
            ]

            DS_MAD_CONF = [
                NAME = "iscsi_libvirt", REQUIRED_ATTRS = "DISK_TYPE,ISCSI_HOST",
                PERSISTENT_ONLY = "YES"
            ]

            DS_MAD_CONF = [
                NAME = "dummy", REQUIRED_ATTRS = "", PERSISTENT_ONLY = "NO"
            ]

            DS_MAD_CONF = [
                NAME = "fs", REQUIRED_ATTRS = "", PERSISTENT_ONLY = "NO",
                MARKETPLACE_ACTIONS = "export"
            ]

            DS_MAD_CONF = [
                NAME = "lvm", REQUIRED_ATTRS = "DISK_TYPE,BRIDGE_LIST",
                PERSISTENT_ONLY = "NO"
            ]

            DS_MAD_CONF = [
                NAME = "vcenter",
                REQUIRED_ATTRS = "VCENTER_INSTANCE_ID, VCENTER_DS_REF, VCENTER_DC_REF",
                PERSISTENT_ONLY = "NO",
                MARKETPLACE_ACTIONS = "export"
            ]

            #*******************************************************************************
            # MarketPlace Driver Behavior Configuration
            #*******************************************************************************
            # The  configuration for each driver is defined in MARKET_MAD_CONF. These
            # values are used when creating a new marketplaces and should not be modified
            # since they define the marketplace behavior.
            #   name      : name of the market driver
            #   required_attrs : comma separated list of required attributes in the Market
            #                    template
            #   app_actions: List of actions allowed for a MarketPlaceApp
            #     - monitor The apps of the marketplace will be monitored
            #     - create, the app in the marketplace
            #     - delete, the app from the marketplace
            #   public: set to yes for external marketplaces. A public marketplace can be
            #   removed even if it has registered apps.
            #*******************************************************************************

            MARKET_MAD_CONF = [
                NAME = "one",
                SUNSTONE_NAME  = "OpenNebula.org Marketplace",
                REQUIRED_ATTRS = "",
                APP_ACTIONS = "monitor",
                PUBLIC = "yes"
            ]

            MARKET_MAD_CONF = [
                NAME = "http",
                SUNSTONE_NAME  = "HTTP server",
                REQUIRED_ATTRS = "BASE_URL,PUBLIC_DIR",
                APP_ACTIONS = "create, delete, monitor"
            ]

            MARKET_MAD_CONF = [
                NAME = "s3",
                SUNSTONE_NAME = "Amazon S3",
                REQUIRED_ATTRS = "ACCESS_KEY_ID,SECRET_ACCESS_KEY,REGION,BUCKET",
                APP_ACTIONS = "create, delete, monitor"
            ]

            #*******************************************************************************
            # Authentication Driver Behavior Definition
            #*******************************************************************************
            # The configuration for each driver is defined in AUTH_MAD_CONF. These
            # values must not be modified since they define the driver behavior.
            #   name            : name of the auth driver
            #   password_change : allow the end users to change their own password. Oneadmin
            #                     can still change other user's passwords
            #   driver_managed_groups : allow the driver to set the user's group even after
            #                     user creation. In this case addgroup, delgroup and chgrp
            #                     will be disabled, with the exception of chgrp to one of
            #                     the groups in the list of secondary groups
            #   max_token_time  : limit the maximum token validity, in seconds. Use -1 for
            #                     unlimited maximum, 0 to disable login tokens
            #*******************************************************************************

            AUTH_MAD_CONF = [
                NAME = "core",
                PASSWORD_CHANGE = "YES",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]

            AUTH_MAD_CONF = [
                NAME = "public",
                PASSWORD_CHANGE = "NO",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]

            AUTH_MAD_CONF = [
                NAME = "ssh",
                PASSWORD_CHANGE = "YES",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]

            AUTH_MAD_CONF = [
                NAME = "x509",
                PASSWORD_CHANGE = "NO",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]

            AUTH_MAD_CONF = [
                NAME = "ldap",
                PASSWORD_CHANGE = "YES",
                DRIVER_MANAGED_GROUPS = "YES",
                MAX_TOKEN_TIME = "86400"
            ]

            AUTH_MAD_CONF = [
                NAME = "server_cipher",
                PASSWORD_CHANGE = "NO",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]

            AUTH_MAD_CONF = [
                NAME = "server_x509",
                PASSWORD_CHANGE = "NO",
                DRIVER_MANAGED_GROUPS = "NO",
                MAX_TOKEN_TIME = "-1"
            ]
    "/etc/one/oneflow-server.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            ################################################################################
            # Server Configuration
            ################################################################################

            # OpenNebula daemon contact information
            #
            :one_xmlrpc: http://localhost:2633/RPC2

            # Time in seconds between Life Cycle Manager steps
            #
            :lcm_interval: 30

            # Host and port where OneFlow server will run
            :host: 127.0.0.1
            :port: 2474

            ################################################################################
            # Defaults
            ################################################################################

            # Default cooldown period after a scale operation, in seconds
            :default_cooldown: 300

            # Default shutdown action. Values: 'terminate', 'terminate-hard'
            :shutdown_action: 'terminate'

            # Default number of virtual machines (action_number) that will receive the
            #   given call in each interval defined by action_period, when an action
            #   is performed on a role.
            :action_number: 1
            :action_period: 60

            # Default name for the Virtual Machines created by oneflow. You can use any
            # of the following placeholders:
            #   $SERVICE_ID
            #   $SERVICE_NAME
            #   $ROLE_NAME
            #   $VM_NUMBER

            :vm_name_template: '$ROLE_NAME_$VM_NUMBER_(service_$SERVICE_ID)'

            #############################################################
            # Auth
            #############################################################

            # Authentication driver to communicate with OpenNebula core
            #   - cipher, for symmetric cipher encryption of tokens
            #   - x509, for x509 certificate encryption of tokens
            :core_auth: cipher

            ################################################################################
            # Log
            ################################################################################

            # Log debug level
            #   0 = ERROR, 1 = WARNING, 2 = INFO, 3 = DEBUG
            #
            :debug_level: 2
    "/etc/one/onegate-server.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |+
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            ################################################################################
            # Server Configuration
            ################################################################################

            # OpenNebula sever contact information
            #
            :one_xmlrpc: http://localhost:2633/RPC2

            # Server Configuration
            #
            :host: 127.0.0.1
            :port: 5030

            # SSL proxy URL that serves the API (set if is being used)
            #:ssl_server: https://service.endpoint.fqdn:port/

            ################################################################################
            # Log
            ################################################################################

            # Log debug level
            #   0 = ERROR, 1 = WARNING, 2 = INFO, 3 = DEBUG
            #
            :debug_level: 3

            ################################################################################
            # Auth
            ################################################################################

            # Authentication driver for incomming requests
            #   onegate, based on token provided in the context
            #
            :auth: onegate

            # Authentication driver to communicate with OpenNebula core
            #   cipher, for symmetric cipher encryption of tokens
            #   x509, for x509 certificate encryption of tokens
            #
            :core_auth: cipher


            ################################################################################
            # OneFlow Endpoint
            ################################################################################

            :oneflow_server: http://localhost:2474


            ################################################################################
            # Permissions
            ################################################################################

            :permissions:
              :vm:
                :show: true
                :show_by_id: true
                :update: true
                :update_by_id: true
                :action_by_id: true
              :service:
                :show: true
                :change_cardinality: true

            # Attrs that cannot be modified when updating a VM template
            :restricted_attrs:
              - SCHED_REQUIREMENTS
              - SERVICE_ID
              - ROLE_NAME

            # Actions that cannot be performed on a VM
            :restricted_actions:
              #- deploy
              #- hold
              #- livemigrate
              #- migrate
              #- resume
              #- release
              #- stop
              #- suspend
              #- saveas
              #- snapshot_create
              #- snapshot_revert
              #- snapshot_delete
              #- terminate
              #- reboot
              #- poweroff
              #- chown
              #- chmod
              #- resize
              #- attachdisk
              #- detachdisk
              #- attachnic
              #- detachnic
              #- rename
              #- undeploy
              #- resched
              #- unresched
              #- recover


    "/etc/one/sched.conf":
        class: Augeas::ONE
        owner: root
        group: oneadmin
        mode: '0640'
        content: "#*******************************************************************************\n#                       OpenNebula
            Configuration file\n#*******************************************************************************\n\n#*******************************************************************************\n#
            Daemon configuration attributes\n#-------------------------------------------------------------------------------\n#
            \ MESSAGE_SIZE: Buffer size in bytes for XML-RPC responses.\n#\n#  XMLRPC_TIMEOUT: Seconds to timeout XML-RPC
            calls to oned\n#\n#  ONE_XMLRPC: URL to connect to the OpenNebula daemon (oned)\n#\n#  SCHED_INTERVAL: Seconds
            between two scheduling actions\n#\n#  MAX_VM: Maximum number of Virtual Machines scheduled in each scheduling\n#
            \         action. Use 0 to schedule all pending VMs each time.\n#\n#  MAX_DISPATCH: Maximum number of Virtual
            Machines actually dispatched to a\n#                host in each scheduling action\n#\n#  MAX_HOST: Maximum number
            of Virtual Machines dispatched to a given host in\n#            each scheduling action\n#\n#  LIVE_RESCHEDS: Perform
            live (1) or cold migrations (0) when rescheduling a VM\n#\n#  DEFAULT_SCHED: Definition of the default scheduling
            algorithm\n#    - policy:\n#      0 = Packing. Heuristic that minimizes the number of hosts in use by\n#          packing
            the VMs in the hosts to reduce VM fragmentation\n#      1 = Striping. Heuristic that tries to maximize resources
            available for\n#          the VMs by spreading the VMs in the hosts\n#      2 = Load-aware. Heuristic that tries
            to maximize resources available for\n#          the VMs by using those nodes with less load\n#      3 = Custom.\n#
            \   - rank: Custom arithmetic expression to rank suitable hosts based in their\n#            attributes\n#      4
            = Fixed. Hosts will be ranked according to the PRIORITY attribute found\n#          in the Host or Cluster template.\n#\n#
            \ DEFAULT_DS_SCHED: Definition of the default storage scheduling algorithm\n#    - policy:\n#      0 = Packing.
            Tries to optimize storage usage by selecting the DS with\n#          less free space\n#      1 = Striping. Tries
            to optimize I/O by distributing the VMs across\n#          datastores.\n#      2 = Custom.\n#    - rank: Custom
            arithmetic exprission to rank suitable datastores based on\n#          their attributes\n#      3 = Fixed. Datastores
            will be ranked according to the PRIORITY attribute\n#          found in the Datastore template.\n#\n#\n#  LOG:
            Configuration for the logging system\n#    - system: defines the logging system:\n#          file      to log
            in the sched.log file\n#          syslog    to use the syslog facilities\n#    - debug_level:\n#           0 =
            ERROR\n#           1 = WARNING\n#           2 = INFO\n#           3 = DEBUG   Includes general scheduling information
            (default)\n#           4 = DDEBUG  Includes time taken for each step\n#           5 = DDDEBUG Includes detailed
            information about the scheduling\n#                       decision, such as VM requirements, Host ranking for\n#
            \                      each VM, etc. This will impact the performance\n#*******************************************************************************\n\nMESSAGE_SIZE
            = 1073741824\nTIMEOUT      = 60 \n\nONE_XMLRPC = \"http://localhost:2633/RPC2\"\n\nSCHED_INTERVAL = 30\n\nMAX_VM
            \      = 5000\nMAX_DISPATCH = 30\nMAX_HOST     = 1\n\nLIVE_RESCHEDS  = 0\n\nDEFAULT_SCHED = [\n    policy = 1\n]\n\nDEFAULT_DS_SCHED
            = [\n   policy = 1\n]\n\n#DEFAULT_SCHED = [\n#   policy = 3,\n#   rank   = \"- (RUNNING_VMS * 50  + FREE_CPU)\"\n#]\n\nLOG
            = [\n  system      = \"file\",\n  debug_level = 3\n]\n"
    "/etc/one/sunstone-logos.yaml":
        class: Yaml::Strict
        owner: root
        group: oneadmin
        mode: '0640'
        content: |-
            # You can add custom logos here, or disable any of the default ones commenting
            # out its line
            - { 'name': "Arch Linux",         'path': "images/logos/arch.png"}
            - { 'name': "CentOS",             'path': "images/logos/centos.png"}
            - { 'name': "Debian",             'path': "images/logos/debian.png"}
            - { 'name': "Fedora",             'path': "images/logos/fedora.png"}
            - { 'name': "Linux",              'path': "images/logos/linux.png"}
            - { 'name': "Redhat",             'path': "images/logos/redhat.png"}
            - { 'name': "Ubuntu",             'path': "images/logos/ubuntu.png"}
            - { 'name': "Windows XP/2003",    'path': "images/logos/windowsxp.png"}
            - { 'name': "Windows 8",          'path': "images/logos/windows8.png"}
    "/etc/one/sunstone-server.conf":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            ################################################################################
            # Server Configuration
            ################################################################################

            # Directory to store temp files when uploading images
            #
            :tmpdir: /var/tmp

            # OpenNebula sever contact information
            #
            :one_xmlrpc: http://localhost:2633/RPC2

            # Server Configuration
            #
            :host: 0.0.0.0
            :port: 9869

            # Place where to store sessions, this value can be memory, memcache or memcache-dalli
            # Use memcache when starting multiple server processes, for example,
            # with passenger
            #
            # NOTE. memcache needs a separate memcached server to be configured. Refer
            # to memcached documentation to configure the server.
            :sessions: memory

            # Memcache configuration
            :memcache_host: localhost
            :memcache_port: 11211
            :memcache_namespace: opennebula.sunstone

            # Excution environment for Sunstone
            #   dev, Instead of pulling the minified js all the files will be pulled (app/main.js)
            #     Check the Building from Source guide in the docs, for details on how to run
            #     Sunstone in development
            #   prod, the minified js will be used (dist/main.js)
            :env: 'prod'

            # Maximum allowed size of uploaded images (in bytes). Leave commented for
            # unlimited size
            # :max_upload_file_size: 10737418240 # 10 GiB

            ################################################################################
            # Log
            ################################################################################

            # Log debug level
            #   0 = ERROR, 1 = WARNING, 2 = INFO, 3 = DEBUG
            #
            :debug_level: 3

            ################################################################################
            # Proxy
            ################################################################################

            # Enable an http proxy for the support portal and to download MarketPlaceApps
            # from the MarketPlace to the user's desktop.
            # :proxy: http://<hostname>:<port>

            ################################################################################
            # Auth
            ################################################################################

            # Authentication driver for incoming requests
            #   sunstone: for OpenNebula's user-password scheme
            #   x509: for x509 certificates based authentication
            #   opennebula: the authentication will be done by the opennebula core using the
            #     driver defined for the user
            #   remote: performs the login based on a Kerberos REMOTE_USER
            #
            :auth: opennebula

            # Authentication driver to communicate with OpenNebula core
            #   cipher, for symmetric cipher encryption of tokens
            #   x509, for x509 certificate encryption of tokens
            #
            :core_auth: cipher

            ################################################################################
            # Check Upgrades
            ################################################################################

            # To check for the latest release. Comment this value if you don't want to check
            # this.
            :remote_version: http://downloads.opennebula.org/latest

            ################################################################################
            # UI Settings
            ################################################################################
            # :vnc_proxy_
            #   port:           port where the vnc proxy will listen
            #   support_wss:    no | yes | only. For yes and only, provide path to
            #                   cert and key. "yes" means both ws and wss connections will be
            #                   supported.
            #   vnc_proxy_cert: Certificate to encrypt wss connections.
            #   vnc_proxy_key:  Key for wss connections. Only necessary if not included in cert.
            #   vnc_proxy_ipv6: Enable ipv6 support for novnc-server
            #
            # :vnc_request_password: true | false
            #   Request VNC password for external windows, by default it will not be requested
            #
            :vnc_proxy_port: 29876
            :vnc_proxy_support_wss: no
            :vnc_proxy_cert:
            :vnc_proxy_key:
            :vnc_proxy_ipv6: false
            :vnc_request_password: false

            # Login Session Length in seconds, defaults to 1 hour.
            #:session_expire_time: 3600

            # Default language setting
            :lang: en_US

            # Default table order
            :table_order: desc

            ################################################################################
            # Marketplace
            ################################################################################

            # Marketplace username and password
            # If no credentials are provided, an anonymous client will be used
            #
            #:marketplace_username:
            #:marketplace_password:

            # Marketplace endpoint
            # The url should not include the /appliance path since it will be automatically
            # included
            #
            :marketplace_url: http://marketplace.opennebula.systems/

            ################################################################################
            # OneFlow
            ################################################################################

            # OneFlow endpoint
            #
            :oneflow_server: http://localhost:2474/

            ################################################################################
            # Routes
            ################################################################################

            # Array of files containing ruby code to extend the default sunstone-server
            #   routes. These files must be placed inside the custom_routes directory
            #   in the sunstone root dir (/usr/lib/one/sunstone/routes)
            #
            # Example:
            #   $ ls /usr/lib/one/sunstone/routes
            #   custom.rb  other.rb
            #
            #   $ cat /usr/lib/one/sunstone/routes/example.rb
            #   get '/custom' do
            #       body "It works"
            #   end
            #
            #:routes:
            #    - custom
            #    - other

            :routes:
                - oneflow
                - vcenter
                - support
    "/etc/one/sunstone-views/admin.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path: &3
            - features
            key: show_ds_instantiate
            value: true
            state: ins
            extra: {}
        -   path: *3
            key: show_host_instantiate
            value: true
            state: ins
            extra: {}
        -   path:
            - tabs
            - templates-tab
            - template_creation_tabs
            key: actions
            value: true
            state: ins
            extra: {}
        content: |
            small_logo: images/opennebula-5.0.png
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            filter-view: true
            enabled_tabs:
                - dashboard-tab
                - instances-top-tab
                - vms-tab
                - oneflow-services-tab
                - vrouters-tab
                - templates-top-tab
                - templates-tab
                - oneflow-templates-tab
                - vrouter-templates-tab
                - storage-top-tab
                - datastores-tab
                - images-tab
                - files-tab
                - marketplaces-tab
                - marketplaceapps-tab
                - network-top-tab
                - vnets-tab
                - vnets-topology-tab
                - secgroups-tab
                - infrastructure-top-tab
                - clusters-tab
                - hosts-tab
                - zones-tab
                - system-top-tab
                - users-tab
                - groups-tab
                - vdcs-tab
                - acls-tab
                - settings-tab
                - support-tab
                - upgrade-top-tab
                - vmgroup-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: true

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: false

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to show the datastore datatable to instantiate VM
                show_ds_instantiate: true

                # True to show the host datatable to instantiate VM
                show_host_instantiate: true

                # True to show an input to specify the the VMs and Template path/folder where a vCenter VM will
                # deployed to
                vcenter_vm_folder: false
            tabs:
                dashboard-tab:
                    # The following widgets can be used inside any of the '_per_row' settings
                    # bellow. As the name suggest, the widgets will be scaled to fit one,
                    # two, or three per row. The footer uses the widgets at full size, i.e.
                    # one per row.
                    #
                    # - storage
                    # - users
                    # - network
                    # - hosts
                    # - vms
                    # - groupquotas
                    # - quotas
                    panel_tabs:
                    actions:
                        Dashboard.refresh: false
                        Sunstone.toggle_top: false
                    widgets_one_per_row:
                        - vms
                        - hosts
                        - users
                    widgets_three_per_row:
                    widgets_two_per_row:
                        - storage
                        - network
                    widgets_one_footer:
                system-top-tab:
                    panel_tabs:
                    actions:
                users-tab:
                    panel_tabs:
                        user_info_tab: true
                        user_quotas_tab: true
                        user_groups_tab: true
                        user_accounting_tab: true
                        user_showback_tab: true
                        user_auth_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Group
                        - 4         # Auth driver
                        #- 5        # Password
                        - 6         # VMs
                        - 7         # Memory
                        - 8         # CPU
                        #- 9        # Group ID
                        #- 10       # Hidden User Data
                        #- 11       # Labels
                        #- 12       # Search data
                    actions:
                        User.refresh: true
                        User.create_dialog: true
                        User.update_password: true
                        User.login_token: true
                        User.quotas_dialog: true
                        User.groups_dialog: true
                        User.chgrp: true
                        User.change_authentication: true
                        User.delete: true
                        User.edit_labels: true
                        User.menu_labels: true
                groups-tab:
                    panel_tabs:
                        group_info_tab: true
                        group_users_tab: true
                        group_quotas_tab: true
                        group_accounting_tab: true
                        group_showback_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Users
                        - 4         # VMs
                        - 5         # Memory
                        - 6         # CPU
                        #- 7         # Labels
                    actions:
                        Group.refresh: true
                        Group.create_dialog: true
                        Group.update_dialog: true
                        Group.quotas_dialog: true
                        Group.delete: true
                        Group.edit_admins: true
                        Group.edit_labels: true
                        Group.menu_labels: true
                vdcs-tab:
                    panel_tabs:
                        vdc_info_tab: true
                        vdc_groups_tab: true
                        vdc_resources_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Groups
                        - 4         # Clusters
                        - 5         # Hosts
                        - 6         # VNets
                        - 7         # Datastores
                        #- 8        # Labels
                    actions:
                        Vdc.refresh: true
                        Vdc.create_dialog: true
                        Vdc.update_dialog: true
                        Vdc.rename: true
                        Vdc.delete: true
                        Vdc.edit_labels: true
                        Vdc.menu_labels: true
                acls-tab:
                    panel_tabs:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Applies to
                        - 3         # Affected resources
                        - 4         # Resource ID / Owned by
                        - 5         # Allowed operations
                        - 6         # Zone
                        #- 7        # ACL String
                    actions:
                        Acl.refresh: true
                        Acl.create_dialog: true
                        Acl.delete: true
                templates-top-tab:
                    panel_tabs:
                    actions:
                templates-tab:
                    panel_tabs:
                        template_info_tab: true
                        template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Template.refresh: true
                        Template.create_dialog: true
                        Template.import_dialog: false
                        Template.update_dialog: true
                        Template.instantiate_vms: true
                        Template.rename: true
                        Template.chown: true
                        Template.chgrp: true
                        Template.chmod: true
                        Template.clone_dialog: true
                        Template.delete_dialog: true
                        Template.share: true
                        Template.unshare: true
                        Template.edit_labels: true
                        Template.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        actions: true
                        scheduling: true
                        hybrid: true
                        vmgroup: true
                        other: true
                oneflow-templates-tab:
                    panel_tabs:
                        service_template_info_tab: true
                        service_template_roles_tab: true
                        service_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        ServiceTemplate.refresh: true
                        ServiceTemplate.create_dialog: true
                        ServiceTemplate.update_dialog: true
                        ServiceTemplate.instantiate: true
                        ServiceTemplate.chown: true
                        ServiceTemplate.chgrp: true
                        ServiceTemplate.chmod: true
                        ServiceTemplate.rename: true
                        ServiceTemplate.clone_dialog: true
                        ServiceTemplate.delete: true
                        ServiceTemplate.edit_labels: true
                        ServiceTemplate.menu_labels: true
                vrouter-templates-tab:
                    panel_tabs:
                        vrouter_template_info_tab: true
                        vrouter_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        VirtualRouterTemplate.refresh: true
                        VirtualRouterTemplate.create_dialog: true
                        VirtualRouterTemplate.update_dialog: true
                        VirtualRouterTemplate.instantiate_dialog: true
                        VirtualRouterTemplate.rename: true
                        VirtualRouterTemplate.chown: true
                        VirtualRouterTemplate.chgrp: true
                        VirtualRouterTemplate.chmod: true
                        VirtualRouterTemplate.clone_dialog: true
                        VirtualRouterTemplate.delete_dialog: true
                        VirtualRouterTemplate.share: true
                        VirtualRouterTemplate.unshare: true
                        VirtualRouterTemplate.edit_labels: true
                        VirtualRouterTemplate.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        scheduling: true
                        hybrid: true
                        other: true
                instances-top-tab:
                    panel_tabs:
                    actions:
                vms-tab:
                    panel_tabs:
                        vm_info_tab: true
                        vm_capacity_tab: true
                        vm_storage_tab: true
                        vm_network_tab: true
                        vm_snapshot_tab: true
                        vm_placement_tab: true
                        vm_actions_tab: true
                        vm_conf_tab: true
                        vm_template_tab: true
                        vm_log_tab: true
                    table_columns:
                        - 0       # Checkbox
                        - 1       # ID
                        - 2       # Name
                        - 3       # Owner
                        - 4       # Group
                        - 5       # Status
                        #- 6      # Used CPU
                        #- 7      # Used Memory
                        - 8       # Host
                        - 9       # IPs
                        #- 10     # Start Time
                        - 11      # VNC
                        #- 12     # Hidden Template
                        #- 13     # Labels
                        #- 14     # Search data
                    actions:
                        VM.refresh: true
                        VM.create_dialog: true
                        VM.rename: true
                        VM.chown: true
                        VM.chgrp: true
                        VM.chmod: true
                        VM.deploy: true
                        VM.migrate: true
                        VM.migrate_live: true
                        VM.hold: true
                        VM.release: true
                        VM.suspend: true
                        VM.resume: true
                        VM.stop: true
                        VM.recover: true
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: true
                        VM.undeploy_hard: true
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: true
                        VM.disk_resize: true
                        VM.attachdisk: true
                        VM.detachdisk: true
                        VM.disk_saveas: true
                        VM.attachnic: true
                        VM.detachnic: true
                        VM.snapshot_create: true
                        VM.snapshot_revert: true
                        VM.snapshot_delete: true
                        VM.disk_snapshot_create: true
                        VM.disk_snapshot_revert: true
                        VM.disk_snapshot_delete: true
                        VM.resched: true
                        VM.unresched: true
                        VM.save_as_template: true
                        VM.updateconf: true
                        VM.edit_labels: true
                        VM.menu_labels: true
                oneflow-services-tab:
                    panel_tabs:
                        service_info_tab: true
                        service_roles_tab: true
                        service_log_tab: true
                    panel_tabs_actions:
                        service_roles_tab:
                            Role.scale: true
                            Role.hold: true
                            Role.release: true
                            Role.suspend: true
                            Role.resume: true
                            Role.stop: true
                            Role.reboot: true
                            Role.reboot_hard: true
                            Role.poweroff: true
                            Role.poweroff_hard: true
                            Role.undeploy: true
                            Role.undeploy_hard: true
                            Role.terminate: true
                            Role.terminate_hard: true
                            RoleVM.hold: true
                            RoleVM.release: true
                            RoleVM.suspend: true
                            RoleVM.resume: true
                            RoleVM.stop: true
                            RoleVM.reboot: true
                            RoleVM.reboot_hard: true
                            RoleVM.poweroff: true
                            RoleVM.poweroff_hard: true
                            RoleVM.undeploy: true
                            RoleVM.undeploy_hard: true
                            RoleVM.terminate: true
                            RoleVM.terminate_hard: true
                            RoleVM.resched: true
                            RoleVM.unresched: true
                            RoleVM.recover: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # State
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Service.refresh: true
                        Service.create_dialog: true
                        Service.chown: true
                        Service.chgrp: true
                        Service.chmod: true
                        Service.rename: true
                        Service.shutdown: true
                        Service.recover: true
                        Service.delete: true
                        Service.edit_labels: true
                        Service.menu_labels: true
                vrouters-tab:
                    panel_tabs:
                        virtual_router_info_tab: true
                        virtual_router_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        VirtualRouter.refresh: true
                        VirtualRouter.create_dialog: true
                        VirtualRouter.rename: true
                        VirtualRouter.chown: true
                        VirtualRouter.chgrp: true
                        VirtualRouter.chmod: true
                        VirtualRouter.delete: true
                        VirtualRouter.attachnic: true
                        VirtualRouter.detachnic: true
                        VirtualRouter.edit_labels: true
                        VirtualRouter.menu_labels: true
                infrastructure-top-tab:
                    panel_tabs:
                    actions:
                clusters-tab:
                    panel_tabs:
                        cluster_info_tab: true
                        cluster_host_tab: true
                        cluster_vnet_tab: true
                        cluster_datastore_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Hosts
                        - 4         # VNets
                        - 5         # Datastores
                        #- 6        # Labels
                    actions:
                        Cluster.refresh: true
                        Cluster.create_dialog: true
                        Cluster.update_dialog: true
                        Cluster.delete: true
                        Cluster.rename: true
                        Cluster.edit_labels: true
                        Cluster.menu_labels: true
                hosts-tab:
                    panel_tabs:
                        host_info_tab: true
                        host_monitoring_tab: true
                        host_vms_tab: true
                        host_wilds_tab: true
                        host_zombies_tab: true
                        host_esx_tab: true
                        host_pci_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Cluster
                        - 4         # RVMs
                        #- 5        # Real CPU
                        - 6         # Allocated CPU
                        #- 7        # Real MEM
                        - 8         # Allocated MEM
                        - 9         # Status
                        #- 10       # IM MAD
                        #- 11       # VM MAD
                        #- 12       # Last monitored on
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Host.refresh: true
                        Host.create_dialog: true
                        Host.addtocluster: true
                        Host.rename: true
                        Host.enable: true
                        Host.disable: true
                        Host.offline: true
                        Host.delete: true
                        Host.edit_labels: true
                        Host.menu_labels: true
                zones-tab:
                    panel_tabs:
                        zone_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Endpoint
                        #- 4        # Labels
                    actions:
                        Zone.refresh: true
                        Zone.create_dialog: true
                        Zone.rename: true
                        Zone.delete: true
                        Zone.edit_labels: true
                        Zone.menu_labels: true
                storage-top-tab:
                    panel_tabs:
                    actions:
                datastores-tab:
                    panel_tabs:
                        datastore_info_tab: true
                        datastore_image_tab: true
                        datastore_clusters_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Cluster
                        #- 7        # Basepath
                        #- 8        # TM
                        #- 9        # DS
                        - 10        # Type
                        - 11        # Status
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        Datastore.refresh: true
                        Datastore.create_dialog: true
                        Datastore.import_dialog: false
                        Datastore.addtocluster: true
                        Datastore.rename: true
                        Datastore.chown: true
                        Datastore.chgrp: true
                        Datastore.chmod: true
                        Datastore.delete: true
                        Datastore.enable: true
                        Datastore.disable: true
                        Datastore.edit_labels: true
                        Datastore.menu_labels: true
                images-tab:
                    panel_tabs:
                        image_info_tab: true
                        image_vms_tab: true
                        image_snapshots_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Image.refresh: true
                        Image.create_dialog: true
                        Image.import_dialog: false
                        Image.upload_marketplace_dialog: true
                        Image.rename: true
                        Image.chown: true
                        Image.chgrp: true
                        Image.chmod: true
                        Image.enable: true
                        Image.disable: true
                        Image.persistent: true
                        Image.nonpersistent: true
                        Image.clone_dialog: true
                        Image.delete: true
                        Image.snapshot_flatten: true
                        Image.snapshot_revert: true
                        Image.snapshot_delete: true
                        Image.edit_labels: true
                        Image.menu_labels: true
                files-tab:
                    panel_tabs:
                        file_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        #- 11       # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        File.refresh: true
                        File.create_dialog: true
                        File.rename: true
                        File.chown: true
                        File.chgrp: true
                        File.chmod: true
                        File.enable: true
                        File.disable: true
                        File.delete: true
                        File.edit_labels: true
                        File.menu_labels: true
                marketplaces-tab:
                    panel_tabs:
                        marketplace_info_tab: true
                        marketplace_apps_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Apps
                        - 7         # Driver
                        - 8         # Zone
                        #- 9        # Labels
                        #- 10       # Search data
                    actions:
                        MarketPlace.refresh: true
                        MarketPlace.create_dialog: true
                        MarketPlace.update_dialog: true
                        MarketPlace.rename: true
                        MarketPlace.chown: true
                        MarketPlace.chgrp: true
                        MarketPlace.chmod: true
                        MarketPlace.delete: true
                        MarketPlace.edit_labels: true
                        MarketPlace.menu_labels: true
                marketplaceapps-tab:
                    panel_tabs:
                        marketplaceapp_info_tab: true
                        marketplaceapp_templates_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Version
                        - 6         # Size
                        - 7         # State
                        #- 8        # Type
                        - 9         # Registration
                        - 10        # Marketplace
                        - 11        # Zone
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        MarketPlaceApp.refresh: true
                        MarketPlaceApp.create_dialog: true
                        MarketPlaceApp.download_opennebula_dialog: true
                        MarketPlaceApp.download_local: true
                        MarketPlaceApp.rename: true
                        MarketPlaceApp.chown: true
                        MarketPlaceApp.chgrp: true
                        MarketPlaceApp.chmod: true
                        MarketPlaceApp.enable: true
                        MarketPlaceApp.disable: true
                        MarketPlaceApp.delete: true
                        MarketPlaceApp.edit_labels: true
                        MarketPlaceApp.menu_labels: true
                network-top-tab:
                    panel_tabs:
                    actions:
                vnets-tab:
                    panel_tabs:
                        vnet_info_tab: true
                        vnet_ar_list_tab: true
                        vnet_leases_tab: true
                        vnet_sg_list_tab: true
                        vnet_vr_list_tab: true
                        vnet_clusters_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Reservation
                        - 6         # Cluster
                        #- 7        # Bridge
                        - 8         # Leases
                        #- 9        # VLAN ID
                        #- 10       # Labels
                        #- 11       # Search data
                    actions:
                        Network.refresh: true
                        Network.create_dialog: true
                        Network.import_dialog: false
                        Network.update_dialog: true
                        Network.reserve_dialog: true
                        Network.addtocluster: true
                        Network.rename: true
                        Network.chown: true
                        Network.chgrp: true
                        Network.chmod: true
                        Network.delete: true
                        Network.hold_lease: true
                        Network.release_lease: true
                        Network.add_ar: true
                        Network.remove_ar: true
                        Network.update_ar: true
                        Network.edit_labels: true
                        Network.menu_labels: true
                vnets-topology-tab:
                    panel_tabs:
                    actions:
                        NetworkTopology.refresh: true
                        NetworkTopology.fit: true
                        NetworkTopology.collapseVMs: true
                        NetworkTopology.openVMs: true
                secgroups-tab:
                    panel_tabs:
                        security_group_info_tab: true
                        security_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        SecurityGroup.refresh: true
                        SecurityGroup.create_dialog: true
                        SecurityGroup.update_dialog: true
                        SecurityGroup.rename: true
                        SecurityGroup.chown: true
                        SecurityGroup.chgrp: true
                        SecurityGroup.chmod: true
                        SecurityGroup.clone_dialog: true
                        SecurityGroup.commit_dialog: true
                        SecurityGroup.delete: true
                        SecurityGroup.edit_labels: true
                        SecurityGroup.menu_labels: true
                support-tab:
                    panel_tabs:
                        support_info_tab: true
                    table_columns:
                        #- 0        # Checkbox
                        - 1         # ID
                        - 2         # Subject
                        - 3         # Created at
                        - 4         # Status
                    actions:
                        Support.refresh: true
                        Support.create_dialog: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: true
                        settings_config_tab: false
                        settings_quotas_tab: true
                        settings_group_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                        settings_auth_tab: true
                    actions:
                        # Buttons for settings_info_tab
                        User.update_password: true
                        User.login_token: true
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                upgrade-top-tab:
                    panel_tabs:
                    actions:
                vmgroup-tab:
                    panel_tabs:
                        vm_group_info_tab: true
                        vm_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Vms
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                       VMGroup.create_dialog: true
                       VMGroup.update_dialog: true
                       VMGroup.chmod: true
                       VMGroup.chown: true
                       VMGroup.chgrp: true
    "/etc/one/sunstone-views/user.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path: &4
            - features
            key: show_ds_instantiate
            value: false
            state: ins
            extra: {}
        -   path: *4
            key: show_host_instantiate
            value: false
            state: ins
            extra: {}
        -   path:
            - tabs
            - templates-tab
            - template_creation_tabs
            key: actions
            value: true
            state: ins
            extra: {}
        content: |-
            small_logo: images/opennebula-5.0.png
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            filter-view: true
            enabled_tabs:
                - dashboard-tab
                - instances-top-tab
                - vms-tab
                - oneflow-services-tab
                - vrouters-tab
                - templates-top-tab
                - templates-tab
                - oneflow-templates-tab
                - vrouter-templates-tab
                - storage-top-tab
                - datastores-tab
                - images-tab
                - files-tab
                - marketplaces-tab
                - marketplaceapps-tab
                - network-top-tab
                - vnets-tab
                - vnets-topology-tab
                - secgroups-tab
                #- infrastructure-top-tab
                #- clusters-tab
                #- hosts-tab
                #- zones-tab
                #- system-top-tab
                #- users-tab
                #- groups-tab
                #- vdcs-tab
                #- acls-tab
                - settings-tab
                #- support-tab
                #- upgrade-top-tab
                - vmgroup-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: true

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: false

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to show the datastore datatable to instantiate VM
                show_ds_instantiate: false

                # True to show the host datatable to instantiate VM
                show_host_instantiate: false

                # True to show an input to specify the the VMs and Template path/folder where a vCenter VM will
                # deployed to
                vcenter_vm_folder: false
            tabs:
                dashboard-tab:
                    # The following widgets can be used inside any of the '_per_row' settings
                    # bellow. As the name suggest, the widgets will be scaled to fit one,
                    # two, or three per row. The footer uses the widgets at full size, i.e.
                    # one per row.
                    #
                    # - storage
                    # - users
                    # - network
                    # - hosts
                    # - vms
                    # - groupquotas
                    # - quotas
                    panel_tabs:
                    actions:
                        Dashboard.refresh: false
                        Sunstone.toggle_top: false
                    widgets_one_per_row:
                        - vms
                    widgets_three_per_row:
                    widgets_two_per_row:
                        - network
                        - storage
                    widgets_one_footer:
                system-top-tab:
                    panel_tabs:
                    actions:
                users-tab:
                    panel_tabs:
                        user_info_tab: true
                        user_quotas_tab: true
                        user_groups_tab: true
                        user_accounting_tab: true
                        user_showback_tab: true
                        user_auth_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Group
                        - 4         # Auth driver
                        #- 5         # Password
                        - 6         # VMs
                        - 7         # Memory
                        - 8         # CPU
                        #- 9         # Group ID
                        #- 10        # Hidden User Data
                        #- 11        # Labels
                        #- 12        # Search data
                    actions:
                        User.refresh: true
                        User.create_dialog: true
                        User.update_password: true
                        User.login_token: true
                        User.quotas_dialog: true
                        User.groups_dialog: true
                        User.chgrp: true
                        User.change_authentication: true
                        User.delete: true
                        User.edit_labels: true
                        User.menu_labels: true
                groups-tab:
                    panel_tabs:
                        group_info_tab: true
                        group_users_tab: true
                        group_quotas_tab: true
                        group_accounting_tab: true
                        group_showback_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Users
                        - 4         # VMs
                        - 5         # Memory
                        - 6         # CPU
                        #- 7         # Labels
                    actions:
                        Group.refresh: true
                        Group.create_dialog: true
                        Group.update_dialog: true
                        Group.quotas_dialog: true
                        Group.delete: true
                        Group.edit_admins: true
                        Group.edit_labels: true
                        Group.menu_labels: true
                vdcs-tab:
                    panel_tabs:
                        vdc_info_tab: true
                        vdc_groups_tab: true
                        vdc_resources_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Groups
                        - 4         # Clusters
                        - 5         # Hosts
                        - 6         # VNets
                        - 7         # Datastores
                        #- 8         # Labels
                    actions:
                        Vdc.refresh: true
                        Vdc.create_dialog: true
                        Vdc.update_dialog: true
                        Vdc.rename: true
                        Vdc.delete: true
                        Vdc.edit_labels: true
                        Vdc.menu_labels: true
                acls-tab:
                    panel_tabs:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Applies to
                        - 3         # Affected resources
                        - 4         # Resource ID / Owned by
                        - 5         # Allowed operations
                        - 6         # Zone
                        #- 7         # ACL String
                    actions:
                        Acl.refresh: true
                        Acl.create_dialog: true
                        Acl.delete: true
                templates-top-tab:
                    panel_tabs:
                    actions:
                templates-tab:
                    panel_tabs:
                        template_info_tab: true
                        template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Registration time
                        #- 6         # Labels
                        #- 7         # Search data
                    actions:
                        Template.refresh: true
                        Template.create_dialog: true
                        Template.import_dialog: false
                        Template.update_dialog: true
                        Template.instantiate_vms: true
                        Template.rename: true
                        Template.chown: false
                        Template.chgrp: false
                        Template.chmod: true
                        Template.clone_dialog: true
                        Template.delete_dialog: true
                        Template.share: true
                        Template.unshare: true
                        Template.edit_labels: true
                        Template.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        actions: true
                        scheduling: false
                        hybrid: true
                        vmgroup: true
                        other: true
                oneflow-templates-tab:
                    panel_tabs:
                        service_template_info_tab: true
                        service_template_roles_tab: true
                        service_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        ServiceTemplate.refresh: true
                        ServiceTemplate.create_dialog: true
                        ServiceTemplate.update_dialog: true
                        ServiceTemplate.instantiate: true
                        ServiceTemplate.chown: false
                        ServiceTemplate.chgrp: false
                        ServiceTemplate.chmod: true
                        ServiceTemplate.rename: true
                        ServiceTemplate.clone_dialog: true
                        ServiceTemplate.delete: true
                        ServiceTemplate.edit_labels: true
                        ServiceTemplate.menu_labels: true
                vrouter-templates-tab:
                    panel_tabs:
                        vrouter_template_info_tab: true
                        vrouter_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Registration time
                        #- 6         # Labels
                        #- 7         # Search data
                    actions:
                        VirtualRouterTemplate.refresh: true
                        VirtualRouterTemplate.create_dialog: true
                        VirtualRouterTemplate.update_dialog: true
                        VirtualRouterTemplate.instantiate_dialog: true
                        VirtualRouterTemplate.rename: true
                        VirtualRouterTemplate.chown: false
                        VirtualRouterTemplate.chgrp: false
                        VirtualRouterTemplate.chmod: true
                        VirtualRouterTemplate.clone_dialog: true
                        VirtualRouterTemplate.delete_dialog: true
                        VirtualRouterTemplate.share: true
                        VirtualRouterTemplate.unshare: true
                        VirtualRouterTemplate.edit_labels: true
                        VirtualRouterTemplate.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        scheduling: true
                        hybrid: true
                        other: true
                instances-top-tab:
                    panel_tabs:
                    actions:
                vms-tab:
                    panel_tabs:
                        vm_info_tab: true
                        vm_capacity_tab: true
                        vm_storage_tab: true
                        vm_network_tab: true
                        vm_snapshot_tab: true
                        vm_placement_tab: false
                        vm_actions_tab: true
                        vm_conf_tab: true
                        vm_template_tab: false
                        vm_log_tab: false
                    table_columns:
                        - 0       # Checkbox
                        - 1       # ID
                        - 2       # Owner
                        - 3       # Group
                        - 4       # Name
                        - 5       # Status
                        #- 6       # Used CPU
                        #- 7       # Used Memory
                        - 8       # Host
                        - 9       # IPs
                        #- 10      # Start Time
                        - 11      # VNC
                        #- 12      # Hidden Template
                        #- 13      # Labels
                        #- 14      # Search data
                    actions:
                        VM.refresh: true
                        VM.create_dialog: true
                        VM.rename: true
                        VM.chown: false
                        VM.chgrp: false
                        VM.chmod: true
                        VM.deploy: false
                        VM.migrate: false
                        VM.migrate_live: false
                        VM.hold: true
                        VM.release: true
                        VM.suspend: true
                        VM.resume: true
                        VM.stop: true
                        VM.recover: false
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: true
                        VM.undeploy_hard: true
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: true
                        VM.attachdisk: true
                        VM.detachdisk: true
                        VM.disk_saveas: true
                        VM.disk_resize: false
                        VM.attachnic: true
                        VM.detachnic: true
                        VM.snapshot_create: true
                        VM.snapshot_revert: true
                        VM.snapshot_delete: true
                        VM.disk_snapshot_create: true
                        VM.disk_snapshot_revert: true
                        VM.disk_snapshot_delete: true
                        VM.resched: false
                        VM.unresched: false
                        VM.save_as_template: true
                        VM.updateconf: true
                        VM.edit_labels: true
                        VM.menu_labels: true
                oneflow-services-tab:
                    panel_tabs:
                        service_info_tab: true
                        service_roles_tab: true
                        service_log_tab: true
                    panel_tabs_actions:
                        service_roles_tab:
                            Role.scale: true
                            Role.hold: true
                            Role.release: true
                            Role.suspend: true
                            Role.resume: true
                            Role.stop: true
                            Role.reboot: true
                            Role.reboot_hard: true
                            Role.poweroff: true
                            Role.poweroff_hard: true
                            Role.undeploy: true
                            Role.undeploy_hard: true
                            Role.terminate: true
                            Role.terminate_hard: true
                            RoleVM.hold: true
                            RoleVM.release: true
                            RoleVM.suspend: true
                            RoleVM.resume: true
                            RoleVM.stop: true
                            RoleVM.reboot: true
                            RoleVM.reboot_hard: true
                            RoleVM.poweroff: true
                            RoleVM.poweroff_hard: true
                            RoleVM.undeploy: true
                            RoleVM.undeploy_hard: true
                            RoleVM.terminate: true
                            RoleVM.terminate_hard: true
                            RoleVM.resched: false
                            RoleVM.unresched: false
                            RoleVM.recover: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # State
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Service.refresh: true
                        Service.create_dialog: true
                        Service.chown: false
                        Service.chgrp: false
                        Service.chmod: true
                        Service.rename: true
                        Service.shutdown: true
                        Service.recover: true
                        Service.delete: true
                        Service.edit_labels: true
                        Service.menu_labels: true
                vrouters-tab:
                    panel_tabs:
                        virtual_router_info_tab: true
                        virtual_router_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        VirtualRouter.refresh: true
                        VirtualRouter.create_dialog: true
                        VirtualRouter.rename: true
                        VirtualRouter.chown: true
                        VirtualRouter.chgrp: true
                        VirtualRouter.chmod: true
                        VirtualRouter.delete: true
                        VirtualRouter.attachnic: true
                        VirtualRouter.detachnic: true
                        VirtualRouter.edit_labels: true
                        VirtualRouter.menu_labels: true
                infrastructure-top-tab:
                    panel_tabs:
                    actions:
                clusters-tab:
                    panel_tabs:
                        cluster_info_tab: true
                        cluster_host_tab: true
                        cluster_vnet_tab: true
                        cluster_datastore_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Hosts
                        - 4         # VNets
                        - 5         # Datastores
                        #- 6         # Labels
                    actions:
                        Cluster.refresh: true
                        Cluster.create_dialog: true
                        Cluster.update_dialog: true
                        Cluster.delete: true
                        Cluster.rename: true
                        Cluster.edit_labels: true
                        Cluster.menu_labels: true
                hosts-tab:
                    panel_tabs:
                        host_info_tab: true
                        host_monitoring_tab: true
                        host_vms_tab: true
                        host_wilds_tab: true
                        host_zombies_tab: true
                        host_esx_tab: true
                        host_pci_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Cluster
                        - 4         # RVMs
                        #- 5         # Real CPU
                        - 6         # Allocated CPU
                        #- 7         # Real MEM
                        - 8         # Allocated MEM
                        - 9         # Status
                        #- 10        # IM MAD
                        #- 11        # VM MAD
                        #- 12        # Last monitored on
                        #- 13        # Labels
                        #- 14        # Search data
                    actions:
                        Host.refresh: true
                        Host.create_dialog: true
                        Host.addtocluster: true
                        Host.rename: true
                        Host.enable: true
                        Host.disable: true
                        Host.offline: true
                        Host.delete: true
                        Host.edit_labels: true
                        Host.menu_labels: true
                zones-tab:
                    panel_tabs:
                        zone_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Endpoint
                        #- 4         # Labels
                    actions:
                        Zone.refresh: true
                        Zone.create_dialog: true
                        Zone.rename: true
                        Zone.delete: true
                        Zone.edit_labels: true
                        Zone.menu_labels: true
                storage-top-tab:
                    panel_tabs:
                    actions:
                datastores-tab:
                    panel_tabs:
                        datastore_info_tab: false
                        datastore_image_tab: true
                        datastore_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Capacity
                        - 6         # Cluster
                        #- 7         # Basepath
                        #- 8         # TM
                        #- 9         # DS
                        #- 10        # Type
                        #- 11        # Status
                        #- 12        # Labels
                        #- 13        # Search data
                    actions:
                        Datastore.refresh: true
                        Datastore.create_dialog: false
                        Datastore.import_dialog: false
                        Datastore.addtocluster: false
                        Datastore.rename: true
                        Datastore.chown: false
                        Datastore.chgrp: false
                        Datastore.chmod: true
                        Datastore.delete: false
                        Datastore.enable: false
                        Datastore.disable: false
                        Datastore.edit_labels: true
                        Datastore.menu_labels: true
                images-tab:
                    panel_tabs:
                        image_info_tab: true
                        image_vms_tab: true
                        image_snapshots_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Datastore
                        #- 6         # Size
                        - 7        # Type
                        #- 8         # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14        # Search data
                    actions:
                        Image.refresh: true
                        Image.create_dialog: true
                        Image.import_dialog: false
                        Image.upload_marketplace_dialog: true
                        Image.rename: true
                        Image.chown: false
                        Image.chgrp: false
                        Image.chmod: true
                        Image.enable: true
                        Image.disable: true
                        Image.persistent: true
                        Image.nonpersistent: true
                        Image.clone_dialog: true
                        Image.delete: true
                        Image.snapshot_flatten: true
                        Image.snapshot_revert: true
                        Image.snapshot_delete: true
                        Image.edit_labels: true
                        Image.menu_labels: true
                files-tab:
                    panel_tabs:
                        file_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Datastore
                        #- 6         # Size
                        - 7        # Type
                        #- 8         # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        #- 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14        # Search data
                    actions:
                        File.refresh: true
                        File.create_dialog: true
                        File.rename: true
                        File.chown: false
                        File.chgrp: false
                        File.chmod: true
                        File.enable: true
                        File.disable: true
                        File.delete: true
                        File.edit_labels: true
                        File.menu_labels: true
                marketplaces-tab:
                    panel_tabs:
                        marketplace_info_tab: true
                        marketplace_apps_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Capacity
                        - 6         # Apps
                        - 7         # Driver
                        - 8         # Zone
                        #- 9        # Labels
                        #- 10        # Search data
                    actions:
                        MarketPlace.refresh: true
                        MarketPlace.create_dialog: true
                        MarketPlace.update_dialog: true
                        MarketPlace.rename: true
                        MarketPlace.chown: true
                        MarketPlace.chgrp: true
                        MarketPlace.chmod: true
                        MarketPlace.delete: true
                        MarketPlace.edit_labels: true
                        MarketPlace.menu_labels: true
                marketplaceapps-tab:
                    panel_tabs:
                        marketplaceapp_info_tab: true
                        marketplaceapp_templates_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        #- 5         # Version
                        - 6         # Size
                        - 7         # State
                        #- 8         # Type
                        - 9         # Registration
                        - 10        # Marketplace
                        - 11         # Zone
                        #- 12        # Labels
                        #- 13        # Search data
                    actions:
                        MarketPlaceApp.refresh: true
                        MarketPlaceApp.create_dialog: true
                        MarketPlaceApp.download_opennebula_dialog: true
                        MarketPlaceApp.download_local: true
                        MarketPlaceApp.rename: true
                        MarketPlaceApp.chown: true
                        MarketPlaceApp.chgrp: true
                        MarketPlaceApp.chmod: true
                        MarketPlaceApp.enable: true
                        MarketPlaceApp.disable: true
                        MarketPlaceApp.delete: true
                        MarketPlaceApp.edit_labels: true
                        MarketPlaceApp.menu_labels: true
                network-top-tab:
                    panel_tabs:
                    actions:
                vnets-tab:
                    panel_tabs:
                        vnet_info_tab: true
                        vnet_ar_list_tab: true
                        vnet_leases_tab: true
                        vnet_sg_list_tab: true
                        vnet_vr_list_tab: true
                        vnet_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        - 5         # Reservation
                        - 6         # Cluster
                        #- 7         # Bridge
                        - 8         # Leases
                        #- 9         # VLAN ID
                        #- 10         # Labels
                        #- 11        # Search data
                    actions:
                        Network.refresh: true
                        Network.create_dialog: false
                        Network.import_dialog: false
                        Network.update_dialog: true
                        Network.reserve_dialog: true
                        Network.addtocluster: false
                        Network.rename: true
                        Network.chown: false
                        Network.chgrp: false
                        Network.chmod: true
                        Network.delete: true
                        Network.hold_lease: true
                        Network.release_lease: true
                        Network.add_ar: false
                        Network.remove_ar: true
                        Network.update_ar: true
                        Network.edit_labels: true
                        Network.menu_labels: true
                vnets-topology-tab:
                    panel_tabs:
                    actions:
                        NetworkTopology.refresh: true
                        NetworkTopology.fit: true
                        NetworkTopology.collapseVMs: true
                        NetworkTopology.openVMs: true
                secgroups-tab:
                    panel_tabs:
                        security_group_info_tab: true
                        security_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Owner
                        - 3         # Group
                        - 4         # Name
                        #- 5         # Labels
                        #- 6        # Search data
                    actions:
                        SecurityGroup.refresh: true
                        SecurityGroup.create_dialog: true
                        SecurityGroup.update_dialog: true
                        SecurityGroup.rename: true
                        SecurityGroup.chown: true
                        SecurityGroup.chgrp: true
                        SecurityGroup.chmod: true
                        SecurityGroup.clone_dialog: true
                        SecurityGroup.commit_dialog: true
                        SecurityGroup.delete: true
                        SecurityGroup.edit_labels: true
                        SecurityGroup.menu_labels: true
                support-tab:
                    panel_tabs:
                        support_info_tab: true
                    table_columns:
                        #- 0         # Checkbox
                        - 1         # ID
                        - 2         # Subject
                        - 3         # Created at
                        - 4         # Status
                    actions:
                        Support.refresh: true
                        Support.create_dialog: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: true
                        settings_config_tab: false
                        settings_quotas_tab: true
                        settings_group_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                        settings_auth_tab: true
                    actions:
                        # Buttons for settings_info_tab
                        User.update_password: true
                        User.login_token: true
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                upgrade-top-tab:
                    panel_tabs:
                    actions:
                vmgroup-tab:
                    panel_tabs:
                        vm_group_info_tab: true
                        vm_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Group
                        - 4         # Owner
                        - 5         # Vms
                        #- 6         # Labels
                        #- 7        # Search data
                    actions:
                       VMGroup.create_dialog: true
                       VMGroup.update_dialog: true
                       VMGroup.chmod: true
                       VMGroup.chown: true
                       VMGroup.chgrp: true
    "/etc/one/sunstone-views/cloud.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path:
            - features
            key: cloud_vm_create
            value: true
            state: ins
            extra: {}
        -   path:
            - tabs
            - provision-tab
            - create_vm
            key: datastore_select
            value: true
            state: ins
            extra: {}
        -   path:
            - tabs
            key: datastores-tab
            value:
                table_columns:
                - 0
                - 1
                - 2
                - 3
                - 4
                - 11
            state: ins
            extra: {}
        content: "provision_logo: images/opennebula-5.0.png\nlink_logo:\ntext_link_logo:\nconfirm_vms: false\nenabled_tabs:\n
            \   - provision-tab\n    - settings-tab\nfeatures:\n    # True to show showback monthly reports, and VM cost\n
            \   showback: true\n\n    # Allows to change the security groups for each network interface\n    # on the VM creation
            dialog\n    secgroups: true\n\n    # True to hide the CPU setting in the VM creation dialog. The CPU setting\n
            \   # will be set to the same value as VCPU, that will still be visible for the\n    # end users\n    instantiate_hide_cpu:
            false\n    \n    # False to not scale the CPU. Number [0, 1] to scale from VCPU\n    instantiate_cpu_factor: false\n\n
            \   # True to show the option to make an instance persistent\n    instantiate_persistent: true\n\n    # True to
            allow to create machines to cloud users\n    cloud_vm_create: true\ntabs:\n    provision-tab:\n        panel_tabs:\n
            \           vm_info_tab: false\n            vm_capacity_tab: false\n            vm_storage_tab: false\n            vm_network_tab:
            false\n            vm_snapshot_tab: false\n            vm_placement_tab: false\n            vm_actions_tab: false\n
            \           vm_conf_tab: false\n            vm_template_tab: false\n            vm_log_tab: false\n        provision_tabs:\n
            \           flows: true\n            templates: true\n        actions: &provisionactions\n            # In the
            cloud view, delete is the equivalent\n            # of 'onetemplate chmod --recursive'\n            Template.chmod:
            false\n\n            # In the cloud view, delete is the equivalent\n            # of 'onetemplate delete --recursive'\n
            \           Template.delete: true\n            VM.rename: true\n            VM.resume: true\n            VM.reboot:
            true\n            VM.reboot_hard: true\n            VM.poweroff: true\n            VM.poweroff_hard: true\n            VM.undeploy:
            false\n            VM.undeploy_hard: false\n            VM.terminate: true\n            VM.terminate_hard: true\n
            \           VM.resize: false\n            VM.attachdisk: false\n            VM.detachdisk: false\n            VM.disk_saveas:
            false\n            VM.attachnic: false\n            VM.detachnic: false\n            VM.snapshot_create: false\n
            \           VM.snapshot_revert: false\n            VM.snapshot_delete: false\n            VM.disk_snapshot_create:
            false\n            VM.disk_snapshot_revert: false\n            VM.disk_snapshot_delete: false\n            VM.save_as_template:
            true\n        dashboard:\n            # Connected user's quotas\n            quotas: true\n            # Overview
            of connected user's VMs\n            vms: true\n            # Group's quotas\n            groupquotas: false\n
            \           # Overview of group's VMs\n            groupvms: false\n        create_vm:\n            # True to
            allow capacity (CPU, MEMORY, VCPU) customization\n            capacity_select: true\n            # True to allow
            NIC customization\n            network_select: true\n            # True to allow vmgroup customization\n            vmgroup_select:
            true\n            # True to allow DISK size customization\n            disk_resize: true\n            # True to
            allow datastore customization\n            datastore_select: true\n    settings-tab:\n        panel_tabs:\n            settings_info_tab:
            false\n            settings_config_tab: true\n            settings_quotas_tab: true\n            settings_accounting_tab:
            true\n            settings_showback_tab: true\n        actions:\n            # Buttons for settings_info_tab\n
            \           User.update_password: true\n            User.login_token: true\n            # Buttons for settings_config_tab\n
            \           Settings.change_language: true\n            Settings.change_password: true\n            Settings.change_view:
            true\n            Settings.ssh_key: true\n            Settings.login_token: true\n            # Edit button in
            settings_quotas_tab\n            User.quotas_dialog: false\n    vms-tab:\n        actions: *provisionactions\n
            \   images-tab:\n        table_columns:\n            - 0         # Checkbox\n            - 1         # ID\n            -
            2         # Name\n            - 3         # Onwer\n            - 4         # Group\n            - 5         #
            Datastore\n            #- 6        # Size\n            - 7         # Type\n            #- 8        # Registration
            time\n            #- 9        # Persistent\n            - 10        # Status\n            - 11        # #VMs\n
            \           #- 12       # Target\n    vnets-tab:\n        table_columns:\n            - 0         # Checkbox\n
            \           - 1         # ID\n            - 2         # Name\n            #- 3        # Owner\n            - 4
            \        # Group\n            #- 5        # Reservation\n            #- 6        # Cluster\n            #- 7        #
            Bridge\n            #- 8        # Leases\n            #- 9        # VLAN ID\n    secgroups-tab:\n        table_columns:\n
            \           - 0         # Checkbox\n            - 1         # ID\n            - 2         # Name\n            #-
            3        # Owner\n            - 4         # Group\n            #- 5        # Labels\n    vmgroup-tab:\n        table_columns:\n
            \           - 0         # Checkbox\n            - 1         # ID\n            - 2         # Name\n            -
            3         # Owner\n            - 4         # Group\n            - 5         # Vms\n            #- 6        # Labels\n
            \           #- 7        # Search data\n    datastores-tab:\n        table_columns:\n            - 0         #
            Checkbox\n            - 1         # ID\n            - 2         # Name\n            - 3         # Owner\n            -
            4         # Group\n            #- 5        # Capacity\n            #- 6        # Cluster\n            #- 7        #
            Basepath\n            #- 8        # TM\n            #- 9        # DS\n            #- 10       # Type\n            -
            11        # Status\n            #- 12       # Labels\n            #- 13       # Search data"
    "/etc/one/sunstone-views/cloud_vcenter.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path:
            - features
            key: cloud_vm_create
            value: true
            state: ins
            extra: {}
        -   path:
            - tabs
            - provision-tab
            - create_vm
            key: disk_resize
            value: true
            old: false
            state: set
            extra: {}
        content: |-
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            enabled_tabs:
                - provision-tab
                - settings-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: false

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: true

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to allow to create machines to cloud users
                cloud_vm_create: true
            tabs:
                provision-tab:
                    panel_tabs:
                        vm_info_tab: false
                        vm_capacity_tab: false
                        vm_storage_tab: false
                        vm_network_tab: false
                        vm_snapshot_tab: false
                        vm_placement_tab: false
                        vm_actions_tab: false
                        vm_conf_tab: false
                        vm_template_tab: false
                        vm_log_tab: false
                    provision_tabs:
                        flows: true
                        templates: false
                    actions: &provisionactions
                        # In the cloud view, delete is the equivalent
                        # of 'onetemplate chmod --recursive'
                        Template.chmod: false

                        # In the cloud view, delete is the equivalent
                        # of 'onetemplate delete --recursive'
                        Template.delete: true
                        VM.rename: false
                        VM.resume: true
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: false
                        VM.undeploy_hard: false
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: false
                        VM.attachdisk: false
                        VM.detachdisk: false
                        VM.disk_saveas: false
                        VM.attachnic: false
                        VM.detachnic: false
                        VM.snapshot_create: false
                        VM.snapshot_revert: false
                        VM.snapshot_delete: false
                        VM.disk_snapshot_create: false
                        VM.disk_snapshot_revert: false
                        VM.disk_snapshot_delete: false
                        VM.save_as_template: true
                    dashboard:
                        # Connected user's quotas
                        quotas: true
                        # Overview of connected user's VMs
                        vms: true
                        # Group's quotas
                        groupquotas: false
                        # Overview of group's VMs
                        groupvms: false
                    create_vm:
                        # True to allow capacity (CPU, MEMORY, VCPU) customization
                        capacity_select: true
                        # True to allow NIC customization
                        network_select: true
                        # True to allow DISK size customization
                        disk_resize: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: false
                        settings_config_tab: true
                        settings_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                    actions:
                        # The buttons inside the settings-tab panel settings_info_tab are
                        # configured with users-tab/actions; User.update_password and
                        # User.login_token
                        #
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                users-tab:
                    actions:
                        User.update_password: true
                        User.login_token: true
                vms-tab:
                    actions: *provisionactions
                images-tab:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                vnets-tab:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Reservation
                        #- 6        # Cluster
                        #- 7        # Bridge
                        #- 8        # Leases
                        #- 9        # VLAN ID
                secgroups-tab:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Labels
    "/etc/one/sunstone-views/groupadmin.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path: &5
            - features
            key: show_ds_instantiate
            value: false
            state: ins
            extra: {}
        -   path: *5
            key: show_host_instantiate
            value: false
            state: ins
            extra: {}
        -   path:
            - tabs
            - templates-tab
            - template_creation_tabs
            key: actions
            value: true
            state: ins
            extra: {}
        content: |
            small_logo: images/opennebula-5.0.png
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            filter-view: true
            enabled_tabs:
                - dashboard-tab
                - instances-top-tab
                - vms-tab
                - oneflow-services-tab
                - vrouters-tab
                - templates-top-tab
                - templates-tab
                - oneflow-templates-tab
                - vrouter-templates-tab
                #- storage-top-tab
                #- datastores-tab
                #- images-tab
                #- files-tab
                #- marketplaces-tab
                #- marketplaceapps-tab
                - network-top-tab
                - vnets-tab
                - vnets-topology-tab
                - secgroups-tab
                #- infrastructure-top-tab
                #- clusters-tab
                #- hosts-tab
                #- zones-tab
                - system-top-tab
                - users-tab
                - groups-tab
                #- vdcs-tab
                #- acls-tab
                - settings-tab
                #- support-tab
                #- upgrade-top-tab
                - vmgroup-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: true

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: false

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to show the datastore datatable to instantiate VM
                show_ds_instantiate: false

                # True to show the host datatable to instantiate VM
                show_host_instantiate: false

                # True to show an input to specify the the VMs and Template path/folder where a vCenter VM will
                # deployed to
                vcenter_vm_folder: false
            tabs:
                dashboard-tab:
                    # The following widgets can be used inside any of the '_per_row' settings
                    # bellow. As the name suggest, the widgets will be scaled to fit one,
                    # two, or three per row. The footer uses the widgets at full size, i.e.
                    # one per row.
                    #
                    # - storage
                    # - users
                    # - network
                    # - hosts
                    # - vms
                    # - groupquotas
                    # - quotas
                    panel_tabs:
                    actions:
                        Dashboard.refresh: false
                        Sunstone.toggle_top: false
                    widgets_one_per_row:
                        - vms
                        - users
                    widgets_three_per_row:
                    widgets_two_per_row:
                        - groupquotas
                        - quotas
                    widgets_one_footer:
                system-top-tab:
                    panel_tabs:
                    actions:
                users-tab:
                    panel_tabs:
                        user_info_tab: true
                        user_quotas_tab: true
                        user_groups_tab: true
                        user_accounting_tab: true
                        user_showback_tab: true
                        user_auth_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Group
                        #- 4        # Auth driver
                        #- 5        # Password
                        - 6         # VMs
                        - 7         # Memory
                        - 8         # CPU
                        #- 9        # Group ID
                        #- 10       # Hidden User Data
                        #- 11       # Labels
                        #- 12       # Search data
                    actions:
                        User.refresh: true
                        User.create_dialog: true
                        User.update_password: true
                        User.login_token: true
                        User.quotas_dialog: true
                        User.groups_dialog: false
                        User.chgrp: false
                        User.change_authentication: false
                        User.delete: true
                        User.edit_labels: true
                        User.menu_labels: true
                groups-tab:
                    panel_tabs:
                        group_info_tab: true
                        group_users_tab: true
                        group_quotas_tab: true
                        group_accounting_tab: true
                        group_showback_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Users
                        - 4         # VMs
                        - 5         # Memory
                        - 6         # CPU
                        #- 7        # Labels
                    actions:
                        Group.refresh: true
                        Group.create_dialog: false
                        Group.update_dialog: false
                        Group.quotas_dialog: false
                        Group.delete: false
                        Group.edit_admins: false
                        Group.edit_labels: true
                        Group.menu_labels: true
                vdcs-tab:
                    panel_tabs:
                        vdc_info_tab: true
                        vdc_groups_tab: true
                        vdc_resources_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Groups
                        - 4         # Clusters
                        - 5         # Hosts
                        - 6         # VNets
                        - 7         # Datastores
                        #- 8        # Labels
                    actions:
                        Vdc.refresh: true
                        Vdc.create_dialog: true
                        Vdc.update_dialog: true
                        Vdc.rename: true
                        Vdc.delete: true
                        Vdc.edit_labels: true
                        Vdc.menu_labels: true
                acls-tab:
                    panel_tabs:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Applies to
                        - 3         # Affected resources
                        - 4         # Resource ID / Owned by
                        - 5         # Allowed operations
                        - 6         # Zone
                        #- 7        # ACL String
                    actions:
                        Acl.refresh: true
                        Acl.create_dialog: true
                        Acl.delete: true
                templates-top-tab:
                    panel_tabs:
                    actions:
                templates-tab:
                    panel_tabs:
                        template_info_tab: true
                        template_template_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Template.refresh: true
                        Template.create_dialog: false
                        Template.import_dialog: false
                        Template.update_dialog: false
                        Template.instantiate_vms: true
                        Template.rename: true
                        Template.chown: true
                        Template.chgrp: false
                        Template.chmod: false
                        Template.clone_dialog: true
                        Template.delete_dialog: true
                        Template.share: true
                        Template.unshare: true
                        Template.edit_labels: true
                        Template.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        actions: true
                        scheduling: true
                        hybrid: true
                        vmgroup: true
                        other: true
                oneflow-templates-tab:
                    panel_tabs:
                        service_template_info_tab: true
                        service_template_roles_tab: true
                        service_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        ServiceTemplate.refresh: true
                        ServiceTemplate.create_dialog: false
                        ServiceTemplate.update_dialog: false
                        ServiceTemplate.instantiate: true
                        ServiceTemplate.chown: false
                        ServiceTemplate.chgrp: false
                        ServiceTemplate.chmod: false
                        ServiceTemplate.rename: false
                        ServiceTemplate.clone_dialog: false
                        ServiceTemplate.delete: false
                        ServiceTemplate.edit_labels: true
                        ServiceTemplate.menu_labels: true
                vrouter-templates-tab:
                    panel_tabs:
                        vrouter_template_info_tab: true
                        vrouter_template_template_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        VirtualRouterTemplate.refresh: true
                        VirtualRouterTemplate.create_dialog: false
                        VirtualRouterTemplate.update_dialog: false
                        VirtualRouterTemplate.instantiate_dialog: false
                        VirtualRouterTemplate.rename: true
                        VirtualRouterTemplate.chown: true
                        VirtualRouterTemplate.chgrp: false
                        VirtualRouterTemplate.chmod: false
                        VirtualRouterTemplate.clone_dialog: true
                        VirtualRouterTemplate.delete_dialog: true
                        VirtualRouterTemplate.share: true
                        VirtualRouterTemplate.unshare: true
                        VirtualRouterTemplate.edit_labels: true
                        VirtualRouterTemplate.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        scheduling: true
                        hybrid: true
                        other: true
                instances-top-tab:
                    panel_tabs:
                    actions:
                vms-tab:
                    panel_tabs:
                        vm_info_tab: true
                        vm_capacity_tab: true
                        vm_storage_tab: true
                        vm_network_tab: true
                        vm_snapshot_tab: false
                        vm_placement_tab: false
                        vm_actions_tab: false
                        vm_conf_tab: false
                        vm_template_tab: false
                        vm_log_tab: false
                    table_columns:
                        - 0        # Checkbox
                        - 1        # ID
                        - 2        # Name
                        #- 3       # Owner
                        - 4        # Group
                        - 5        # Status
                        #- 6       # Used CPU
                        #- 7       # Used Memory
                        #- 8       # Host
                        - 9        # IPs
                        #- 10      # Start Time
                        - 11       # VNC
                        #- 12      # Hidden Template
                        #- 13      # Labels
                        #- 14      # Search data
                    actions:
                        VM.refresh: true
                        VM.create_dialog: true
                        VM.rename: true
                        VM.chown: true
                        VM.chgrp: false
                        VM.chmod: false
                        VM.deploy: false
                        VM.migrate: false
                        VM.migrate_live: false
                        VM.hold: true
                        VM.release: true
                        VM.suspend: false
                        VM.resume: true
                        VM.stop: false
                        VM.recover: false
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: true
                        VM.undeploy_hard: true
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: false
                        VM.attachdisk: false
                        VM.detachdisk: false
                        VM.disk_saveas: false
                        VM.disk_resize: false
                        VM.attachnic: false
                        VM.detachnic: false
                        VM.snapshot_create: false
                        VM.snapshot_revert: false
                        VM.snapshot_delete: false
                        VM.disk_snapshot_create: false
                        VM.disk_snapshot_revert: false
                        VM.disk_snapshot_delete: false
                        VM.resched: false
                        VM.unresched: false
                        VM.save_as_template: true
                        VM.updateconf: false
                        VM.edit_labels: true
                        VM.menu_labels: true
                oneflow-services-tab:
                    panel_tabs:
                        service_info_tab: true
                        service_roles_tab: true
                        service_log_tab: true
                    panel_tabs_actions:
                        service_roles_tab:
                            Role.scale: true
                            Role.hold: true
                            Role.release: true
                            Role.suspend: false
                            Role.resume: true
                            Role.stop: false
                            Role.reboot: true
                            Role.reboot_hard: true
                            Role.poweroff: true
                            Role.poweroff_hard: true
                            Role.undeploy: true
                            Role.undeploy_hard: true
                            Role.terminate: true
                            Role.terminate_hard: true
                            RoleVM.hold: true
                            RoleVM.release: true
                            RoleVM.suspend: false
                            RoleVM.resume: true
                            RoleVM.stop: false
                            RoleVM.reboot: true
                            RoleVM.reboot_hard: true
                            RoleVM.poweroff: true
                            RoleVM.poweroff_hard: true
                            RoleVM.undeploy: true
                            RoleVM.undeploy_hard: true
                            RoleVM.terminate: true
                            RoleVM.terminate_hard: true
                            RoleVM.resched: false
                            RoleVM.unresched: false
                            RoleVM.recover: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        - 5         # State
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Service.refresh: true
                        Service.create_dialog: true
                        Service.chown: true
                        Service.chgrp: false
                        Service.chmod: false
                        Service.rename: true
                        Service.shutdown: true
                        Service.recover: true
                        Service.delete: true
                        Service.edit_labels: true
                        Service.menu_labels: true
                vrouters-tab:
                    panel_tabs:
                        virtual_router_info_tab: true
                        virtual_router_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        VirtualRouter.refresh: true
                        VirtualRouter.create_dialog: true
                        VirtualRouter.rename: true
                        VirtualRouter.chown: true
                        VirtualRouter.chgrp: false
                        VirtualRouter.chmod: false
                        VirtualRouter.delete: true
                        VirtualRouter.attachnic: false
                        VirtualRouter.detachnic: false
                        VirtualRouter.edit_labels: true
                        VirtualRouter.menu_labels: true
                infrastructure-top-tab:
                    panel_tabs:
                    actions:
                clusters-tab:
                    panel_tabs:
                        cluster_info_tab: true
                        cluster_host_tab: true
                        cluster_vnet_tab: true
                        cluster_datastore_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Hosts
                        - 4         # VNets
                        - 5         # Datastores
                        #- 6        # Labels
                    actions:
                        Cluster.refresh: true
                        Cluster.create_dialog: true
                        Cluster.update_dialog: true
                        Cluster.delete: true
                        Cluster.rename: true
                        Cluster.edit_labels: true
                        Cluster.menu_labels: true
                hosts-tab:
                    panel_tabs:
                        host_info_tab: true
                        host_monitoring_tab: true
                        host_vms_tab: true
                        host_wilds_tab: true
                        host_zombies_tab: true
                        host_esx_tab: true
                        host_pci_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Cluster
                        - 4         # RVMs
                        #- 5        # Real CPU
                        - 6         # Allocated CPU
                        #- 7        # Real MEM
                        - 8         # Allocated MEM
                        - 9         # Status
                        #- 10       # IM MAD
                        #- 11       # VM MAD
                        #- 12       # Last monitored on
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Host.refresh: true
                        Host.create_dialog: true
                        Host.addtocluster: true
                        Host.rename: true
                        Host.enable: true
                        Host.disable: true
                        Host.offline: true
                        Host.delete: true
                        Host.edit_labels: true
                        Host.menu_labels: true
                zones-tab:
                    panel_tabs:
                        zone_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Endpoint
                        #- 4        # Labels
                    actions:
                        Zone.refresh: true
                        Zone.create_dialog: true
                        Zone.rename: true
                        Zone.delete: true
                        Zone.edit_labels: true
                        Zone.menu_labels: true
                storage-top-tab:
                    panel_tabs:
                    actions:
                datastores-tab:
                    panel_tabs:
                        datastore_info_tab: true
                        datastore_image_tab: true
                        datastore_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Cluster
                        #- 7        # Basepath
                        #- 8        # TM
                        #- 9        # DS
                        - 10        # Type
                        - 11        # Status
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        Datastore.refresh: true
                        Datastore.create_dialog: true
                        Datastore.import_dialog: false
                        Datastore.addtocluster: true
                        Datastore.rename: true
                        Datastore.chown: true
                        Datastore.chgrp: true
                        Datastore.chmod: true
                        Datastore.delete: true
                        Datastore.enable: true
                        Datastore.disable: true
                        Datastore.edit_labels: true
                        Datastore.menu_labels: true
                images-tab:
                    panel_tabs:
                        image_info_tab: true
                        image_vms_tab: true
                        image_snapshots_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Image.refresh: true
                        Image.create_dialog: true
                        Image.import_dialog: false
                        Image.upload_marketplace_dialog: true
                        Image.rename: true
                        Image.chown: true
                        Image.chgrp: true
                        Image.chmod: true
                        Image.enable: true
                        Image.disable: true
                        Image.persistent: true
                        Image.nonpersistent: true
                        Image.clone_dialog: true
                        Image.delete: true
                        Image.snapshot_flatten: true
                        Image.snapshot_revert: true
                        Image.snapshot_delete: true
                        Image.edit_labels: true
                        Image.menu_labels: true
                files-tab:
                    panel_tabs:
                        file_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        #- 11       # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        File.refresh: true
                        File.create_dialog: true
                        File.rename: true
                        File.chown: true
                        File.chgrp: true
                        File.chmod: true
                        File.enable: true
                        File.disable: true
                        File.delete: true
                        File.edit_labels: true
                        File.menu_labels: true
                marketplaces-tab:
                    panel_tabs:
                        marketplace_info_tab: true
                        marketplace_apps_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Apps
                        - 7         # Driver
                        - 8         # Zone
                        #- 9        # Labels
                        #- 10       # Search data
                    actions:
                        MarketPlace.refresh: true
                        MarketPlace.create_dialog: true
                        MarketPlace.update_dialog: true
                        MarketPlace.rename: true
                        MarketPlace.chown: true
                        MarketPlace.chgrp: true
                        MarketPlace.chmod: true
                        MarketPlace.delete: true
                        MarketPlace.edit_labels: true
                        MarketPlace.menu_labels: true
                marketplaceapps-tab:
                    panel_tabs:
                        marketplaceapp_info_tab: true
                        marketplaceapp_templates_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Version
                        - 6         # Size
                        - 7         # State
                        #- 8        # Type
                        - 9         # Registration
                        - 10        # Marketplace
                        - 11        # Zone
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        MarketPlaceApp.refresh: true
                        MarketPlaceApp.create_dialog: true
                        MarketPlaceApp.download_opennebula_dialog: true
                        MarketPlaceApp.download_local: true
                        MarketPlaceApp.rename: true
                        MarketPlaceApp.chown: true
                        MarketPlaceApp.chgrp: true
                        MarketPlaceApp.chmod: true
                        MarketPlaceApp.enable: true
                        MarketPlaceApp.disable: true
                        MarketPlaceApp.delete: true
                        MarketPlaceApp.edit_labels: true
                        MarketPlaceApp.menu_labels: true
                network-top-tab:
                    panel_tabs:
                    actions:
                vnets-tab:
                    panel_tabs:
                        vnet_info_tab: false
                        vnet_ar_list_tab: false
                        vnet_leases_tab: true
                        vnet_sg_list_tab: true
                        vnet_vr_list_tab: false
                        vnet_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        #- 2        # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Reservation
                        #- 6        # Cluster
                        #- 7        # Bridge
                        #- 8        # Leases
                        #- 9        # VLAN ID
                        #- 10       # Labels
                        #- 11       # Search data
                    actions:
                        Network.refresh: true
                        Network.create_dialog: false
                        Network.import_dialog: false
                        Network.update_dialog: false
                        Network.reserve_dialog: false
                        Network.addtocluster: false
                        Network.rename: false
                        Network.chown: false
                        Network.chgrp: false
                        Network.chmod: false
                        Network.delete: false
                        Network.hold_lease: false
                        Network.release_lease: false
                        Network.add_ar: false
                        Network.remove_ar: false
                        Network.update_ar: false
                        Network.edit_labels: true
                        Network.menu_labels: true
                vnets-topology-tab:
                    panel_tabs:
                    actions:
                        NetworkTopology.refresh: true
                        NetworkTopology.fit: true
                        NetworkTopology.collapseVMs: true
                        NetworkTopology.openVMs: true
                secgroups-tab:
                    panel_tabs:
                        security_group_info_tab: true
                        security_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        #- 2        # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        SecurityGroup.refresh: true
                        SecurityGroup.create_dialog: false
                        SecurityGroup.update_dialog: false
                        SecurityGroup.rename: false
                        SecurityGroup.chown: false
                        SecurityGroup.chgrp: false
                        SecurityGroup.chmod: false
                        SecurityGroup.clone_dialog: false
                        SecurityGroup.commit_dialog: false
                        SecurityGroup.delete: false
                        SecurityGroup.edit_labels: true
                        SecurityGroup.menu_labels: true
                support-tab:
                    panel_tabs:
                        support_info_tab: true
                    table_columns:
                        #- 0        # Checkbox
                        - 1         # ID
                        - 2         # Subject
                        - 3         # Created at
                        - 4         # Status
                    actions:
                        Support.refresh: true
                        Support.create_dialog: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: true
                        settings_config_tab: false
                        settings_quotas_tab: true
                        settings_group_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                        settings_auth_tab: true
                    actions:
                        # Buttons for settings_info_tab
                        User.update_password: true
                        User.login_token: true
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                upgrade-top-tab:
                    panel_tabs:
                    actions:
                vmgroup-tab:
                    panel_tabs:
                        vm_group_info_tab: true
                        vm_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Vms
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                       VMGroup.create_dialog: true
                       VMGroup.update_dialog: true
                       VMGroup.chmod: true
                       VMGroup.chown: true
                       VMGroup.chgrp: true
    "/etc/one/sunstone-views/groupadmin_vcenter.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path:
            - tabs
            - templates-tab
            - template_creation_tabs
            key: actions
            value: true
            state: ins
            extra: {}
        content: |-
            small_logo: images/opennebula-5.0.png
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            filter-view: true
            enabled_tabs:
                - dashboard-tab
                - instances-top-tab
                - vms-tab
                - oneflow-services-tab
                - vrouters-tab
                - templates-top-tab
                #- templates-tab
                - oneflow-templates-tab
                #- vrouter-templates-tab
                #- storage-top-tab
                #- datastores-tab
                #- images-tab
                #- files-tab
                #- marketplaces-tab
                #- marketplaceapps-tab
                - network-top-tab
                - vnets-tab
                - vnets-topology-tab
                #- secgroups-tab
                #- infrastructure-top-tab
                #- clusters-tab
                #- hosts-tab
                #- zones-tab
                - system-top-tab
                - users-tab
                - groups-tab
                #- vdcs-tab
                #- acls-tab
                - settings-tab
                #- support-tab
                #- upgrade-top-tab
                - vmgroup-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: false

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: true

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to show an input to specify the the VMs and Template path/folder where a vCenter VM will
                # deployed to
                vcenter_vm_folder: false
            tabs:
                dashboard-tab:
                    # The following widgets can be used inside any of the '_per_row' settings
                    # bellow. As the name suggest, the widgets will be scaled to fit one,
                    # two, or three per row. The footer uses the widgets at full size, i.e.
                    # one per row.
                    #
                    # - storage
                    # - users
                    # - network
                    # - hosts
                    # - vms
                    # - groupquotas
                    # - quotas
                    panel_tabs:
                    actions:
                        Dashboard.refresh: false
                        Sunstone.toggle_top: false
                    widgets_one_per_row:
                        - vms
                        - users
                    widgets_three_per_row:
                    widgets_two_per_row:
                        - groupquotas
                        - quotas
                    widgets_one_footer:
                system-top-tab:
                    panel_tabs:
                    actions:
                users-tab:
                    panel_tabs:
                        user_info_tab: true
                        user_quotas_tab: true
                        user_groups_tab: true
                        user_accounting_tab: true
                        user_showback_tab: true
                        user_auth_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Group
                        #- 4        # Auth driver
                        #- 5        # Password
                        - 6         # VMs
                        - 7         # Memory
                        - 8         # CPU
                        #- 9        # Group ID
                        #- 10       # Hidden User Data
                        #- 11       # Labels
                        #- 12       # Search data
                    actions:
                        User.refresh: true
                        User.create_dialog: true
                        User.update_password: true
                        User.login_token: true
                        User.quotas_dialog: true
                        User.groups_dialog: false
                        User.chgrp: false
                        User.change_authentication: false
                        User.delete: true
                        User.edit_labels: true
                        User.menu_labels: true
                groups-tab:
                    panel_tabs:
                        group_info_tab: true
                        group_users_tab: true
                        group_quotas_tab: true
                        group_accounting_tab: true
                        group_showback_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Users
                        - 4         # VMs
                        - 5         # Memory
                        - 6         # CPU
                        #- 7        # Labels
                    actions:
                        Group.refresh: true
                        Group.create_dialog: false
                        Group.update_dialog: false
                        Group.quotas_dialog: false
                        Group.delete: false
                        Group.edit_admins: false
                        Group.edit_labels: true
                        Group.menu_labels: true
                vdcs-tab:
                    panel_tabs:
                        vdc_info_tab: true
                        vdc_groups_tab: true
                        vdc_resources_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Groups
                        - 4         # Clusters
                        - 5         # Hosts
                        - 6         # VNets
                        - 7         # Datastores
                        #- 8        # Labels
                    actions:
                        Vdc.refresh: true
                        Vdc.create_dialog: true
                        Vdc.update_dialog: true
                        Vdc.rename: true
                        Vdc.delete: true
                        Vdc.edit_labels: true
                        Vdc.menu_labels: true
                acls-tab:
                    panel_tabs:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Applies to
                        - 3         # Affected resources
                        - 4         # Resource ID / Owned by
                        - 5         # Allowed operations
                        - 6         # Zone
                        #- 7        # ACL String
                    actions:
                        Acl.refresh: true
                        Acl.create_dialog: true
                        Acl.delete: true
                templates-top-tab:
                    panel_tabs:
                    actions:
                templates-tab:
                    panel_tabs:
                        template_info_tab: true
                        template_template_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Template.refresh: true
                        Template.create_dialog: false
                        Template.import_dialog: false
                        Template.update_dialog: false
                        Template.instantiate_vms: true
                        Template.rename: true
                        Template.chown: true
                        Template.chgrp: false
                        Template.chmod: false
                        Template.clone_dialog: true
                        Template.delete_dialog: true
                        Template.share: true
                        Template.unshare: true
                        Template.edit_labels: true
                        Template.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        actions: true
                        scheduling: true
                        hybrid: true
                        vmgroup: true
                        other: true
                oneflow-templates-tab:
                    panel_tabs:
                        service_template_info_tab: true
                        service_template_roles_tab: true
                        service_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        ServiceTemplate.refresh: true
                        ServiceTemplate.create_dialog: false
                        ServiceTemplate.update_dialog: false
                        ServiceTemplate.instantiate: true
                        ServiceTemplate.chown: false
                        ServiceTemplate.chgrp: false
                        ServiceTemplate.chmod: false
                        ServiceTemplate.rename: false
                        ServiceTemplate.clone_dialog: false
                        ServiceTemplate.delete: false
                        ServiceTemplate.edit_labels: true
                        ServiceTemplate.menu_labels: true
                vrouter-templates-tab:
                    panel_tabs:
                        vrouter_template_info_tab: true
                        vrouter_template_template_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        VirtualRouterTemplate.refresh: true
                        VirtualRouterTemplate.create_dialog: false
                        VirtualRouterTemplate.update_dialog: false
                        VirtualRouterTemplate.instantiate_dialog: false
                        VirtualRouterTemplate.rename: true
                        VirtualRouterTemplate.chown: true
                        VirtualRouterTemplate.chgrp: false
                        VirtualRouterTemplate.chmod: false
                        VirtualRouterTemplate.clone_dialog: true
                        VirtualRouterTemplate.delete_dialog: true
                        VirtualRouterTemplate.share: true
                        VirtualRouterTemplate.unshare: true
                        VirtualRouterTemplate.edit_labels: true
                        VirtualRouterTemplate.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        scheduling: true
                        hybrid: true
                        other: true
                instances-top-tab:
                    panel_tabs:
                    actions:
                vms-tab:
                    panel_tabs:
                        vm_info_tab: true
                        vm_capacity_tab: true
                        vm_storage_tab: true
                        vm_network_tab: true
                        vm_snapshot_tab: false
                        vm_placement_tab: false
                        vm_actions_tab: false
                        vm_conf_tab: false
                        vm_template_tab: false
                        vm_log_tab: false
                    table_columns:
                        - 0       # Checkbox
                        - 1       # ID
                        - 2       # Name
                        #- 3      # Owner
                        - 4       # Group
                        - 5       # Status
                        #- 6      # Used CPU
                        #- 7      # Used Memory
                        #- 8      # Host
                        - 9       # IPs
                        #- 10     # Start Time
                        - 11      # VNC
                        #- 12     # Hidden Template
                        #- 13     # Labels
                        #- 14     # Search data
                    actions:
                        VM.refresh: true
                        VM.create_dialog: true
                        VM.rename: true
                        VM.chown: true
                        VM.chgrp: false
                        VM.chmod: false
                        VM.deploy: false
                        VM.migrate: false
                        VM.migrate_live: false
                        VM.hold: true
                        VM.release: true
                        VM.suspend: false
                        VM.resume: true
                        VM.stop: false
                        VM.recover: false
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: true
                        VM.undeploy_hard: true
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: false
                        VM.attachdisk: false
                        VM.detachdisk: false
                        VM.disk_saveas: false
                        VM.disk_resize: false
                        VM.attachnic: false
                        VM.detachnic: false
                        VM.snapshot_create: false
                        VM.snapshot_revert: false
                        VM.snapshot_delete: false
                        VM.disk_snapshot_create: false
                        VM.disk_snapshot_revert: false
                        VM.disk_snapshot_delete: false
                        VM.resched: false
                        VM.unresched: false
                        VM.save_as_template: false
                        VM.updateconf: false
                        VM.edit_labels: true
                        VM.menu_labels: true
                oneflow-services-tab:
                    panel_tabs:
                        service_info_tab: true
                        service_roles_tab: true
                        service_log_tab: true
                    panel_tabs_actions:
                        service_roles_tab:
                            Role.scale: true
                            Role.hold: true
                            Role.release: true
                            Role.suspend: false
                            Role.resume: true
                            Role.stop: false
                            Role.reboot: true
                            Role.reboot_hard: true
                            Role.poweroff: true
                            Role.poweroff_hard: true
                            Role.undeploy: true
                            Role.undeploy_hard: true
                            Role.terminate: true
                            Role.terminate_hard: true
                            RoleVM.hold: true
                            RoleVM.release: true
                            RoleVM.suspend: false
                            RoleVM.resume: true
                            RoleVM.stop: false
                            RoleVM.reboot: true
                            RoleVM.reboot_hard: true
                            RoleVM.poweroff: true
                            RoleVM.poweroff_hard: true
                            RoleVM.undeploy: true
                            RoleVM.undeploy_hard: true
                            RoleVM.terminate: true
                            RoleVM.terminate_hard: true
                            RoleVM.resched: false
                            RoleVM.unresched: false
                            RoleVM.recover: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        - 5         # State
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Service.refresh: true
                        Service.create_dialog: true
                        Service.chown: true
                        Service.chgrp: false
                        Service.chmod: false
                        Service.rename: true
                        Service.shutdown: true
                        Service.recover: true
                        Service.delete: true
                        Service.edit_labels: true
                        Service.menu_labels: true
                vrouters-tab:
                    panel_tabs:
                        virtual_router_info_tab: true
                        virtual_router_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        VirtualRouter.refresh: true
                        VirtualRouter.create_dialog: true
                        VirtualRouter.rename: true
                        VirtualRouter.chown: true
                        VirtualRouter.chgrp: false
                        VirtualRouter.chmod: false
                        VirtualRouter.delete: true
                        VirtualRouter.attachnic: false
                        VirtualRouter.detachnic: false
                        VirtualRouter.edit_labels: true
                        VirtualRouter.menu_labels: true
                infrastructure-top-tab:
                    panel_tabs:
                    actions:
                clusters-tab:
                    panel_tabs:
                        cluster_info_tab: true
                        cluster_host_tab: true
                        cluster_vnet_tab: true
                        cluster_datastore_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Hosts
                        - 4         # VNets
                        - 5         # Datastores
                        #- 6        # Labels
                    actions:
                        Cluster.refresh: true
                        Cluster.create_dialog: true
                        Cluster.update_dialog: true
                        Cluster.delete: true
                        Cluster.rename: true
                        Cluster.edit_labels: true
                        Cluster.menu_labels: true
                hosts-tab:
                    panel_tabs:
                        host_info_tab: true
                        host_monitoring_tab: true
                        host_vms_tab: true
                        host_wilds_tab: true
                        host_zombies_tab: true
                        host_esx_tab: true
                        host_pci_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Cluster
                        - 4         # RVMs
                        #- 5        # Real CPU
                        - 6         # Allocated CPU
                        #- 7        # Real MEM
                        - 8         # Allocated MEM
                        - 9         # Status
                        #- 10       # IM MAD
                        #- 11       # VM MAD
                        #- 12       # Last monitored on
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Host.refresh: true
                        Host.create_dialog: true
                        Host.addtocluster: true
                        Host.rename: true
                        Host.enable: true
                        Host.disable: true
                        Host.offline: true
                        Host.delete: true
                        Host.edit_labels: true
                        Host.menu_labels: true
                zones-tab:
                    panel_tabs:
                        zone_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Endpoint
                        #- 4        # Labels
                    actions:
                        Zone.refresh: true
                        Zone.create_dialog: true
                        Zone.rename: true
                        Zone.delete: true
                        Zone.edit_labels: true
                        Zone.menu_labels: true
                storage-top-tab:
                    panel_tabs:
                    actions:
                datastores-tab:
                    panel_tabs:
                        datastore_info_tab: true
                        datastore_image_tab: true
                        datastore_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Cluster
                        #- 7        # Basepath
                        #- 8        # TM
                        #- 9        # DS
                        - 10        # Type
                        - 11        # Status
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        Datastore.refresh: true
                        Datastore.create_dialog: true
                        Datastore.import_dialog: false
                        Datastore.addtocluster: true
                        Datastore.rename: true
                        Datastore.chown: true
                        Datastore.chgrp: true
                        Datastore.chmod: true
                        Datastore.delete: true
                        Datastore.enable: true
                        Datastore.disable: true
                        Datastore.edit_labels: true
                        Datastore.menu_labels: true
                images-tab:
                    panel_tabs:
                        image_info_tab: true
                        image_vms_tab: true
                        image_snapshots_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Image.refresh: true
                        Image.create_dialog: true
                        Image.import_dialog: true
                        Image.upload_marketplace_dialog: false
                        Image.rename: true
                        Image.chown: true
                        Image.chgrp: true
                        Image.chmod: true
                        Image.enable: true
                        Image.disable: true
                        Image.persistent: true
                        Image.nonpersistent: true
                        Image.clone_dialog: true
                        Image.delete: true
                        Image.snapshot_flatten: true
                        Image.snapshot_revert: true
                        Image.snapshot_delete: true
                        Image.edit_labels: true
                        Image.menu_labels: true
                files-tab:
                    panel_tabs:
                        file_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        #- 11       # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        File.refresh: true
                        File.create_dialog: true
                        File.rename: true
                        File.chown: true
                        File.chgrp: true
                        File.chmod: true
                        File.enable: true
                        File.disable: true
                        File.delete: true
                        File.edit_labels: true
                        File.menu_labels: true
                marketplaces-tab:
                    panel_tabs:
                        marketplace_info_tab: true
                        marketplace_apps_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Apps
                        - 7         # Driver
                        - 8         # Zone
                        #- 9        # Labels
                        #- 10       # Search data
                    actions:
                        MarketPlace.refresh: true
                        MarketPlace.create_dialog: true
                        MarketPlace.update_dialog: true
                        MarketPlace.rename: true
                        MarketPlace.chown: true
                        MarketPlace.chgrp: true
                        MarketPlace.chmod: true
                        MarketPlace.delete: true
                        MarketPlace.edit_labels: true
                        MarketPlace.menu_labels: true
                marketplaceapps-tab:
                    panel_tabs:
                        marketplaceapp_info_tab: true
                        marketplaceapp_templates_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Version
                        - 6         # Size
                        - 7         # State
                        #- 8        # Type
                        - 9         # Registration
                        - 10        # Marketplace
                        - 11        # Zone
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        MarketPlaceApp.refresh: true
                        MarketPlaceApp.create_dialog: true
                        MarketPlaceApp.download_opennebula_dialog: true
                        MarketPlaceApp.download_local: true
                        MarketPlaceApp.rename: true
                        MarketPlaceApp.chown: true
                        MarketPlaceApp.chgrp: true
                        MarketPlaceApp.chmod: true
                        MarketPlaceApp.enable: true
                        MarketPlaceApp.disable: true
                        MarketPlaceApp.delete: true
                        MarketPlaceApp.edit_labels: true
                        MarketPlaceApp.menu_labels: true
                network-top-tab:
                    panel_tabs:
                    actions:
                vnets-tab:
                    panel_tabs:
                        vnet_info_tab: false
                        vnet_ar_list_tab: false
                        vnet_leases_tab: true
                        vnet_sg_list_tab: false
                        vnet_vr_list_tab: false
                        vnet_clusters_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        #- 2        # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Reservation
                        #- 6        # Cluster
                        #- 7        # Bridge
                        #- 8        # Leases
                        #- 9        # VLAN ID
                        #- 10       # Labels
                        #- 11       # Search data
                    actions:
                        Network.refresh: true
                        Network.create_dialog: false
                        Network.import_dialog: false
                        Network.update_dialog: false
                        Network.reserve_dialog: false
                        Network.addtocluster: false
                        Network.rename: false
                        Network.chown: false
                        Network.chgrp: false
                        Network.chmod: false
                        Network.delete: false
                        Network.hold_lease: false
                        Network.release_lease: false
                        Network.add_ar: false
                        Network.remove_ar: false
                        Network.update_ar: false
                        Network.edit_labels: true
                        Network.menu_labels: true
                vnets-topology-tab:
                    panel_tabs:
                    actions:
                        NetworkTopology.refresh: true
                        NetworkTopology.fit: true
                        NetworkTopology.collapseVMs: true
                        NetworkTopology.openVMs: true
                secgroups-tab:
                    panel_tabs:
                        security_group_info_tab: true
                        security_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        #- 2        # Name
                        #- 3        # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        SecurityGroup.refresh: true
                        SecurityGroup.create_dialog: false
                        SecurityGroup.update_dialog: false
                        SecurityGroup.rename: false
                        SecurityGroup.chown: false
                        SecurityGroup.chgrp: false
                        SecurityGroup.chmod: false
                        SecurityGroup.clone_dialog: false
                        SecurityGroup.commit_dialog: false
                        SecurityGroup.delete: false
                        SecurityGroup.edit_labels: true
                        SecurityGroup.menu_labels: true
                support-tab:
                    panel_tabs:
                        support_info_tab: true
                    table_columns:
                        #- 0        # Checkbox
                        - 1         # ID
                        - 2         # Subject
                        - 3         # Created at
                        - 4         # Status
                    actions:
                        Support.refresh: true
                        Support.create_dialog: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: true
                        settings_config_tab: false
                        settings_quotas_tab: true
                        settings_group_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                        settings_auth_tab: true
                    actions:
                        # Buttons for settings_info_tab
                        User.update_password: true
                        User.login_token: true
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                upgrade-top-tab:
                    panel_tabs:
                    actions:
                vmgroup-tab:
                    panel_tabs:
                        vm_group_info_tab: true
                        vm_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Vms
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                       VMGroup.create_dialog: true
                       VMGroup.update_dialog: true
                       VMGroup.chmod: true
                       VMGroup.chown: true
                       VMGroup.chgrp: true
    "/etc/one/sunstone-views/admin_vcenter.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        action: apply
        change:
        -   path: &6
            - features
            key: show_ds_instantiate
            value: false
            state: ins
            extra: {}
        -   path: *6
            key: show_host_instantiate
            value: false
            state: ins
            extra: {}
        -   path:
            - tabs
            - templates-tab
            - template_creation_tabs
            key: actions
            value: true
            state: ins
            extra: {}
        content: |
            small_logo: images/opennebula-5.0.png
            provision_logo: images/opennebula-5.0.png
            link_logo:
            text_link_logo:
            confirm_vms: false
            filter-view: true
            enabled_tabs:
                - dashboard-tab
                - instances-top-tab
                - vms-tab
                - oneflow-services-tab
                - vrouters-tab
                - templates-top-tab
                - templates-tab
                - oneflow-templates-tab
                - vrouter-templates-tab
                - storage-top-tab
                - datastores-tab
                - images-tab
                #- files-tab
                #- marketplaces-tab
                #- marketplaceapps-tab
                - network-top-tab
                - vnets-tab
                - vnets-topology-tab
                #- secgroups-tab
                - infrastructure-top-tab
                - clusters-tab
                - hosts-tab
                - zones-tab
                - system-top-tab
                - users-tab
                - groups-tab
                - vdcs-tab
                - acls-tab
                - settings-tab
                - support-tab
                - upgrade-top-tab
                - vmgroup-tab
            features:
                # True to show showback monthly reports, and VM cost
                showback: true

                # Allows to change the security groups for each network interface
                # on the VM creation dialog
                secgroups: false

                # True to hide the CPU setting in the VM creation dialog. The CPU setting
                # will be set to the same value as VCPU, that will still be visible for the
                # end users
                instantiate_hide_cpu: false

                # False to not scale the CPU. Number [0, 1] to scale from VCPU
                instantiate_cpu_factor: false

                # True to show the option to make an instance persistent
                instantiate_persistent: true

                # True to show the datastore datatable to instantiate VM
                show_ds_instantiate: false

                # True to show the host datatable to instantiate VM
                show_host_instantiate: false

                # True to show an input to specify the the VMs and Template path/folder where a vCenter VM will
                # deployed to
                vcenter_vm_folder: true
            tabs:
                dashboard-tab:
                    # The following widgets can be used inside any of the '_per_row' settings
                    # bellow. As the name suggest, the widgets will be scaled to fit one,
                    # two, or three per row. The footer uses the widgets at full size, i.e.
                    # one per row.
                    #
                    # - storage
                    # - users
                    # - network
                    # - hosts
                    # - vms
                    # - groupquotas
                    # - quotas
                    panel_tabs:
                    actions:
                        Dashboard.refresh: false
                        Sunstone.toggle_top: false
                    widgets_one_per_row:
                        - vms
                        - hosts
                        - users
                    widgets_three_per_row:
                    widgets_two_per_row:
                    widgets_one_footer:
                system-top-tab:
                    panel_tabs:
                    actions:
                users-tab:
                    panel_tabs:
                        user_info_tab: true
                        user_quotas_tab: true
                        user_groups_tab: true
                        user_accounting_tab: true
                        user_showback_tab: true
                        user_auth_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Group
                        - 4         # Auth driver
                        #- 5        # Password
                        - 6         # VMs
                        - 7         # Memory
                        - 8         # CPU
                        #- 9        # Group ID
                        #- 10       # Hidden User Data
                        #- 11       # Labels
                        #- 12       # Search data
                    actions:
                        User.refresh: true
                        User.create_dialog: true
                        User.update_password: true
                        User.login_token: true
                        User.quotas_dialog: true
                        User.groups_dialog: true
                        User.chgrp: true
                        User.change_authentication: true
                        User.delete: true
                        User.edit_labels: true
                        User.menu_labels: true
                groups-tab:
                    panel_tabs:
                        group_info_tab: true
                        group_users_tab: true
                        group_quotas_tab: true
                        group_accounting_tab: true
                        group_showback_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Users
                        - 4         # VMs
                        - 5         # Memory
                        - 6         # CPU
                        #- 7        # Labels
                    actions:
                        Group.refresh: true
                        Group.create_dialog: true
                        Group.update_dialog: true
                        Group.quotas_dialog: true
                        Group.delete: true
                        Group.edit_admins: true
                        Group.edit_labels: true
                        Group.menu_labels: true
                vdcs-tab:
                    panel_tabs:
                        vdc_info_tab: true
                        vdc_groups_tab: true
                        vdc_resources_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Groups
                        - 4         # Clusters
                        - 5         # Hosts
                        - 6         # VNets
                        - 7         # Datastores
                        #- 8        # Labels
                    actions:
                        Vdc.refresh: true
                        Vdc.create_dialog: true
                        Vdc.update_dialog: true
                        Vdc.rename: true
                        Vdc.delete: true
                        Vdc.edit_labels: true
                        Vdc.menu_labels: true
                acls-tab:
                    panel_tabs:
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Applies to
                        - 3         # Affected resources
                        - 4         # Resource ID / Owned by
                        - 5         # Allowed operations
                        - 6         # Zone
                        #- 7        # ACL String
                    actions:
                        Acl.refresh: true
                        Acl.create_dialog: true
                        Acl.delete: true
                templates-top-tab:
                    panel_tabs:
                    actions:
                templates-tab:
                    panel_tabs:
                        template_info_tab: true
                        template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Template.refresh: true
                        Template.create_dialog: true
                        Template.import_dialog: true
                        Template.update_dialog: true
                        Template.instantiate_vms: true
                        Template.rename: true
                        Template.chown: true
                        Template.chgrp: true
                        Template.chmod: true
                        Template.clone_dialog: true
                        Template.delete_dialog: true
                        Template.share: false
                        Template.unshare: false
                        Template.edit_labels: true
                        Template.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        actions: true
                        scheduling: true
                        hybrid: true
                        vmgroup: true
                        other: true
                oneflow-templates-tab:
                    panel_tabs:
                        service_template_info_tab: true
                        service_template_roles_tab: true
                        service_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        ServiceTemplate.refresh: true
                        ServiceTemplate.create_dialog: true
                        ServiceTemplate.update_dialog: true
                        ServiceTemplate.instantiate: true
                        ServiceTemplate.chown: true
                        ServiceTemplate.chgrp: true
                        ServiceTemplate.chmod: true
                        ServiceTemplate.rename: true
                        ServiceTemplate.clone_dialog: true
                        ServiceTemplate.delete: true
                        ServiceTemplate.edit_labels: true
                        ServiceTemplate.menu_labels: true
                vrouter-templates-tab:
                    panel_tabs:
                        vrouter_template_info_tab: true
                        vrouter_template_template_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Registration time
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        VirtualRouterTemplate.refresh: true
                        VirtualRouterTemplate.create_dialog: true
                        VirtualRouterTemplate.update_dialog: true
                        VirtualRouterTemplate.instantiate_dialog: true
                        VirtualRouterTemplate.rename: true
                        VirtualRouterTemplate.chown: true
                        VirtualRouterTemplate.chgrp: true
                        VirtualRouterTemplate.chmod: true
                        VirtualRouterTemplate.clone_dialog: true
                        VirtualRouterTemplate.delete_dialog: true
                        VirtualRouterTemplate.share: false
                        VirtualRouterTemplate.unshare: false
                        VirtualRouterTemplate.edit_labels: true
                        VirtualRouterTemplate.menu_labels: true
                    template_creation_tabs:
                        general: true
                        storage: true
                        network: true
                        os_booting: true
                        features: true
                        input_output: true
                        context: true
                        scheduling: true
                        hybrid: true
                        other: true
                instances-top-tab:
                    panel_tabs:
                    actions:
                vms-tab:
                    panel_tabs:
                        vm_info_tab: true
                        vm_capacity_tab: true
                        vm_storage_tab: true
                        vm_network_tab: true
                        vm_snapshot_tab: true
                        vm_placement_tab: true
                        vm_actions_tab: true
                        vm_conf_tab: true
                        vm_template_tab: true
                        vm_log_tab: true
                    table_columns:
                        - 0       # Checkbox
                        - 1       # ID
                        - 2       # Name
                        - 3       # Owner
                        - 4       # Group
                        - 5       # Status
                        #- 6      # Used CPU
                        #- 7      # Used Memory
                        - 8       # Host
                        - 9       # IPs
                        #- 10     # Start Time
                        - 11      # VNC
                        #- 12     # Hidden Template
                        #- 13     # Labels
                        #- 14     # Search data
                    actions:
                        VM.refresh: true
                        VM.create_dialog: true
                        VM.rename: true
                        VM.chown: true
                        VM.chgrp: true
                        VM.chmod: true
                        VM.deploy: true
                        VM.migrate: false
                        VM.migrate_live: false
                        VM.hold: true
                        VM.release: true
                        VM.suspend: true
                        VM.resume: true
                        VM.stop: true
                        VM.recover: true
                        VM.reboot: true
                        VM.reboot_hard: true
                        VM.poweroff: true
                        VM.poweroff_hard: true
                        VM.undeploy: true
                        VM.undeploy_hard: true
                        VM.terminate: true
                        VM.terminate_hard: true
                        VM.resize: true
                        VM.attachdisk: true
                        VM.detachdisk: true
                        VM.disk_saveas: true
                        VM.disk_resize: true
                        VM.attachnic: true
                        VM.detachnic: true
                        VM.snapshot_create: true
                        VM.snapshot_revert: true
                        VM.snapshot_delete: true
                        VM.disk_snapshot_create: false
                        VM.disk_snapshot_revert: false
                        VM.disk_snapshot_delete: false
                        VM.resched: true
                        VM.unresched: true
                        VM.save_as_template: false
                        VM.updateconf: true
                        VM.edit_labels: true
                        VM.menu_labels: true
                oneflow-services-tab:
                    panel_tabs:
                        service_info_tab: true
                        service_roles_tab: true
                        service_log_tab: true
                    panel_tabs_actions:
                        service_roles_tab:
                            Role.scale: true
                            Role.hold: true
                            Role.release: true
                            Role.suspend: true
                            Role.resume: true
                            Role.stop: true
                            Role.reboot: true
                            Role.reboot_hard: true
                            Role.poweroff: true
                            Role.poweroff_hard: true
                            Role.undeploy: true
                            Role.undeploy_hard: true
                            Role.terminate: true
                            Role.terminate_hard: true
                            RoleVM.hold: true
                            RoleVM.release: true
                            RoleVM.suspend: true
                            RoleVM.resume: true
                            RoleVM.stop: true
                            RoleVM.reboot: true
                            RoleVM.reboot_hard: true
                            RoleVM.poweroff: true
                            RoleVM.poweroff_hard: true
                            RoleVM.undeploy: true
                            RoleVM.undeploy_hard: true
                            RoleVM.terminate: true
                            RoleVM.terminate_hard: true
                            RoleVM.resched: true
                            RoleVM.unresched: true
                            RoleVM.recover: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # State
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                        Service.refresh: true
                        Service.create_dialog: true
                        Service.chown: true
                        Service.chgrp: true
                        Service.chmod: true
                        Service.rename: true
                        Service.shutdown: true
                        Service.recover: true
                        Service.delete: true
                        Service.edit_labels: true
                        Service.menu_labels: true
                vrouters-tab:
                    panel_tabs:
                        virtual_router_info_tab: true
                        virtual_router_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        VirtualRouter.refresh: true
                        VirtualRouter.create_dialog: true
                        VirtualRouter.rename: true
                        VirtualRouter.chown: true
                        VirtualRouter.chgrp: true
                        VirtualRouter.chmod: true
                        VirtualRouter.delete: true
                        VirtualRouter.attachnic: true
                        VirtualRouter.detachnic: true
                        VirtualRouter.edit_labels: true
                        VirtualRouter.menu_labels: true
                infrastructure-top-tab:
                    panel_tabs:
                    actions:
                clusters-tab:
                    panel_tabs:
                        cluster_info_tab: true
                        cluster_host_tab: true
                        cluster_vnet_tab: true
                        cluster_datastore_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Hosts
                        - 4         # VNets
                        - 5         # Datastores
                        #- 6        # Labels
                    actions:
                        Cluster.refresh: true
                        Cluster.create_dialog: true
                        Cluster.update_dialog: true
                        Cluster.delete: true
                        Cluster.rename: true
                        Cluster.edit_labels: true
                        Cluster.menu_labels: true
                hosts-tab:
                    panel_tabs:
                        host_info_tab: true
                        host_monitoring_tab: true
                        host_vms_tab: true
                        host_wilds_tab: true
                        host_zombies_tab: true
                        host_esx_tab: true
                        host_pci_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Cluster
                        - 4         # RVMs
                        #- 5        # Real CPU
                        - 6         # Allocated CPU
                        #- 7        # Real MEM
                        - 8         # Allocated MEM
                        - 9         # Status
                        #- 10       # IM MAD
                        #- 11       # VM MAD
                        #- 12       # Last monitored on
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Host.refresh: true
                        Host.create_dialog: true
                        Host.addtocluster: true
                        Host.rename: true
                        Host.enable: true
                        Host.disable: true
                        Host.offline: true
                        Host.delete: true
                        Host.edit_labels: true
                        Host.menu_labels: true
                zones-tab:
                    panel_tabs:
                        zone_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Endpoint
                        #- 4        # Labels
                    actions:
                        Zone.refresh: true
                        Zone.create_dialog: true
                        Zone.rename: true
                        Zone.delete: true
                        Zone.edit_labels: true
                        Zone.menu_labels: true
                storage-top-tab:
                    panel_tabs:
                    actions:
                datastores-tab:
                    panel_tabs:
                        datastore_info_tab: true
                        datastore_image_tab: true
                        datastore_clusters_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Cluster
                        #- 7        # Basepath
                        #- 8        # TM
                        #- 9        # DS
                        - 10        # Type
                        - 11        # Status
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        Datastore.refresh: true
                        Datastore.create_dialog: false
                        Datastore.import_dialog: true
                        Datastore.addtocluster: true
                        Datastore.rename: true
                        Datastore.chown: true
                        Datastore.chgrp: true
                        Datastore.chmod: true
                        Datastore.delete: true
                        Datastore.enable: true
                        Datastore.disable: true
                        Datastore.edit_labels: true
                        Datastore.menu_labels: true
                images-tab:
                    panel_tabs:
                        image_info_tab: true
                        image_vms_tab: true
                        image_snapshots_tab: false
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        - 11        # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        Image.refresh: true
                        Image.create_dialog: true
                        Image.import_dialog: true
                        Image.upload_marketplace_dialog: false
                        Image.rename: true
                        Image.chown: true
                        Image.chgrp: true
                        Image.chmod: true
                        Image.enable: true
                        Image.disable: true
                        Image.persistent: true
                        Image.nonpersistent: true
                        Image.clone_dialog: true
                        Image.delete: true
                        Image.snapshot_flatten: false
                        Image.snapshot_revert: false
                        Image.snapshot_delete: false
                        Image.edit_labels: true
                        Image.menu_labels: true
                files-tab:
                    panel_tabs:
                        file_info_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Datastore
                        #- 6        # Size
                        - 7         # Type
                        #- 8        # Registration time
                        #- 9        # Persistent
                        - 10        # Status
                        #- 11       # #VMs
                        #- 12       # Target
                        #- 13       # Labels
                        #- 14       # Search data
                    actions:
                        File.refresh: true
                        File.create_dialog: true
                        File.rename: true
                        File.chown: true
                        File.chgrp: true
                        File.chmod: true
                        File.enable: true
                        File.disable: true
                        File.delete: true
                        File.edit_labels: true
                        File.menu_labels: true
                marketplaces-tab:
                    panel_tabs:
                        marketplace_info_tab: true
                        marketplace_apps_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Capacity
                        - 6         # Apps
                        - 7         # Driver
                        - 8         # Zone
                        #- 9        # Labels
                        #- 10       # Search data
                    actions:
                        MarketPlace.refresh: true
                        MarketPlace.create_dialog: true
                        MarketPlace.update_dialog: true
                        MarketPlace.rename: true
                        MarketPlace.chown: true
                        MarketPlace.chgrp: true
                        MarketPlace.chmod: true
                        MarketPlace.delete: true
                        MarketPlace.edit_labels: true
                        MarketPlace.menu_labels: true
                marketplaceapps-tab:
                    panel_tabs:
                        marketplaceapp_info_tab: true
                        marketplaceapp_templates_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Version
                        - 6         # Size
                        - 7         # State
                        #- 8        # Type
                        - 9         # Registration
                        - 10        # Marketplace
                        - 11        # Zone
                        #- 12       # Labels
                        #- 13       # Search data
                    actions:
                        MarketPlaceApp.refresh: true
                        MarketPlaceApp.create_dialog: true
                        MarketPlaceApp.download_opennebula_dialog: true
                        MarketPlaceApp.download_local: true
                        MarketPlaceApp.rename: true
                        MarketPlaceApp.chown: true
                        MarketPlaceApp.chgrp: true
                        MarketPlaceApp.chmod: true
                        MarketPlaceApp.enable: true
                        MarketPlaceApp.disable: true
                        MarketPlaceApp.delete: true
                        MarketPlaceApp.edit_labels: true
                        MarketPlaceApp.menu_labels: true
                network-top-tab:
                    panel_tabs:
                    actions:
                vnets-tab:
                    panel_tabs:
                        vnet_info_tab: true
                        vnet_ar_list_tab: true
                        vnet_leases_tab: true
                        vnet_sg_list_tab: false
                        vnet_vr_list_tab: true
                        vnet_clusters_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Reservation
                        - 6         # Cluster
                        #- 7        # Bridge
                        - 8         # Leases
                        #- 9        # VLAN ID
                        #- 10       # Labels
                        #- 11       # Search data
                    actions:
                        Network.refresh: true
                        Network.create_dialog: true
                        Network.import_dialog: true
                        Network.update_dialog: true
                        Network.reserve_dialog: true
                        Network.addtocluster: true
                        Network.rename: true
                        Network.chown: true
                        Network.chgrp: true
                        Network.chmod: true
                        Network.delete: true
                        Network.hold_lease: true
                        Network.release_lease: true
                        Network.add_ar: true
                        Network.remove_ar: true
                        Network.update_ar: true
                        Network.edit_labels: true
                        Network.menu_labels: true
                vnets-topology-tab:
                    panel_tabs:
                    actions:
                        NetworkTopology.refresh: true
                        NetworkTopology.fit: true
                        NetworkTopology.collapseVMs: true
                        NetworkTopology.openVMs: true
                secgroups-tab:
                    panel_tabs:
                        security_group_info_tab: true
                        security_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        #- 5        # Labels
                        #- 6        # Search data
                    actions:
                        SecurityGroup.refresh: true
                        SecurityGroup.create_dialog: true
                        SecurityGroup.update_dialog: true
                        SecurityGroup.rename: true
                        SecurityGroup.chown: true
                        SecurityGroup.chgrp: true
                        SecurityGroup.chmod: true
                        SecurityGroup.clone_dialog: true
                        SecurityGroup.commit_dialog: true
                        SecurityGroup.delete: true
                        SecurityGroup.edit_labels: true
                        SecurityGroup.menu_labels: true
                support-tab:
                    panel_tabs:
                        support_info_tab: true
                    table_columns:
                        #- 0        # Checkbox
                        - 1         # ID
                        - 2         # Subject
                        - 3         # Created at
                        - 4         # Status
                    actions:
                        Support.refresh: true
                        Support.create_dialog: true
                settings-tab:
                    panel_tabs:
                        settings_info_tab: true
                        settings_config_tab: false
                        settings_quotas_tab: true
                        settings_group_quotas_tab: true
                        settings_accounting_tab: true
                        settings_showback_tab: true
                        settings_auth_tab: true
                    actions:
                        # Buttons for settings_info_tab
                        User.update_password: true
                        User.login_token: true
                        # Buttons for settings_config_tab
                        Settings.change_language: true
                        Settings.change_password: true
                        Settings.change_view: true
                        Settings.ssh_key: true
                        Settings.login_token: true
                        # Edit button in settings_quotas_tab
                        User.quotas_dialog: false
                upgrade-top-tab:
                    panel_tabs:
                    actions:
                vmgroup-tab:
                    panel_tabs:
                        vm_group_info_tab: true
                        vm_group_vms_tab: true
                    table_columns:
                        - 0         # Checkbox
                        - 1         # ID
                        - 2         # Name
                        - 3         # Owner
                        - 4         # Group
                        - 5         # Vms
                        #- 6        # Labels
                        #- 7        # Search data
                    actions:
                       VMGroup.create_dialog: true
                       VMGroup.update_dialog: true
                       VMGroup.chmod: true
                       VMGroup.chown: true
                       VMGroup.chgrp: true
    "/etc/one/sunstone-views.yaml":
        class: Yaml
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            ---
            logo: images/opennebula-5.0.png
            groups:
                oneadmin:
                    - admin
                    - admin_vcenter
                    - groupadmin
                    - groupadmin_vcenter
                    - user
                    - cloud
                    - cloud_vcenter
            default:
                - cloud
            default_groupadmin:
                - groupadmin
                - cloud
            labels_groups:
                default:
    "/etc/one/tmrc":
        class: Augeas::Shell
        owner: root
        group: oneadmin
        mode: '0640'
        content: |+
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project (OpenNebula.org), C12G Labs        #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            #-------------------------------------------------------------------------------
            # Global environment configuration file for TM MADS
            # --------------------------------------------------------
            #
            # This file is sourced before TM MAD is started. Also the variables
            # declared here are "exported".
            #
            # This file MUST preserve SH syntax
            #-------------------------------------------------------------------------------

            # Options sent to qemu-img for clone images
            #QCOW2_OPTIONS="-o compat=0.10"

    "/etc/one/vmm_exec/vmm_exec_kvm.conf":
        class: Augeas::ONE
        owner: root
        group: oneadmin
        mode: '0640'
        content: |+
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            # Default configuration attributes for the KVM driver
            # (all domains will use these values as defaults).  These values can
            # be overridden in each VM template. Valid atributes are:
            #  - emulator
            #  - os [kernel,initrd,boot,root,kernel_cmd,arch,machine]
            #  - vcpu
            #  - features [acpi, pae, apic, hyperv, localtime, guest_agent, virtio_scsi_queues]
            #  - disk [driver, cache, io, discard, total_bytes_sec, total_iops_sec, read_bytes_sec, write_bytes_sec, read_iops_sec, write_iops_sec]
            #  - nic  [filter, model]
            #  - raw
            #  - hyperv_options: options used for FEATURES = [ HYPERV = yes ]
            # NOTE: raw attribute value is appended to that on the VM template

            #EMULATOR = /usr/libexec/qemu-kvm

            #VCPU = 1

            OS       = [ arch = "x86_64" ]
            FEATURES = [ PAE = "no", ACPI = "yes", APIC = "no", HYPERV = "no", GUEST_AGENT = "no",
                         VIRTIO_SCSI_QUEUES = "0" ]

            DISK     = [ driver = "raw" , cache = "none"]

            #NIC     = [ filter = "clean-traffic", model="virtio" ]
            #RAW     = "<devices><serial type=\"pty\"><source path=\"/dev/pts/5\"/><target port=\"0\"/></serial><console type=\"pty\" tty=\"/dev/pts/5\"><source path=\"/dev/pts/5\"/><target port=\"0\"/></console></devices>"

            HYPERV_OPTIONS="<relaxed state='on'/><vapic state='on'/><spinlocks state='on' retries='4096'/>"

            SPICE_OPTIONS="
                <video>
                    <model type='qxl' heads='1'/>
                </video>
                     <sound model='ich6' />
                <channel type='spicevmc'>
                    <target type='virtio' name='com.redhat.spice.0'/>
                </channel>
                <redirdev bus='usb' type='spicevmc'/>
                <redirdev bus='usb' type='spicevmc'/>
                <redirdev bus='usb' type='spicevmc'/>"

    "/etc/one/vmm_exec/vmm_execrc":
        class: Augeas::Shell
        owner: root
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            # Space separated list of VMM-TM pairs that support live disk snapshots. VMM
            # and TM must be separated by '-'
            LIVE_DISK_SNAPSHOTS="kvm-qcow2 kvm-ceph"
    "/etc/one/vmm_exec/vmm_exec_vcenter.conf":
        class: Augeas::ONE
        owner: root
        group: oneadmin
        mode: '0640'
        content: |+
            # ---------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                  #
            #                                                                              #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may      #
            # not use this file except in compliance with the License. You may obtain      #
            # a copy of the License at                                                     #
            #                                                                              #
            # http://www.apache.org/licenses/LICENSE-2.0                                   #
            #                                                                              #
            # Unless required by applicable law or agreed to in writing, software          #
            # distributed under the License is distributed on an "AS IS" BASIS,            #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.     #
            # See the License for the specific language governing permissions and          #
            # limitations under the License.                                               #
            # ---------------------------------------------------------------------------- #

            # Default configuration attributes for the vCenter driver
            # (all domains will use these values as defaults)
            # Valid atributes:
            #  - nic[model]

            NIC=[MODEL="VirtualE1000"]

    "/var/lib/one/remotes/datastore/ceph/ceph.conf":
        class: Augeas::Shell
        owner: oneadmin
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            # Default POOL_NAME
            POOL_NAME=one

            # Staging directory
            #   A directory in the Ceph server host where image will be transferred to
            #   temporarily during the create/mkfs processes. This directoy MUST exist,
            #   have enough space and be writeable by 'oneadmin'
            STAGING_DIR=/var/tmp

            # Default RBD_FORMAT. By default RBD format 1 will be used. Uncomment the
            # following options to enable support for RBD 2. This value affects all the ceph
            # datastores, however it can be enabled per ceph datastore using the same
            # option in the datastore template
            RBD_FORMAT=2
    "/var/lib/one/remotes/vmm/kvm/kvmrc":
        class: Augeas::Shell
        owner: oneadmin
        group: oneadmin
        mode: '0640'
        content: |
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            export LANG=C

            export LIBVIRT_URI=qemu:///system

            export QEMU_PROTOCOL=qemu+ssh

            # Seconds to wait after shutdown until timeout
            export SHUTDOWN_TIMEOUT=300

            # Uncomment this line to force VM cancellation after shutdown timeout
            #export FORCE_DESTROY=yes

            # Uncomment this line to force VM's without ACPI enabled to be destroyed
            # on shutdown
            #CANCEL_NO_ACPI=yes

            # This parameter will set the default cache type for new attached disks. It
            # will be used in case the attached disk does not have an specific cache
            # method set (can be set using templates when attaching a disk).
            #DEFAULT_ATTACH_CACHE=none

            # Uncomment this line to set options for the virsh migrate command
            #MIGRATE_OPTIONS=--unsafe

            # IDE and SCSI disks always have the ability to issue "discard"
            # (aka TRIM or UNMAP) commands. However, by default "discard" commands are
            # silently ignored as they can cause performance degradation and fragmentation.
            # To enable them, the "-drive" option now supports a "discard" suboption; the
            # default value is "ignore" (or its synonym "off"), and the other valid value
            # is "unmap" (or "on").
            #DEFAULT_ATTACH_DISCARD=unmap

            # This parameters will set the default NIC model and filter for
            # the hot-attached interfaces.
            #DEFAULT_ATTACH_NIC_MODEL=virtio
            #DEFAULT_ATTACH_NIC_FILTER=clean-traffic
    "/var/lib/one/remotes/vnm/OpenNebulaNetwork.conf":
        class: Yaml
        owner: oneadmin
        group: oneadmin
        mode: '0640'
        content: |+
            # -------------------------------------------------------------------------- #
            # Copyright 2002-2025, OpenNebula Project, OpenNebula Systems                #
            #                                                                            #
            # Licensed under the Apache License, Version 2.0 (the "License"); you may    #
            # not use this file except in compliance with the License. You may obtain    #
            # a copy of the License at                                                   #
            #                                                                            #
            # http://www.apache.org/licenses/LICENSE-2.0                                 #
            #                                                                            #
            # Unless required by applicable law or agreed to in writing, software        #
            # distributed under the License is distributed on an "AS IS" BASIS,          #
            # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   #
            # See the License for the specific language governing permissions and        #
            # limitations under the License.                                             #
            #--------------------------------------------------------------------------- #

            ################################################################################
            # Overriding Options in Network Template
            ################################################################################
            #
            # Option can be overridden or added per network using this format
            # in the network template:
            #
            #     CONF="vxlan_mc=239.0.100.0,test=false,validate_vlan_id=true"
            #     BRIDGE_CONF="sethello=6"
            #     IP_LINK_CONF="tos=10,udpcsum=,udp6zerocsumrx=__delete__"
            #
            # Options can have empty value when they don't need a parameter. Also the
            # special value "__delete__" can be used to delete parameters set here.

            # Set to true to check that no other vlans are connected to the bridge.
            # Works with 802.1Q and VXLAN.
            :validate_vlan_id: false

            ################################################################################
            # Open vSwitch Options
            ################################################################################

            # Enable ARP Cache Poisoning Prevention Rules
            :arp_cache_poisoning: true

            ################################################################################
            # 802.1Q Options
            ################################################################################

            # Default MTU for the 802.1Q interface
            :vlan_mtu: 1500

            ################################################################################
            # VXLAN Options
            ################################################################################

            # Base multicast address for each VLAN. The mc address is :vxlan_mc + :vlan_id
            :vxlan_mc: 239.0.0.0
            # Time To Live (TTL) should be > 1 in routed multicast networks (IGMP)
            :vxlan_ttl: 16
            # Default MTU for the VXLAN interface
            :vxlan_mtu: 1500


            ################################################################################
            # Bridge and Interface Creation Options
            ################################################################################

            # These options will execute brctl commands with these values. For example,
            # this option will execute:
            #
            #     brctl stp <bridge name> on
            #
            # :bridge_conf:
            #     :stp: on


            # These options will be added to the ip link add command. For example:
            #
            #     sudo ip link add lxcbr0.260  type vxlan id 260 group 239.0.101.4 \
            #       ttl 16 dev lxcbr0 udp6zerocsumrx  tos 3
            #
            # :ip_link_conf:
            #     :udp6zerocsumrx:
            #     :tos: 3

