---
# Hosts to be deployed in Packet and created in OpenNebula
hosts:
  - reserved_cpu: "100"
    im_mad: "kvm"
    vm_mad: "kvm"
    provision:
      hostname: "centos-host"
      os: "centos_7"

#  - reserved_cpu: "100"
#    im_mad: "kvm"
#    vm_mad: "kvm"
#    provision:
#      hostname: "ubuntu-host"
#      os: "ubuntu_18_04"

# Datastores to be created in OpenNebula
datastores:
  - name: "image-defaultds"
    ds_mad: "fs"
    tm_mad: "ssh"

  - name: "system-defaultds"
    type: "system_ds"
    tm_mad: "ssh"

networks:
  # Network to be created in OpenNebula
  - name: "private"
    vn_mad: "dummy"
    bridge: "vxbr100"
    mtu: "1450"
    description: "Private networking"
    ar:
      - ip: "192.168.160.2"
        size: "253"
        type: "IP4"

  # Network to be deployed in Packet and created in OpenNebula
  - name: "public"
    vn_mad: "alias_sdnat"
    bridge: "vxbr101"
    external: "yes"
    description: "Public networking"
    ar:
      - size: "4"
        type: "IP4"
        ipam_mad: "packet"
        packet_ip_type: "public_ipv4"
        facility: "ams1"
        packet_token: "********************************"
        packet_project: "******************************"
