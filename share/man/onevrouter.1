.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "ONEVROUTER" "1" "July 2016" "" "onevrouter(1) -- manages OpenNebula Virtual Routers"
.
.SH "NAME"
\fBonevrouter\fR \- manages OpenNebula Virtual Routers
.
.SH "SYNOPSIS"
\fBonevrouter\fR \fIcommand\fR [\fIargs\fR] [\fIoptions\fR]
.
.SH "OPTIONS"
.
.nf

 \-\-name name               Name of the new VM or TEMPLATE\. When
                           instantiating multiple VMs you can use the "%i"
                           wildcard to produce different names such as
                           vm\-0, vm\-1\.\.\.
 \-m, \-\-multiple x          Instance multiple VMs
 \-\-hold                    Creates the new VM on hold state instead of
                           pending
 \-\-cpu cpu                 CPU percentage reserved for the VM (1=100% one
                           CPU)
 \-\-vcpu vcpu               Number of virtualized CPUs
 \-\-arch arch               Architecture of the VM, e\.g\.: i386 or x86_64
 \-\-memory memory           Memory amount given to the VM\. By default the
                           unit is megabytes\. To use gigabytes add a \'g\',
                           floats can be used: 8g=8192, 0\.5g=512
 \-\-disk image0,image1      Disks to attach\. To use an image owned by other
                           user use user[disk]\. Add any additional
                           attributes separated by \':\' and in the shape of
                           KEY=VALUE\. For example, if the disk must be
                           resized, use image0:size=1000 \. Or
                           image0:size=1000:target=vda,image1:target=vdb
 \-\-nic network0,network1   Networks to attach\. To use a network owned by
                           other user use user[network]\. Additional
                           attributes are supported like with the \-\-disk
                           option\.
 \-\-raw string              Raw string to add to the template\. Not to be
                           confused with the RAW attribute
 \-\-vnc                     Add VNC server to the VM
 \-\-vnc\-password password   VNC password
 \-\-vnc\-listen ip           VNC IP where to listen for connections\. By
                           default is 0\.0\.0\.0 (all interfaces)\.
 \-\-vnc\-keymap keymap       VNC keyboard layout
 \-\-spice                   Add spice server to the VM
 \-\-spice\-password password spice password
 \-\-spice\-listen ip         spice IP where to listen for connections\. By
                           default is 0\.0\.0\.0 (all interfaces)\.
 \-\-spice\-keymap keymap     spice keyboard layout
 \-\-ssh [file]              Add an ssh public key to the context\. If the file
                           is omited then the user variable SSH_PUBLIC_KEY
                           will be used\.
 \-\-net_context             Add network contextualization parameters
 \-\-context line1,line2,line3 Lines to add to the context section
 \-\-boot device_list        Set boot device list e\.g\. disk0,disk2,nic0
 \-\-files_ds file1,file2    Add files to the contextualization CD from
                           thefiles datastore
 \-\-init script1,script2    Script or scripts to start in context
 \-\-startscript [file]      Start script to be executed
 \-\-report_ready            Sends READY=YES to OneGate, useful for OneFlow
 \-a, \-\-append              Append new attributes to the current template
 \-f, \-\-file file           Selects the template file
 \-n, \-\-network id|name     Selects the virtual network
 \-i, \-\-ip ip               IP address for the new NIC
 \-\-float                   Makes this IP request a Floating one
 \-l, \-\-list x,y,z          Selects columns to display with list command
 \-d, \-\-delay x             Sets the delay in seconds for top command
 \-f, \-\-filter x,y,z        Filter data\. An array is specified with
                           column=value pairs\.
 \-\-csv                     Write table in csv format
 \-x, \-\-xml                 Show the resource in xml format
 \-n, \-\-numeric             Do not translate user and group IDs
 \-\-describe                Describe list columns
 \-\-all                     Show all template data
 \-v, \-\-verbose             Verbose mode
 \-h, \-\-help                Show this message
 \-V, \-\-version             Show version and copyright information
 \-\-user name               User name used to connect to OpenNebula
 \-\-password password       Password to authenticate with OpenNebula
 \-\-endpoint endpoint       URL of OpenNebula xmlrpc frontend
.
.fi
.
.SH "COMMANDS"
.
.IP "\(bu" 4
create \fIfile\fR Creates a new Virtual Router from the given description
.
.IP "\(bu" 4
instantiate \fIvrouterid\fR \fItemplateid\fR [\fIfile\fR] Creates a new VM instance from the given Template\. This VM can be managed with the \'onevm\' command\.
.
.IP "" 4
.
.nf

The NIC elements defined in the Virtual Router will be used\. The
source Template can be modified adding or replacing attributes with
the optional file argument, or with the options\.
valid options: name, multiple, hold, cpu, vcpu, arch, memory, disk, nic, raw, vnc, vnc_password, vnc_listen, vnc_keymap, spice, spice_password, spice_listen, spice_keymap, ssh, net_context, context, boot, files_ds, init, startscript, report_ready
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
delete \fIrange|vrouterid_list\fR Deletes the given Virtual Router
.
.IP "\(bu" 4
chgrp \fIrange|vrouterid_list\fR \fIgroupid\fR Changes the Virtual Router group
.
.IP "\(bu" 4
chown \fIrange|vrouterid_list\fR \fIuserid\fR [\fIgroupid\fR] Changes the Virtual Router owner and group
.
.IP "\(bu" 4
chmod \fIrange|vrouterid_list\fR \fIoctet\fR Changes the Virtual Router permissions
.
.IP "\(bu" 4
update \fIvrouterid\fR [\fIfile\fR] Update the Virtual Router contents\. If a path is not provided the editor will be launched to modify the current content\. valid options: append
.
.IP "\(bu" 4
rename \fIvrouterid\fR \fIname\fR Renames the Virtual Router
.
.IP "\(bu" 4
nic\-attach \fIvrouterid\fR Attaches a NIC to a VirtualRouter, and each one of its VMs\. When using \-\-file add only one NIC instance\.
.
.IP "" 4
.
.nf

Note if you are using a HA configuration for this router, \-\-float can be
added\. When an IP is requested in HA clusters use \-\-float\.
valid options: file, network, ip, float
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
nic\-detach \fIvrouterid\fR \fInicid\fR Detaches a NIC from a VirtualRouter, and each one of its VMs
.
.IP "\(bu" 4
list [\fIfilterflag\fR] Lists the Virtual Routers in the pool valid options: list, delay, filter, csv, xml, numeric, describe
.
.IP "\(bu" 4
show \fIvrouterid\fR Shows information for the given Virtual Router valid options: xml, all
.
.IP "\(bu" 4
top [\fIfilterflag\fR] Lists Virtual Routers continuously valid options: list, delay, filter, csv, xml, numeric, describe
.
.IP "" 0
.
.SH "ARGUMENT FORMATS"
.
.IP "\(bu" 4
file Path to a file
.
.IP "\(bu" 4
range List of id\'s in the form 1,8\.\.15
.
.IP "\(bu" 4
text String
.
.IP "\(bu" 4
groupid OpenNebula GROUP name or id
.
.IP "\(bu" 4
userid OpenNebula USER name or id
.
.IP "\(bu" 4
vrouterid OpenNebula VROUTER name or id
.
.IP "\(bu" 4
vrouterid_list Comma\-separated list of OpenNebula VROUTER names or ids
.
.IP "\(bu" 4
filterflag a, all all the known VROUTERs m, mine the VROUTER belonging to the user in ONE_AUTH g, group \'mine\' plus the VROUTER belonging to the groups the user is member of uid VROUTER of the user identified by this uid user VROUTER of the user identified by the username
.
.IP "\(bu" 4
templateid OpenNebula VMTEMPLATE name or id
.
.IP "" 0
.
.SH "LICENSE"
OpenNebula 5\.0\.2 Copyright 2002\-2016, OpenNebula Project, OpenNebula Systems
.
.P
Licensed under the Apache License, Version 2\.0 (the "License"); you may not use this file except in compliance with the License\. You may obtain a copy of the License at http://www\.apache\.org/licenses/LICENSE\-2\.0
