.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "ONEDB" "1" "April 2012" "" "onedb(1) -- OpenNebula database migration tool"
.
.SH "NAME"
\fBonedb\fR
.
.P
This command enables the user to manage the OpenNebula database\. It provides information about the DB version, means to upgrade it to the latest version, and backup tools\.
.
.SH "OPTIONS"
.
.nf

 \-f, \-\-force               Forces the backup even if the DB exists
 \-b, \-\-backup file         Use this file to store SQL dump
 \-v, \-\-verbose             Verbose mode
 \-h, \-\-help                Show this message
 \-V, \-\-version             Show version and copyright information
 \-s, \-\-sqlite file         SQLite DB file
 \-S, \-\-server host         MySQL server hostname or IP\. Defaults to localhost
 \-P, \-\-port port           MySQL server port\. Defaults to 3306
 \-u, \-\-username user       MySQL username
 \-p, \-\-password pass       MySQL password\. Leave unset to be prompted for it
 \-d, \-\-dbname dbname       MySQL DB name for OpenNebula
.
.fi
.
.SH "COMMANDS"
.
.IP "\(bu" 4
backup [\fIoutput_file\fR]
.
.IP "" 4
.
.nf

Dumps the DB to a file specified in the argument
valid options: force
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
version
.
.IP "" 4
.
.nf

Prints the current DB version\.
Use \-v flag to see also OpenNebula version
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
history
.
.IP "" 4
.
.nf

Prints the upgrades history
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
restore [\fIbackup_file\fR]
.
.IP "" 4
.
.nf

Restores the DB from a backup file\. Only restores backups generated
from the same backend (SQLite or MySQL)
valid options: force
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
upgrade [\fIversion\fR]
.
.IP "" 4
.
.nf

Upgrades the DB to the latest version
where <version> : DB version (e\.g\. 1, 3) to upgrade\.
                  By default the DB is upgraded to the latest version
valid options: force, backup
.
.fi
.
.IP "" 0

.
.IP "" 0
.
.SH "ARGUMENT FORMATS"
.
.IP "\(bu" 4
file
.
.IP "" 4
.
.nf

Path to a file
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
range
.
.IP "" 4
.
.nf

List of id\'s in the form 1,8\.\.15
.
.fi
.
.IP "" 0

.
.IP "\(bu" 4
text
.
.IP "" 4
.
.nf

String
.
.fi
.
.IP "" 0

.
.IP "" 0

